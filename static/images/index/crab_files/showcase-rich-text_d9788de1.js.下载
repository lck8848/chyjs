(window.wpJsonpH5Components=window.wpJsonpH5Components||[]).push([[74],{"8/5z":function(t,e,n){"use strict";e.a={pc:"https://www.youzan.com",wap:"https://h5.youzan.com/v2",h5:"https://h5.youzan.com",trade:"https://trade.youzan.com",uic:"https://uic.youzan.com",cdn_image:"https://img.yzcdn.cn"}},"A/2y":function(t,e,n){t.exports=n("s159")("A/2y")},Dxe3:function(t,e,n){"use strict";n.r(e);n("2B1R"),n("+2oP"),n("WTq4"),n("QWBl"),n("rB9j"),n("UxlC"),n("FZtP");var r=n("wMS7"),i=n.n(r),o=n("zXJe"),a=n.n(o),l=n("8/5z"),c=(n("cxzB"),"public_files/2016/04/07/705325469e746adee19e1d5b5cdaebb7.jpg"),s={ADD_TAGS:["iframe"]},p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:["cap-richtext",{"cap-richtext--fullscreen":this.fullscreen}],style:this.richtextStyle,domProps:{innerHTML:this._s(this.realContent)}})},staticRenderFns:[],name:"cap-rich-text",props:{fullscreen:{type:Boolean,default:!1},color:{type:String,default:"#ffffff"},content:{type:String,default:""},urlMap:{type:Object,default:function(){return l.a}},strictMode:{type:Boolean,default:!1},isPreview:Boolean},computed:{richtextStyle:function(){return{"background-color":this.color}},realContent:function(){if(this.isPreview)return this.content;var t=this.dompurify(this.content),e=this.xssEscapedHtml(t),n=this.videoToHttps(e),r=this.imgWithoutSize(n),i=this.lazyload(r);return this.qqVideoToHttps(i)}},mounted:function(){var t=Array.prototype.slice.call(document.querySelectorAll(".edui-faked-video"));if(t.length){var e=Math.floor(.75*t[0].getBoundingClientRect().width);t.forEach((function(t){t.style.height=e+"px"}))}},methods:{dompurify:function(t){i.a.addHook("afterSanitizeAttributes",(function(t){t.tagName&&"IFRAME"===t.tagName&&t.setAttribute("sandbox","allow-scripts allow-same-origin")}));var e=this.strictMode?{}:s;return i.a.sanitize(t,e)},xssEscapedHtml:function(t){return t.replace(/\&lt\;(\s*|\/)script/gi,"<span><</span>$1script")},videoToHttps:function(t){var e='<a class="video-link" target="_blank" href="${1}"><img src="'+a()("public_files/2015/09/10/04eeb56eb29cbfbe29d67042be4d21ed.jpg","",this.urlMap)+'"></a>';return t.replace(/<iframe\s+class=\"edui-faked-video\"\s+src=\"((https?:\/\/)?([\da-z\.-]+)\.youku\.com([\/\w \.-=]*)*)\"[^>]*><\/iframe>/gi,e)},imgWithoutSize:function(t){return t.replace(/(<img[^>]*)\sheight=".*?"(.*?>)/gi,"$1$2")},lazyload:function(t){var e=t.replace(/<img src=/g,'<img class="js-richtext-lazy-img" src="'+a()(c,"",this.urlMap)+'" data-src=');return e=e.replace(/<img\s(data-origin-width=\"[\d\.]*?\"\sdata-origin-height=\"[\d\.]*?\")\ssrc=/g,'<img $1 class="js-richtext-lazy-img" src="'+a()(c,"",this.urlMap)+'" data-src=')},qqVideoToHttps:function(t){var e=t.replace(/<iframe class="edui-faked-video" src="http:\/\//g,'<iframe class="edui-faked-video" src="https://').replace(/http:\/\/dn-kdt-img.qbox.me\/upload_files/g,"https://dn-kdt-img.qbox.me/upload_files");return e=e.replace(/http:\/\/img.yzcdn.cn\/upload_files/g,"https://img.yzcdn.cn/upload_files")}}},d=n("A/2y"),u=n.n(d),f=(n("yXV3"),["kuaishou","momo","qq"]);function m(){var t,e=(void 0===(t=window._global.platformInfo)?{platform:"unknown"}:t).platform;return f.indexOf(e)>-1}var h,g=n("3Cg9"),y={name:"showcase-rich-text",components:(h={},h[p.name]=p,h),mixins:[g.a],data:function(){var t=this.componentData,e=t.fullscreen;return{color:t.color,fullscreen:1==+e,imgs:[],isPreview:!1,strictMode:m()}},computed:{content:function(){return this.componentData.content}},mounted:function(){var t=this;u()(this.$el).on("click",".js-richtext-lazy-img",(function(e){if(window.wx){var n=e.target;if(!t.isParentHasLink(n)){if(!t.imgs.length){var r=Array.prototype.slice.call(t.$el.querySelectorAll(".js-richtext-lazy-img"));t.imgs=r.map((function(t){return t.getAttribute("data-src")}))}window.wx.previewImage({current:n.getAttribute("src"),urls:t.imgs})}}}))},methods:{isParentHasLink:function(t){var e=this.getClosestLink(t);return this.isValidLink(e)},getClosestLink:function(t){for(var e=t.parentNode;e&&!this.isLink(e);)e=e.nodeType!==e.DOCUMENT_NODE&&e.parentNode;return e},isLink:function(t){return t&&t.nodeName&&"A"===t.nodeName.toUpperCase()},isValidLink:function(t){if(!t)return!1;var e=t.getAttribute("href");return e&&/^(http|tel|mailto|#)/i.test(e)}}},b=n("KHd+"),v=Object(b.a)(y,(function(){var t=this.$createElement;return(this._self._c||t)("cap-rich-text",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:".js-richtext-lazy-img",loading:"https://img.yzcdn.cn/public_files/2016/04/07/705325469e746adee19e1d5b5cdaebb7.jpg"},expression:"{ selector: '.js-richtext-lazy-img', loading: 'https://img.yzcdn.cn/public_files/2016/04/07/705325469e746adee19e1d5b5cdaebb7.jpg' }"}],attrs:{content:this.content,fullscreen:this.fullscreen,color:this.color,"is-preview":this.isPreview,"strict-mode":this.strictMode}})}),[],!1,null,null,null);e.default=v.exports},WTq4:function(t,e){},afla:function(t,e,n){(e=n("JPst")(!1)).push([t.i,'@charset "UTF-8";.h5-cpns-style .cap-richtext{position:relative;box-sizing:border-box;padding:0 10px;padding-top:10px;overflow:hidden;color:#333;font-size:16px;line-height:1.5;text-align:left;word-wrap:break-word}.h5-cpns-style .cap-richtext img+br{display:block;padding:4px 0;content:" "}.h5-cpns-style .cap-richtext p{margin:0 0 1em}.h5-cpns-style .cap-richtext .Powered-by-XIUMI p{margin:0}.h5-cpns-style .cap-richtext a{color:#07d}.h5-cpns-style .cap-richtext img{width:auto!important;max-width:100%!important;min-height:1px;vertical-align:bottom;background:0 0}.h5-cpns-style .cap-richtext ol{width:auto!important}.h5-cpns-style .cap-richtext blockquote{margin:0 0 18px;padding:0 0 0 15px;border-left:5px solid #eee}.h5-cpns-style .cap-richtext em,.h5-cpns-style .cap-richtext i{font-style:italic}.h5-cpns-style .cap-richtext b,.h5-cpns-style .cap-richtext strong{font-weight:700}.h5-cpns-style .cap-richtext .selectTdClass{background-color:#edf5fa!important}.h5-cpns-style .cap-richtext table.noBorderTable caption,.h5-cpns-style .cap-richtext table.noBorderTable td,.h5-cpns-style .cap-richtext table.noBorderTable th{border:1px dashed #ddd!important}.h5-cpns-style .cap-richtext table{display:table;width:auto!important;margin:0 auto;margin-bottom:10px;border-collapse:collapse}.h5-cpns-style .cap-richtext td,.h5-cpns-style .cap-richtext th{padding:5px 10px;border:1px solid #ddd}.h5-cpns-style .cap-richtext caption{padding:3px;text-align:center;border:1px dashed #ddd;border-bottom:0}.h5-cpns-style .cap-richtext th{background:#f7f7f7;border-top:2px solid #bbb}.h5-cpns-style .cap-richtext .ue-table-interlace-color-single{background-color:#fcfcfc}.h5-cpns-style .cap-richtext .ue-table-interlace-color-double{background-color:#f7faff}.h5-cpns-style .cap-richtext td p{margin:0;padding:0}.h5-cpns-style .cap-richtext .bottom-floating-banner{position:fixed!important;bottom:0}.h5-cpns-style .cap-richtext .list-paddingleft-2{padding-left:30px}.h5-cpns-style .cap-richtext--fullscreen{margin-top:0;padding:0}.h5-cpns-style .cap-richtext .edui-faked-video{width:100%}',""]),t.exports=e},cxzB:function(t,e,n){var r=n("LboF"),i=n("afla");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},wMS7:function(t,e,n){var r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";var t=Object.hasOwnProperty,e=Object.setPrototypeOf,n=Object.isFrozen,r=Object.keys,i=Object.freeze,o=Object.seal,l="undefined"!=typeof Reflect&&Reflect,c=l.apply,s=l.construct;c||(c=function(t,e,n){return t.apply(e,n)}),i||(i=function(t){return t}),o||(o=function(t){return t}),s||(s=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))))});var p=k(Array.prototype.forEach),d=k(Array.prototype.indexOf),u=k(Array.prototype.join),f=k(Array.prototype.pop),m=k(Array.prototype.push),h=k(Array.prototype.slice),g=k(String.prototype.toLowerCase),y=k(String.prototype.match),b=k(String.prototype.replace),v=k(String.prototype.indexOf),x=k(String.prototype.trim),T=k(RegExp.prototype.test),A=S(RegExp),w=S(TypeError);function k(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return c(t,e,r)}}function S(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return s(t,n)}}function _(t,r){e&&e(t,null);for(var i=r.length;i--;){var o=r[i];if("string"==typeof o){var a=g(o);a!==o&&(n(r)||(r[i]=a),o=a)}t[o]=!0}return t}function M(e){var n={},r=void 0;for(r in e)c(t,e,[r])&&(n[r]=e[r]);return n}var L=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),D=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),z=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),N=i(["#text"]),R=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),O=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),H=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),C=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F=o(/\{\{[\s\S]*|[\s\S]*\}\}/gm),j=o(/<%[\s\S]*|[\s\S]*%>/gm),I=o(/^data-[\-\w.\u00B7-\uFFFF]/),P=o(/^aria-[\-\w]+$/),U=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=o(/^(?:\w+script|data):/i),q=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),W="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(t){return a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a(t)};function G(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var $=function(){return"undefined"==typeof window?null:window},V=function(t,e){if("object"!==(void 0===t?"undefined":W(t))||"function"!=typeof t.createPolicy)return null;var n=null;e.currentScript&&e.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=e.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(),n=function(e){return t(e)};if(n.version="2.0.12",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var o=e.document,a=!1,l=e.document,c=e.DocumentFragment,s=e.HTMLTemplateElement,k=e.Node,S=e.NodeFilter,J=e.NamedNodeMap,K=void 0===J?e.NamedNodeMap||e.MozNamedAttrMap:J,X=e.Text,Y=e.Comment,Q=e.DOMParser,Z=e.trustedTypes;if("function"==typeof s){var tt=l.createElement("template");tt.content&&tt.content.ownerDocument&&(l=tt.content.ownerDocument)}var et=V(Z,o),nt=et&&Ot?et.createHTML(""):"",rt=l,it=rt.implementation,ot=rt.createNodeIterator,at=rt.getElementsByTagName,lt=rt.createDocumentFragment,ct=o.importNode,st={};n.isSupported=it&&void 0!==it.createHTMLDocument&&9!==l.documentMode;var pt=F,dt=j,ut=I,ft=P,mt=B,ht=q,gt=U,yt=null,bt=_({},[].concat(G(L),G(E),G(D),G(z),G(N))),vt=null,xt=_({},[].concat(G(R),G(O),G(H),G(C))),Tt=null,At=null,wt=!0,kt=!0,St=!1,_t=!1,Mt=!1,Lt=!1,Et=!1,Dt=!1,zt=!1,Nt=!1,Rt=!1,Ot=!1,Ht=!0,Ct=!0,Ft=!1,jt={},It=_({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Pt=null,Ut=_({},["audio","video","img","source","image","track"]),Bt=null,qt=_({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Wt=null,Gt=l.createElement("form"),$t=function(t){Wt&&Wt===t||(t&&"object"===(void 0===t?"undefined":W(t))||(t={}),yt="ALLOWED_TAGS"in t?_({},t.ALLOWED_TAGS):bt,vt="ALLOWED_ATTR"in t?_({},t.ALLOWED_ATTR):xt,Bt="ADD_URI_SAFE_ATTR"in t?_(M(qt),t.ADD_URI_SAFE_ATTR):qt,Pt="ADD_DATA_URI_TAGS"in t?_(M(Ut),t.ADD_DATA_URI_TAGS):Ut,Tt="FORBID_TAGS"in t?_({},t.FORBID_TAGS):{},At="FORBID_ATTR"in t?_({},t.FORBID_ATTR):{},jt="USE_PROFILES"in t&&t.USE_PROFILES,wt=!1!==t.ALLOW_ARIA_ATTR,kt=!1!==t.ALLOW_DATA_ATTR,St=t.ALLOW_UNKNOWN_PROTOCOLS||!1,_t=t.SAFE_FOR_JQUERY||!1,Mt=t.SAFE_FOR_TEMPLATES||!1,Lt=t.WHOLE_DOCUMENT||!1,zt=t.RETURN_DOM||!1,Nt=t.RETURN_DOM_FRAGMENT||!1,Rt=t.RETURN_DOM_IMPORT||!1,Ot=t.RETURN_TRUSTED_TYPE||!1,Dt=t.FORCE_BODY||!1,Ht=!1!==t.SANITIZE_DOM,Ct=!1!==t.KEEP_CONTENT,Ft=t.IN_PLACE||!1,gt=t.ALLOWED_URI_REGEXP||gt,Mt&&(kt=!1),Nt&&(zt=!0),jt&&(yt=_({},[].concat(G(N))),vt=[],!0===jt.html&&(_(yt,L),_(vt,R)),!0===jt.svg&&(_(yt,E),_(vt,O),_(vt,C)),!0===jt.svgFilters&&(_(yt,D),_(vt,O),_(vt,C)),!0===jt.mathMl&&(_(yt,z),_(vt,H),_(vt,C))),t.ADD_TAGS&&(yt===bt&&(yt=M(yt)),_(yt,t.ADD_TAGS)),t.ADD_ATTR&&(vt===xt&&(vt=M(vt)),_(vt,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&_(Bt,t.ADD_URI_SAFE_ATTR),Ct&&(yt["#text"]=!0),Lt&&_(yt,["html","head","body"]),yt.table&&(_(yt,["tbody"]),delete Tt.tbody),i&&i(t),Wt=t)},Vt=function(t){m(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.outerHTML=nt}},Jt=function(t,e){try{m(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){m(n.removed,{attribute:null,from:e})}e.removeAttribute(t)},Kt=function(t){var e=void 0,n=void 0;if(Dt)t="<remove></remove>"+t;else{var r=y(t,/^[\r\n\t ]+/);n=r&&r[0]}var i=et?et.createHTML(t):t;try{e=(new Q).parseFromString(i,"text/html")}catch(t){}if(a&&_(Tt,["title"]),!e||!e.documentElement){var o=(e=it.createHTMLDocument("")).body;o.parentNode.removeChild(o.parentNode.firstElementChild),o.outerHTML=i}return t&&n&&e.body.insertBefore(l.createTextNode(n),e.body.childNodes[0]||null),at.call(e,Lt?"html":"body")[0]};n.isSupported&&function(){try{var t=Kt("<x/><title>&lt;/title&gt;&lt;img&gt;");T(/<\/title/,t.querySelector("title").innerHTML)&&(a=!0)}catch(t){}}();var Xt=function(t){return ot.call(t.ownerDocument||t,t,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT,(function(){return S.FILTER_ACCEPT}),!1)},Yt=function(t){return!(t instanceof X||t instanceof Y||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof K&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI)},Qt=function(t){return"object"===(void 0===k?"undefined":W(k))?t instanceof k:t&&"object"===(void 0===t?"undefined":W(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Zt=function(t,e,r){st[t]&&p(st[t],(function(t){t.call(n,e,r,Wt)}))},te=function(t){var e=void 0;if(Zt("beforeSanitizeElements",t,null),Yt(t))return Vt(t),!0;var r=g(t.nodeName);if(Zt("uponSanitizeElement",t,{tagName:r,allowedTags:yt}),("svg"===r||"math"===r)&&0!==t.querySelectorAll("p, br").length)return Vt(t),!0;if(!yt[r]||Tt[r]){if(Ct&&!It[r]&&"function"==typeof t.insertAdjacentHTML)try{var i=t.innerHTML;t.insertAdjacentHTML("AfterEnd",et?et.createHTML(i):i)}catch(t){}return Vt(t),!0}return"noscript"===r&&T(/<\/noscript/i,t.innerHTML)||"noembed"===r&&T(/<\/noembed/i,t.innerHTML)?(Vt(t),!0):(!_t||t.firstElementChild||t.content&&t.content.firstElementChild||!T(/</g,t.textContent)||(m(n.removed,{element:t.cloneNode()}),t.innerHTML?t.innerHTML=b(t.innerHTML,/</g,"&lt;"):t.innerHTML=b(t.textContent,/</g,"&lt;")),Mt&&3===t.nodeType&&(e=t.textContent,e=b(e,pt," "),e=b(e,dt," "),t.textContent!==e&&(m(n.removed,{element:t.cloneNode()}),t.textContent=e)),Zt("afterSanitizeElements",t,null),!1)},ee=function(t,e,n){if(Ht&&("id"===e||"name"===e)&&(n in l||n in Gt))return!1;if(kt&&T(ut,e));else if(wt&&T(ft,e));else{if(!vt[e]||At[e])return!1;if(Bt[e]);else if(T(gt,b(n,ht,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==v(n,"data:")||!Pt[t])if(St&&!T(mt,b(n,ht,"")));else if(n)return!1}return!0},ne=function(t){var e=void 0,i=void 0,o=void 0,a=void 0,l=void 0;Zt("beforeSanitizeAttributes",t,null);var c=t.attributes;if(c){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:vt};for(l=c.length;l--;){var p=e=c[l],m=p.name,y=p.namespaceURI;if(i=x(e.value),o=g(m),s.attrName=o,s.attrValue=i,s.keepAttr=!0,s.forceKeepAttr=void 0,Zt("uponSanitizeAttribute",t,s),i=s.attrValue,!s.forceKeepAttr){if("name"===o&&"IMG"===t.nodeName&&c.id)a=c.id,c=h(c,[]),Jt("id",t),Jt(m,t),d(c,a)>l&&t.setAttribute("id",a.value);else{if("INPUT"===t.nodeName&&"type"===o&&"file"===i&&s.keepAttr&&(vt[o]||!At[o]))continue;"id"===m&&t.setAttribute(m,""),Jt(m,t)}if(s.keepAttr)if(_t&&T(/\/>/i,i))Jt(m,t);else if(T(/svg|math/i,t.namespaceURI)&&T(A("</("+u(r(It),"|")+")","i"),i))Jt(m,t);else{Mt&&(i=b(i,pt," "),i=b(i,dt," "));var v=t.nodeName.toLowerCase();if(ee(v,o,i))try{y?t.setAttributeNS(y,m,i):t.setAttribute(m,i),f(n.removed)}catch(t){}}}}Zt("afterSanitizeAttributes",t,null)}},re=function t(e){var n=void 0,r=Xt(e);for(Zt("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)Zt("uponSanitizeShadowNode",n,null),te(n)||(n.content instanceof c&&t(n.content),ne(n));Zt("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t,r){var i=void 0,a=void 0,l=void 0,s=void 0,p=void 0;if(t||(t="\x3c!--\x3e"),"string"!=typeof t&&!Qt(t)){if("function"!=typeof t.toString)throw w("toString is not a function");if("string"!=typeof(t=t.toString()))throw w("dirty is not a string, aborting")}if(!n.isSupported){if("object"===W(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(Qt(t))return e.toStaticHTML(t.outerHTML)}return t}if(Et||$t(r),n.removed=[],"string"==typeof t&&(Ft=!1),Ft);else if(t instanceof k)1===(a=(i=Kt("\x3c!--\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!zt&&!Mt&&!Lt&&-1===t.indexOf("<"))return et&&Ot?et.createHTML(t):t;if(!(i=Kt(t)))return zt?null:nt}i&&Dt&&Vt(i.firstChild);for(var d=Xt(Ft?t:i);l=d.nextNode();)3===l.nodeType&&l===s||te(l)||(l.content instanceof c&&re(l.content),ne(l),s=l);if(s=null,Ft)return t;if(zt){if(Nt)for(p=lt.call(i.ownerDocument);i.firstChild;)p.appendChild(i.firstChild);else p=i;return Rt&&(p=ct.call(o,p,!0)),p}var u=Lt?i.outerHTML:i.innerHTML;return Mt&&(u=b(u,pt," "),u=b(u,dt," ")),et&&Ot?et.createHTML(u):u},n.setConfig=function(t){$t(t),Et=!0},n.clearConfig=function(){Wt=null,Et=!1},n.isValidAttribute=function(t,e,n){Wt||$t({});var r=g(t),i=g(e);return ee(r,i,n)},n.addHook=function(t,e){"function"==typeof e&&(st[t]=st[t]||[],m(st[t],e))},n.removeHook=function(t){st[t]&&f(st[t])},n.removeHooks=function(t){st[t]&&(st[t]=[])},n.removeAllHooks=function(){st={}},n}()},"object"===a(e)&&void 0!==t?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)}}]);