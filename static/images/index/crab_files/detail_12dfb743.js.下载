(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+2xp":function(t,e,n){t.exports=n("oxns")("+2xp")},"+Cv8":function(t,e,n){"use strict";e.a={props:{openSwipePagination:Boolean},methods:{handleLoadMore:function(){this.$emit("load-more")},setSwipeStatus:function(t){this.$refs.commonGoodsLayout&&this.$refs.commonGoodsLayout.setSwipeStatus(t)}}}},"+M1K":function(t,e,n){var i=n("ppGB");t.exports=function(t){var e=i(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},"+QBe":function(t,e,n){"use strict";var i=n("Uf1B");n.n(i).a},"+Qka":function(t,e,n){var i=n("fmRc"),o=n("t2Dn"),r=n("cq/+"),a=n("T1AV"),s=n("GoyQ"),c=n("mTTR"),u=n("itsj");t.exports=function t(e,n,l,d,p){e!==n&&r(n,(function(r,c){if(s(r))p||(p=new i),a(e,n,c,l,t,d,p);else{var f=d?d(u(e,c),r,c+"",e,n,p):void 0;void 0===f&&(f=r),o(e,c,f)}}),c)}},"+W0v":function(t,e,n){"use strict";var i=n("J7cn");n.n(i).a},"+afb":function(t,e,n){},"+c4W":function(t,e,n){var i=n("711d"),o=n("4/ic"),r=n("9ggG"),a=n("9Nap");t.exports=function(t){return r(t)?i(a(t)):o(t)}},"+ccU":function(t,e,n){"use strict";n("qePV");var i,o,r,a,s,c=n("wx14"),u=(n("rB5s"),n("VD6T")),l=(n("ZrlO"),n("tlDm")),d=(n("wZRv"),n("d0T1")),p=(n("BlND"),n("NOlr")),f=(n("W3er"),6),h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cap-goods-layout__more",class:[t.buttonTypeClass],style:t.moreButtonStyle},[2===t.buttonType||3===t.buttonType?n("van-cell-group",{attrs:{border:!1}},[n("van-cell",{attrs:{title:3===t.buttonType?t.moreText:"",value:2===t.buttonType?t.moreText:"","is-link":"",url:t.moreUrl}})],1):5===t.buttonType?n("div",{staticClass:"more-link--5"},[n("div",{staticClass:"more-text"},[t.loading?n("van-loading"):[n("i",{staticClass:"arrow-left-icon"}),t._v(" "),n("div",[t._v("查看更多")])]],2)]):6===t.buttonType?n("a",{staticClass:"more-link--6",style:{marginRight:t.goodsMargin+"px"},attrs:{href:t.moreUrl}},[n("div",{staticClass:"more-text"},[t._v("\n      "+t._s(t.moreText)+"\n      "),n("i",{staticClass:"arrow-right-icon"})])]):n("van-button",{attrs:{tag:"a",href:t.moreUrl,type:"default",size:"normal",block:""}},[t._v("\n    "+t._s(t.moreText)+"\n  ")])],1)},staticRenderFns:[],name:"more-button",components:(i={},i[p.default.name]=p.default,i[d.default.name]=d.default,i[l.default.name]=l.default,i[u.default.name]=u.default,i),props:{moreUrl:String,buttonType:{type:Number,default:1},goodsMargin:{type:Number,default:10},pageMargin:{type:Number,default:15},moreText:{type:String,default:"查看更多"},loading:Boolean},computed:{buttonTypeClass:function(){return"cap-goods-layout__more--"+this.buttonType},moreButtonStyle:function(){var t=this.goodsMargin,e=this.pageMargin,n=this.buttonType,i=t/2+"px",o={marginTop:i};if(+n===f&&(o.marginBottom=i),1==+n||3==+n){var r=Math.max(e,10)+"px";o=Object(c.default)({},o,{marginLeft:r,marginRight:r})}return o}}},m=(n("rB9j"),n("EnZy"),n("zXJe")),g=n.n(m),v=n("U5WV"),y={computed:{isPaidContent:function(){var t=this.goodsInfo,e=t.owlType,n=t.showPaidContent;return!!e&&(void 0!==n&&n)},goodsType:function(){return this.isPaidContent?"知识付费":""},mediaIconUrlAndFreeText:function(){var t=this.goodsInfo,e=t.owlType,n=t.mediaType;if(1===e)return[this.getCdnIconUrl("COLUMN"),""];if(2===e)switch(n){case 1:return[this.getCdnIconUrl("TEXT"),v.f.READ];case 2:return[this.getCdnIconUrl("AUDIO"),v.f.LISTEN];case 3:return[this.getCdnIconUrl("VIDEO"),v.f.WATCH]}else if(4===e)return[this.getCdnIconUrl("LIVE"),v.f.WATCH];return["",""]}},methods:{getCdnIconUrl:function(t){return v.c[t]||(v.c[t]=g()(v.l[t],"!40x40.png")),v.c[t]}}},b=(n("QXJu"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cap-goods__photo",class:{"cap-goods__photo--empty":t.isImageEmpty}},[n("div",{staticClass:"cap-goods__image-wrap",class:{"cap-goods__image-wrap--soldout":t.isSoldout&&!t.hideImageStatus,"cap-goods__image-wrap--end":t.isEnd&&!t.hideImageStatus},style:t.paddingTopStyle},[t.isWaterfall?n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imageUrl,expression:"imageUrl"}],key:t.imageUrl,staticClass:"cap-goods__img cap-goods__img--waterfall",attrs:{"data-lazy-log":"1","data-lazy-log-id":t.goodsInfo.id,"data-lazy-log-params":JSON.stringify(t.goodsInfo.loggerParams)}}):n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.imageUrl,expression:"imageUrl",arg:"background-image"}],key:t.imageUrl,staticClass:"cap-goods__img",class:[t.imageFillStyleClass],attrs:{"data-lazy-log":"1","data-lazy-log-id":t.goodsInfo.id,"data-lazy-log-params":JSON.stringify(t.goodsInfo.loggerParams)}})]),t._v(" "),t.isPaidContent&&t.mediaIconUrlAndFreeText[0]?n("div",{staticClass:"cap-goods__media-icon",style:{backgroundImage:"url("+t.mediaIconUrlAndFreeText[0]+")"}}):t._e(),t._v(" "),t._t("corner-mark",null,{type:t.cornerMarkType,imageUrl:t.cornerMarkImage,goodsInfo:t.goodsInfo}),t._v(" "),t._t("sale-info",null,{goodsInfo:t.goodsInfo}),t._v(" "),t._t("activity-type-info",null,{goodsInfo:t.goodsInfo})],2)},staticRenderFns:[],name:"goods-image",mixins:[y],props:{layout:Number,goodsInfo:{type:Object,required:!0,default:function(){return{}}},isWaterfall:Boolean,imageFillStyle:{type:Number,default:2},imageRatio:{type:Number,default:1},isSoldout:Boolean,isEnd:Boolean,hideImageStatus:Boolean,cornerMarkType:{type:Number,default:0},cornerMarkImage:String},computed:{imageUrl:function(){var t=this.goodsInfo,e=this.layout,n=t.imageUrl;if(!n)return v.e;try{return e===v.j.BIG||e===v.j.HYBRID?g()(n,"!730x0.jpg"):g()(n,"!520x0.jpg")}catch(t){return n}},isImageEmpty:function(){return this.imageUrl===v.e},paddingTopStyle:function(){var t=this.layout,e=this.isWaterfall,n=this.imageRatio,i=void 0===n?1:n;if(!e){var o=+t===v.j.LIST?1:i,r=v.i[o].split("-"),a=r[0];return{paddingTop:+r[1]/+a*100+"%"}}},imageFillStyleClass:function(){var t=this.imageFillStyle;return"cap-goods__img--"+v.g[t]},wrapLayoutNameClass:function(){var t=this.layout;return"cap-goods__image-wrap--"+v.j[t]},isImageFillContain:function(){return+this.imageFillStyle===v.h.CONTAIN}}}),_=(n("1EgG"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShowTitle||t.isShowSubTitle?n("div",{staticClass:"cap-goods-layout__info-title",class:[t.infoTitleClass],style:t.textAlignStyle},[t.isShowTitle?n("h3",{staticClass:"title",class:{"title--empty":!t.goodsInfo.title},style:t.titleStyle},[t.isShowTitleTag?n("span",{staticClass:"title--tag"},[t._v(t._s(t.goodsInfo.titleTagText))]):t._e(),t._v(t._s(t.goodsInfo.title)+"\n  ")]):t._e(),t._v(" "),t.isShowSubTitle?n("p",{staticClass:"sub-title"},[t._v("\n    "+t._s(t.goodsInfo.subTitle)+"\n  ")]):t._e(),t._v(" "),t.isPaidContent&&t.goodsType?n("p",{staticClass:"goods-type"},[n("span",[t._v(t._s(t.goodsType))])]):t._e()]):t._e()},staticRenderFns:[],name:"goods-title",mixins:[y],props:{goodsInfo:{type:Object,default:function(){return{}}},showTitle:Boolean,showSubTitle:Boolean,textStyleType:{type:Number,default:1},textAlignType:{type:String,default:"left"},layout:{type:Number,default:0},sizeType:{type:Number,default:0}},computed:{titleStyle:function(){var t=this.textStyleType;return{fontWeight:v.q[t]}},textAlignStyle:function(){var t=this.textAlignType;if(!this.isListLayout)return{textAlign:t}},isShowTitle:function(){var t=this.isPromotion,e=this.showTitle,n=this.isListLayout;return!t&&(!!n||e)},isShowTitleTag:function(){var t=this.layout,e=this.goodsInfo,n=void 0===e?{}:e,i=n.showTitleTag,o=n.titleTagText;return t!==v.j.SWIPE&&t!==v.j.THREE&&i&&o},isShowSubTitle:function(){var t=this.layout,e=this.isPromotion,n=this.showSubTitle,i=this.goodsInfo,o=(void 0===i?{}:i).subTitle;return!e&&((t===v.j.SMALL||t===v.j.HYBRID||t===v.j.THREE||t===v.j.SWIPE||o&&0!==o.length)&&n)},isListLayout:function(){return this.layout===v.j.LIST},isPromotion:function(){var t=this.layout,e=this.sizeType;return t===v.j.SMALL&&e===v.o.PROMOTION},infoTitleClass:function(){var t=this.isShowTitle,e=this.isShowSubTitle,n=this.layout;return["has-title-"+ +t,"has-subtitle-"+ +e,""+v.k[n]]}}}),k=(n("Rm1S"),n("5xwR")),w={components:(o={},o[k.a.name]=k.a,o),props:{goodsInfo:{type:Object,default:function(){return{}}},layout:{type:Number,default:0},sizeType:{type:Number,default:0},showPrice:{type:Boolean,default:!0},showPriceCent:Boolean,showOriginPrice:Boolean,showSoldNum:Boolean,showBuyButton:{type:Boolean,default:!0},showUmpAmbience:Boolean,buyButtonType:{type:Number,default:1},buttonText:String,itemIndex:Number,textStyleType:{type:Number,default:1},textAlignType:{type:String,default:"left"},showPriceLabel:Boolean},data:function(){return{buyBtnIsLoading:!1,buyButtonWidth:0}},computed:{salePrice:function(){var t=this.goodsInfo,e=""+(void 0===t?{}:t).price,n=e.match(/(\d+)(\.\d+)/),i=n[1];return 0==+n[2]?i:e},buyButtonSize:function(){var t=this.layout;this.itemIndex;return t===v.j.THREE||t===v.j.SWIPE?v.b.SMALL:v.b.BIG},buyButtonSizeClass:function(){return"size--"+this.buyButtonSize},isPromotion:function(){var t=this.layout,e=this.sizeType;return t===v.j.SMALL&&e===v.o.PROMOTION},textAlignClass:function(){var t=this.layout,e=this.textAlignType;if(t!==v.j.LIST)return e},priceContainerClass:function(){var t=this.showPrice,e=this.showBuyButton,n=this.layout;return["has-price-"+ +t,"has-btn-"+ +e,""+v.k[n]]}},methods:{handleBuyButtonClick:function(t){var e=this.buyBtnIsLoading,n=this.goodsInfo;e||this.$emit("buy-btn-click",n,t)}}},S=n("Ui9T"),C=(n("ildf"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPrice||t.showBuyButton||t.showOriginPrice?n("div",{staticClass:"cap-goods-layout__info-price",class:[t.priceContainerClass,t.buyButtonSizeClass,t.textAlignClass]},[n("div",{staticClass:"price-info",class:{"price-info--empty":!t.goodsInfo.price},style:t.priceInfoStyle},[t.isPaidContent&&t.goodsInfo.isFree&&t.mediaIconUrlAndFreeText[1]?n("span",{staticClass:"sale-price free"},[t._v("\n      "+t._s(t.mediaIconUrlAndFreeText[1])+"\n      "),t.isShowSoldNum?n("span",{staticClass:"sold-num"},[t._v("\n        "+t._s(t.goodsInfo.totalSoldNum)+"件已售\n      ")]):t._e()]):t.showPrice&&t.goodsInfo.price?n("span",{staticClass:"sale-price"},[n("cap-theme-view",{staticClass:"sale-price--theme",attrs:{color:"general"}},[n("span",{staticClass:"price-tag"},[t._v("¥")]),n("span",{staticClass:"price-sale-price"},[t._v(t._s(t.salePrice))]),t.goodsInfo.isMinPrice?n("span",{staticClass:"sale-price__min"},[t._v("起")]):t._e(),t._v(" "),t.showPriceLabel?t._t("price-label",null,{goodsInfo:t.goodsInfo}):t._e(),t._v(" "),t.isShowSoldNum?n("span",{staticClass:"sold-num"},[t._v("\n          "+t._s(t.goodsInfo.totalSoldNum)+"件已售\n        ")]):t._e(),t._v(" "),t.goodsInfo.priceLabel?n("cap-theme-view",{staticClass:"price-sign",attrs:{bg:"general",opacity:.1}},[t._v("\n          "+t._s(t.goodsInfo.priceLabel)+"\n        ")]):t._e()],2)],1):t._e(),t._v(" "),t.isShowOriginPrice&&!t.isShowUmpAmbience?n("span",{staticClass:"sale-price__origin"},[t._v("\n      ¥"+t._s(t.goodsInfo.originPrice)),t.goodsInfo.isMinPrice?n("span",[t._v("起")]):t._e()]):t._e(),t._v(" "),t.isShowUmpAmbience?n("span",{staticClass:"sale-price__origin"},[t._v("\n      ¥"+t._s(t.goodsInfo.umpAmbiencePrice)+"\n    ")]):t._e()]),t._v(" "),n("div",{ref:"buyButton"},[t._t("buy-button",[t.showItemBuyButton?n("goods-buy-button",{attrs:{"is-loading":t.buyBtnIsLoading,"buy-button-type":t.isPromotion?9:t.buyButtonType,"button-text":t.buyButtonText,"button-size":t.buyButtonSize},on:{click:t.handleBuyButtonClick}}):t._e()],{goodsInfo:t.goodsInfo,buyButtonType:t.buyButtonType,buttonText:t.buyButtonText,buttonSize:t.buyButtonSize})],2)]):t._e()},staticRenderFns:[],componentName:"cap-goods-layout-goods-price",name:"goods-price",components:(r={},r[S.b.name]=S.b,r),mixins:[w,y],computed:{isShowSoldNum:function(){var t=this.showSoldNum,e=this.goodsInfo.totalSoldNum;return t&&e>=0},priceInfoStyle:function(){var t=this.showPrice,e=this.showOriginPrice,n=this.textStyleType,i=this.buyButtonWidth,o=this.textAlignType,r=this.isPromotion,a=this.showBuyButton,s=this.layout,c=r?i-5:i+5;c=+s===v.j.LIST?c+10:c,("center"===o&&+s!==v.j.LIST||!a)&&(c=0);var u={fontWeight:v.q[n],paddingRight:c+"px"};return"center"!==o||t||e||(u.height="0"),u},buyButtonText:function(){var t=this.goodsInfo,e=this.buttonText;return t.buttonText||e},isShowOriginPrice:function(){var t=this.showOriginPrice,e=this.goodsInfo.originPrice;return t&&e},isShowUmpAmbience:function(){var t=this.showUmpAmbience,e=this.goodsInfo,n=(e=void 0===e?{}:e).umpAmbiencePrice;return t&&n},showItemBuyButton:function(){return this.showBuyButton}},watch:{showBuyButton:function(t){t&&this.computedBuyButtonWidth()},layout:function(){this.computedBuyButtonWidth()},sizeType:function(){this.computedBuyButtonWidth()},buyButtonType:function(){this.computedBuyButtonWidth()},buttonText:function(){this.computedBuyButtonWidth()}},mounted:function(){var t=this;this.$on("loading-change",(function(e){e.id===t.goodsInfo.id&&(t.buyBtnIsLoading=e.loading)})),this.computedBuyButtonWidth()},methods:{computedBuyButtonWidth:function(){var t=this;this.showBuyButton&&setTimeout((function(){try{t.buyButtonWidth=t.$refs.buyButton&&t.$refs.buyButton.firstChild.getBoundingClientRect().width}catch(e){t.buyButtonWidth=0}}),300)}}}),P=(n("w6Z4"),n("rQYt")),x=(n("cVdX"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[4!=+t.type?n("van-icon",{class:t.typeClass,attrs:{name:t.iconName,color:t.getThemeColorWithType("general")}}):t.imageUrl?n("img",{class:t.typeClass,attrs:{src:t.imageUrl}}):n("div",{class:t.typeClass},[n("span",[t._v("角标")]),n("br"),n("span",[t._v("区域")])])],1)},staticRenderFns:[],name:"corner-mark",components:(a={},a[P.default.name]=P.default,a),mixins:[S.a],props:{type:{type:Number,default:0},imageUrl:{type:String,default:""}},computed:{typeClass:function(){var t=this.type,e=this.imageUrl,n=["cap-goods-layout__corner-mark"];return 4!=+t?n.push("type-"+t):e?n.push("cap-goods-layout__corner-mark--custom"):n.push("cap-goods-layout__corner-mark--default"),n},iconName:function(){var t=this.type;return v.d[t]}}}),O=(n("+2oP"),n("y1as"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.curShowUmpAmbience?n("div",[n("div",{staticClass:"ump-ambience",style:t.textAlignStyle},t._l(t.curUmpAmbienceList,(function(e,i){return n("cap-theme-view",{key:i,staticClass:"ump-ambience_item",attrs:{border:"general",color:"general"}},[e.preLabel?n("cap-theme-view",{staticClass:"ump-ambience_item--padding ump-ambience_item--sign",attrs:{opacity:.1,border:"general"}},[t._v("\n        "+t._s(e.preLabel)+"\n      ")]):t._e(),t._v(" "),n("span",{staticClass:"ump-ambience_item--padding"},[t._v(t._s(e.label))])],1)})),1)]):t._e()},staticRenderFns:[],name:"goods-ump-ambience",components:(s={},s[S.b.name]=S.b,s),props:{goodsInfo:{type:Object,default:function(){return{}}},layout:Number,sizeType:Number,showUmpAmbience:Boolean,itemIndex:Number,textAlignType:String},computed:{curShowUmpAmbience:function(){if(this.sizeType===v.o.WATERFALL&&this.showUmpAmbience){var t=this.goodsInfo.umpAmbienceList;return!!(void 0===t?[]:t).length&&this.showUmpAmbience}return this.showUmpAmbience},curUmpAmbienceList:function(){var t=this.goodsInfo.umpAmbienceList,e=void 0===t?[]:t,n=3;return this.layout!==v.j.THREE&&this.layout!==v.j.SWIPE||(n=1),this.layout!==v.j.SMALL&&this.layout!==v.j.LIST||(n=2),this.layout===v.j.HYBRID&&(n=this.itemIndex%3==0?3:2),e.slice(0,n)},showUmpAmbiencePriceLabel:function(){return this.layout!==v.j.BIG&&this.layout!==v.j.small},textAlignStyle:function(){return this.layout===v.j.LIST||"left"===this.textAlignType?"":{justifyContent:"center"}}}}),T=n("45AG");var I,A={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e,n,i=t.touches[0];this.deltaX=i.clientX-this.startX,this.deltaY=i.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||(e=this.offsetX,n=this.offsetY,e>n&&e>10?"horizontal":n>e&&n>10?"vertical":"")},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0}}};n("nyqg");var B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cap-goods-layout"},[t.isWaterfall?[n("div",{staticClass:"cap-goods-layout__container waterfall",class:[t.waterfallSizeClass],style:t.pageMarginStyle},t._l(t.waterfallListParts,(function(e,i){return n("ul",{key:i,staticClass:"cap-goods-layout__items"},t._l(e,(function(e){return n("li",{key:e.id,staticClass:"cap-goods-layout__wrapper"},[e.isExtra?[t._t("extra",null,{layoutClass:[t.layoutClass,t.sizeTypeClass,t.radiusTypeClass],item:{info:e,goodsMarginStyle:t.goodsMarginStyle,index:i}})]:n("a",{staticClass:"cap-goods-layout__item",class:[t.layoutClass,t.sizeTypeClass,t.radiusTypeClass],style:t.goodsMarginStyle,attrs:{href:e.url,"log-params":JSON.stringify(t.getClickParams(e.loggerParams))}},[n("goods-image",{attrs:{"goods-info":e,layout:t.layout,"image-fill-style":t.imageFillStyle,"image-ratio":t.imageRatio,"is-soldout":e.isSoldout,"is-end":e.isEnd,"hide-image-status":e.hideImageStatus,"corner-mark-type":t.cornerMarkType,"corner-mark-image":t.cornerMarkImage,"is-waterfall":""},scopedSlots:t._u([{key:"corner-mark",fn:function(e){return t.showCornerMark?[t._t("corner-mark",[n("corner-mark",{attrs:{type:e.type,"image-url":e.imageUrl}})],{type:e.type,imageUrl:e.imageUrl,goodsInfo:e.goodsInfo})]:void 0}},{key:"sale-info",fn:function(e){return[t._t("sale-info",null,{goodsInfo:e.goodsInfo})]}},{key:"activity-type-info",fn:function(e){return[t._t("activity-type-info",null,{goodsInfo:e.goodsInfo})]}}])}),t._v(" "),n("div",{staticClass:"cap-goods-layout__info"},[t._t("title",[n("goods-title",{attrs:{"goods-info":e,"show-title":t.showTitle,"show-sub-title":t.showSubTitle,"text-style-type":t.textStyleType,"text-align-type":t.textAlignType,layout:t.layout,"size-type":t.sizeType}})],{goodsInfo:e,showTitle:t.showTitle,showSubTitle:t.showSubTitle,textStyleType:t.textStyleType,textAlignType:t.textAlignType,layout:t.layout,sizeType:t.sizeType}),t._v(" "),t._t("ump-ambience",[n("goods-ump-ambience",{attrs:{layout:t.layout,"show-ump-ambience":t.showUmpAmbience,"goods-info":e,"item-index":i,"size-type":t.sizeType,"text-align-type":t.textAlignType}})],{layout:t.layout,showUmpAmbience:t.showUmpAmbience,goodsInfo:e,itemIndex:i,sizeType:t.sizeType}),t._v(" "),t._t("expand",null,{goodsInfo:e}),t._v(" "),t._t("price",[n("goods-price",{attrs:{"goods-info":e,"show-price":t.showPrice,"show-origin-price":t.showOriginPrice,"show-ump-ambience":t.showUmpAmbience,"show-sold-num":t.showSoldNum,"show-buy-button":t.showBuyButton,"buy-button-type":t.buyButtonType,"button-text":t.buttonText,"item-index":i,"text-style-type":t.textStyleType,"text-align-type":t.textAlignType,layout:t.layout,"size-type":t.sizeType,"show-price-label":t.showPriceLabel},on:{"buy-btn-click":t.handleBuyBtnClick},scopedSlots:t._u([{key:"price-label",fn:function(e){return[t._t("price-label",null,{goodsInfo:e.goodsInfo})]}},{key:"buy-button",fn:function(e){return t.useBuyButtonSlot?[t._t("buy-button",null,{goodsInfo:e.goodsInfo,buyButtonType:e.buyButtonType,buttonText:e.buttonText,buttonSize:e.buttonSize})]:void 0}}])})],{goodsInfo:e,showPrice:t.showPrice,showOriginPrice:t.showOriginPrice,showUmpAmbience:t.showUmpAmbience,showSoldNum:t.showSoldNum,showBuyButton:t.showBuyButton,buyButtonType:t.buyButtonType,buttonText:t.buttonText,itemIndex:i,textStyleType:t.textStyleType,textAlignType:t.textAlignType,showPriceLabel:t.showPriceLabel,layout:t.layout})],2)],1)],2)})),0)})),0)]:[n("ul",{staticClass:"cap-goods-layout__container",class:[t.layoutClass,t.widthClass,t.sizeTypeClass],style:t.pageMarginStyle,on:{touchstart:t.handleTouchStart,touchmove:t.handleTouchMove,touchend:t.handleTouchEnd,touchcancel:t.handleTouchEnd}},[t._l(t.list,(function(e,i){return n("li",{key:i,class:["cap-goods-layout__wrapper","cap-goods-layout__wrapper--"+i]},[e.isExtra?[t._t("extra",null,{layoutClass:[t.layoutClass,t.sizeTypeClass,t.radiusTypeClass],item:{info:e,goodsMarginStyle:t.goodsMarginStyle,index:i}})]:n("a",{staticClass:"cap-goods-layout__item",class:[{"js-no-follow":!!t.itemClickCallback},t.layoutClass,t.sizeTypeClass,t.radiusTypeClass,t.getHybridIndex(i)],style:t.goodsMarginStyle,attrs:{href:e.url,"log-params":JSON.stringify(t.getClickParams(e.loggerParams))},on:{click:function(n){t.handleItemClick(e,n)}}},[n("goods-image",{attrs:{"goods-info":e,layout:t.layout,"image-fill-style":t.imageFillStyle,"image-ratio":t.imageRatio,"is-soldout":e.isSoldout,"is-end":e.isEnd,"hide-image-status":e.hideImageStatus,"corner-mark-type":t.cornerMarkType,"corner-mark-image":t.cornerMarkImage},scopedSlots:t._u([{key:"corner-mark",fn:function(e){return t.showCornerMark?[t._t("corner-mark",[n("corner-mark",{attrs:{type:e.type,"image-url":e.imageUrl}})],{type:e.type,imageUrl:e.imageUrl,goodsInfo:e.goodsInfo})]:void 0}},{key:"sale-info",fn:function(e){return[t._t("sale-info",null,{goodsInfo:e.goodsInfo})]}},{key:"activity-type-info",fn:function(e){return[t._t("activity-type-info",null,{goodsInfo:e.goodsInfo})]}}])}),t._v(" "),n("div",{staticClass:"cap-goods-layout__info"},[t._t("title",[n("goods-title",{attrs:{"goods-info":e,"show-title":t.showTitle,"show-sub-title":t.showSubTitle,"text-style-type":t.textStyleType,"text-align-type":t.textAlignType,layout:t.layout,"size-type":t.sizeType,"goods-index":i}})],{goodsInfo:e,showTitle:t.showTitle,showSubTitle:t.showSubTitle,textStyleType:t.textStyleType,textAlignType:t.textAlignType,layout:t.layout,sizeType:t.sizeType,goodsIndex:i}),t._v(" "),t._t("ump-ambience",[n("goods-ump-ambience",{attrs:{layout:t.layout,"show-ump-ambience":t.showUmpAmbience,"goods-info":e,"item-index":i,"size-type":t.sizeType,"text-align-type":t.textAlignType}})],{layout:t.layout,showUmpAmbience:t.showUmpAmbience,goodsInfo:e,itemIndex:i,sizeType:t.sizeType}),t._v(" "),t._t("expand",null,{goodsInfo:e}),t._v(" "),t._t("price",[n("goods-price",{attrs:{"goods-info":e,"show-price":t.showPrice,"show-origin-price":t.showOriginPrice,"show-sold-num":t.showSoldNum,"show-buy-button":t.showBuyButton,"show-ump-ambience":t.showUmpAmbience,"buy-button-type":t.buyButtonType,"button-text":t.buttonText,"item-index":i,"text-style-type":t.textStyleType,"text-align-type":t.textAlignType,layout:t.layout,"size-type":t.sizeType,"show-price-label":t.showPriceLabel},on:{"buy-btn-click":t.handleBuyBtnClick},scopedSlots:t._u([{key:"price-label",fn:function(e){return[t._t("price-label",null,{goodsInfo:e.goodsInfo})]}},{key:"buy-button",fn:function(e){return t.useBuyButtonSlot?[t._t("buy-button",null,{goodsInfo:e.goodsInfo,buyButtonType:e.buyButtonType,buttonText:e.buttonText,buttonSize:e.buttonSize})]:void 0}}])})],{goodsInfo:e,showPrice:t.showPrice,showOriginPrice:t.showOriginPrice,showSoldNum:t.showSoldNum,showBuyButton:t.showBuyButton,showUmpAmbience:t.showUmpAmbience,buyButtonType:t.buyButtonType,buttonText:t.buttonText,itemIndex:i,textStyleType:t.textStyleType,textAlignType:t.textAlignType,layout:t.layout,sizeType:t.sizeType,showPriceLabel:t.showPriceLabel})],2),t._v(" "),t._t("item-bottom",null,{goodsInfo:e})],2)],2)})),t._v(" "),t.$slots["last-item-in-list"]&&t.list&&t.list.length>0?n("li",{staticClass:"cap-goods-layout__wrapper"},[t._t("last-item-in-list")],2):t._e(),t._v(" "),t.isSwipeLayout&&t.openSwipePagination?[t.isSwipeLoadFinished?n("more-button",{class:t.radiusTypeClass,attrs:{"more-url":t.moreUrl,"button-type":6,"goods-margin":t.goodsMargin,"more-text":"查看全部"}}):n("more-button",{class:t.radiusTypeClass,attrs:{"button-type":5,"goods-margin":t.goodsMargin,loading:t.isSwipeLoading}})]:t._e()],2)],t._v(" "),t.showMoreButton?n("more-button",{class:t.radiusTypeClass,attrs:{"more-url":t.moreUrl,"button-type":t.moreButtonType,"goods-margin":t.goodsMargin,"page-margin":t.pageMargin}}):t._e()],2)},staticRenderFns:[],name:"common-goods-layout",components:(I={},I[h.name]=h,I[b.name]=b,I[_.name]=_,I[C.name]=C,I[x.name]=x,I[O.name]=O,I),mixins:[T.a,A],props:{list:{type:Array,default:function(){return[]}},layout:{type:Number,default:0},sizeType:{type:Number,default:0},showCornerMark:Boolean,cornerMarkType:{type:Number,default:0},cornerMarkImage:{type:String,default:""},imageRatio:{type:Number,default:1},imageFillStyle:{type:Number,default:2},moreUrl:String,showMoreButton:Boolean,moreButtonType:{type:Number,default:1},pageMargin:{type:Number,default:15},goodsMargin:{type:Number,default:10},textStyleType:{type:Number,default:1},textAlignType:{type:String,default:"left"},borderRadiusType:{type:Number,default:1},showTitle:{type:Boolean,default:!0},showSubTitle:{type:Boolean,default:!0},showPrice:{type:Boolean,default:!0},showPriceLabel:Boolean,showOriginPrice:Boolean,showUmpAmbience:Boolean,showSoldNum:Boolean,showBuyButton:{type:Boolean,default:!0},buyButtonType:{type:Number,default:1},buttonText:String,openSwipePagination:Boolean,swipeLoadMaxTimes:{type:Number,default:2},extraData:{type:Object,default:function(){return{}}},useBuyButtonSlot:Boolean,itemClickCallback:Function},data:function(){return{width:0,isSwipeLoadFinished:!1,isSwipeLoading:!1,swipeLoadTimes:0}},computed:{pageMarginStyle:function(){var t=this.pageMargin,e="-"+this.goodsMargin/2+"px";return{paddingLeft:t+"px",paddingRight:t+"px",marginLeft:e,marginRight:e}},goodsMarginStyle:function(){return{margin:this.goodsMargin/2+"px"}},isWaterfall:function(){var t=this.layout,e=this.sizeType;return+t===v.j.SMALL&&+e===v.o.WATERFALL},isSwipeLayout:function(){return+this.layout===v.j.SWIPE},waterfallListParts:function(){var t=this.width,e=this.list,n=this.isWaterfall,i=+t>=v.n?3:2;return n?function(t,e){for(var n=[],i=0;i<t.length;i+=e)for(var o=0;o<e;o++)n[o]||(n[o]=[]),t[i+o]&&n[o].push(t[i+o]);return n}(e,i):e},waterfallSizeClass:function(){var t=this.waterfallListParts;return"waterfall-"+(void 0===t?[]:t).length},layoutClass:function(){var t=this.layout,e=void 0===t?0:t;return v.k[e]},sizeTypeClass:function(){var t=this.sizeType,e=void 0===t?0:t;return v.p[e]},widthClass:function(){return this.width>=540?"cap-goods-layout--540":""},radiusTypeClass:function(){var t=this.borderRadiusType,e=void 0===t?1:t;return v.m[e]}},mounted:function(){this.width=this.$el.getBoundingClientRect().width},methods:{getHybridIndex:function(t){if(this.layout!==v.j.HYBRID)return"";var e="cap-goods-layout__item--hybrid-";return t%3==0?e+v.k[v.j.BIG]:e+v.k[v.j.SMALL]},handleItemClick:function(t,e){this.itemClickCallback&&(e.preventDefault(),this.itemClickCallback(t,e))},handleBuyBtnClick:function(t,e){this.$emit("buy-btn-click",t,e)},handleWishBtnClick:function(t,e){this.$emit("wish-btn-click",t,e)},setBuyBtnLoading:function(t,e){this.broadcast("cap-goods-layout-goods-price","loading-change",{id:t,loading:e})},getClickParams:function(t){return t?{et:"click",ei:"open_goods",en:"打开商品详情",params:t}:null},checkSwipeable:function(){var t=this.isSwipeLayout,e=this.openSwipePagination,n=this.swipeLoadTimes,i=this.isSwipeLoading,o=this.isSwipeLoadFinished,r=this.swipeLoadMaxTimes,a=window.innerWidth||document.documentElement.clientWidth,s=this.$el.querySelector(".cap-goods-layout__wrapper--"+(this.list.length-1)).getBoundingClientRect();if(s.left>=0&&s.right<=a&&t&&e&&n<r&&!i&&!o)return!0},checkPropagation:function(t){this.isSwipeLayout&&t.stopPropagation()},handleTouchStart:function(t){this.checkPropagation(t),this.checkSwipeable()&&(this.touchStart(t),this.isTouchStart=!0)},handleTouchMove:function(t){this.checkPropagation(t),this.isTouchStart&&this.touchMove(t)},handleTouchEnd:function(){if(this.isTouchStart){var t=this.direction,e=this.offsetX;"horizontal"===t&&e>=60&&(this.isSwipeLoading=!0,this.swipeLoadTimes++,this.$emit("load-more")),this.isTouchStart=!1}},setSwipeStatus:function(t){var e=t.loading,n=t.swipeFinished;this.isSwipeLoading=e,this.isSwipeLoadFinished=this.swipeLoadTimes>=this.swipeLoadMaxTimes||n}}};e.a=B},"+iFO":function(t,e,n){t.exports=n("/g0A")("+iFO")},"+t4G":function(t,e){},"/9aa":function(t,e,n){t.exports=n("/g0A")("/9aa")},"/Bl6":function(t,e,n){},"/MDv":function(t,e,n){var i=n("ijwV"),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},"/Nw+":function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}},"/OXr":function(t,e,n){"use strict";var i=n("HMts");n.n(i).a},"/Q9L":function(t,e,n){"use strict";var i=n("+afb");n.n(i).a},"/b8u":function(t,e,n){t.exports=n("/g0A")("/b8u")},"/g0A":function(t,e){t.exports=library_3eb1ab30},"/i9x":function(t,e,n){var i=n("RCjy")(n("WWEG"),"Map");t.exports=i},0:function(t,e,n){n("nBtp"),n("b2oc"),t.exports=n("2Xot")},"0/pG":function(t,e,n){"use strict";n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return m}));n("4mDm"),n("07d7"),n("YGK4"),n("PKPk"),n("3bBZ");var i=window._global,o=i.platformSpecialUI,r=void 0===o?{}:o,a=i.platformInfo,s=(void 0===a?{}:a).platform,c=void 0===s?"unknown":s,u=new Set(r.hideShareIcon),l=new Set(r.dangerousPlatform),d=new Set(r.hideRankingPlatform),p=function(){return l.has(c)},f=function(){return u.has(c)},h=function(){return d.has(c)},m="kuaishou"===c||"kuaishou.youzan.com"===location.hostname},"0BK2":function(t,e,n){t.exports=n("/g0A")("0BK2")},"0LUs":function(t,e,n){"use strict";var i=n("UbSZ");n.n(i).a},"0PfK":function(t,e,n){},"0QqW":function(t,e,n){},"0TkE":function(t,e,n){"use strict";var i=n("67WC"),o=n("tycR").find,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",(function(t){return o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},"0eEh":function(t,e,n){t.exports=n("oxns")("0eEh")},"0eef":function(t,e,n){t.exports=n("/g0A")("0eef")},"0l8F":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return IFrameFramework}));var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("yXV3"),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("zKZe"),core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("07d7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("5s+n"),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_3__),_style_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("7QqZ"),_style_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_style_css__WEBPACK_IMPORTED_MODULE_4__),_youzan_utils_url_args__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("6NA5"),_youzan_utils_url_args__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_youzan_utils_url_args__WEBPACK_IMPORTED_MODULE_5__),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("EzGd"),IFrameFramework=function(){function IFrameFramework(t){var e=t.appId,n=t.version,i=t.host,o=t.pagePath,r=t.loadingPic,a=t.logPath,s=t.uploadLog,c=t.initPath;this.id=Object(_utils__WEBPACK_IMPORTED_MODULE_6__.c)(16),this.version=n,this.appId=e,this.loadingPic=r,this.uploadLog=s,this.logPath=a,this.host=i,this.pageUrl=this.host+o,this.initUrl=this.host+c,this.successHandler=function(){},this.cancelHandler=function(){},this.options={},this.ifmElmMounted=!1,this.containerId=e+"-iframe-container",this.iframeId=e+"-iframe",this.registerPostMessage(),this.registerScreenResize(),this.container=this.importContainer(),this.loading=this.importLoading(),this.ifmElm=null,this.initIfmElm=null,this.context={},this.loadingTimer=null,this.platformCallBack()}var _proto=IFrameFramework.prototype;return _proto.toLog=function(t,e){void 0===e&&(e={}),this.uploadLog&&-1!==["执行脚本失败","loading 超时","未知错误"].indexOf(t)&&Object(_utils__WEBPACK_IMPORTED_MODULE_6__.a)({url:this.host+this.logPath,method:"POST",data:{logName:this.appId+"(v"+this.version+")["+this.id+"]:"+t,data:Object(_utils__WEBPACK_IMPORTED_MODULE_6__.b)(e,location,{pageUrl:this.pageUrl})}})},_proto.registerPostMessage=function registerPostMessage(){var _this=this;window.addEventListener("message",(function(event){if(event.data.messageSigned===_this.appId)switch(_this.ifmElmMounted=!0,event.data.type){case"framework-mounted":_this.loadingShow(!1),_this.postMessageToMain("framework-options",_this.options);break;case"framework-com-mounted":_this.mainShow(!0),_this.toLog("弹窗已挂载到 DOM 且已显示");break;case"framework-close":_this.cancelHandler(event.data.data);case"framework-close-auto":_this.close(),_this.toLog("弹窗隐藏");break;case"framework-success":_this.toLog("业务成功"),_this.successHandler(event.data.data);break;case"framework-eval":try{eval(event.data.data),_this.toLog("执行脚本成功",{code:event.data.data})}catch(t){_this.toLog("执行脚本失败",{code:event.data.data,error:t})}}}),!1)},_proto.registerScreenResize=function(){var t=this;window.addEventListener("resize",(function(){t.container.style.height=t.getHeight()+"px",t.ifmElm&&(t.ifmElm.height=t.getHeight()+"px")}),!1)},_proto.postMessageToMain=function(t,e){this.ifmElm&&this.ifmElmMounted&&(this.ifmElm.contentWindow?this.ifmElm.contentWindow.postMessage({type:t,data:e,messageSigned:this.appId},"*"):this.toLog("contentWindow",{href:location.href}))},_proto.getHeight=function(){var t=window.innerHeight;return window.outerHeight&&window.outerHeight<t&&(t=window.outerHeight),t},_proto.getWidth=function(){var t=window.innerWidth;return window.outerWidth&&window.outerWidth<t&&(t=window.outerWidth),t},_proto.importContainer=function(){if(!this.container){var t=document.createElement("div");t.id=this.containerId,t.classList.add("framework-iframe-container"),t.style.height=this.getHeight()+"px",t.style.zIndex="-1",this.container=t,document.body.appendChild(t)}return this.container},_proto.containerShow=function(t){this.container.style.zIndex=t?"9999":"-1",this.postMessageToMain("framework-container",{show:t})},_proto.importLoading=function(){if(!this.loading){var t=document.createElement("div");t.className="frame-loading",t.innerHTML='\n      <div class="van-toast van-toast--middle van-toast--loading">\n        <div class="van-loading van-loading--circular van-toast__loading">\n          <span class="van-loading__spinner van-loading__spinner--circular">\n            <svg viewBox="25 25 50 50" class="van-loading__circular">\n            <circle cx="50" cy="50" r="20" fill="none"></circle>\n            </svg>\n          </span>\n        </div>\n        <div class="van-toast__text">加载中...</div>\n      </div>\n      ',t.style.display="none",this.loading=t,this.container.appendChild(t)}return this.loading},_proto.loadingShow=function(t){var e=this;clearTimeout(this.loadingTimer),t&&(this.loadingTimer=setTimeout((function(){e.close(),e.toLog("loading 超时")}),5e3)),this.loading.style.display=t?"block":"none",this.postMessageToMain("framework-loading",{show:t})},_proto.importMain=function(){if(!this.ifmElm){var t=document.createElement("iframe");this.ifmElm=t,t.id=this.iframeId,t.frameBorder=0,t.allowFullscreen=!0,t.style.visibility="hidden",t.height=this.getHeight(),t.width=this.getWidth();var e={version:this.version};t.src=_youzan_utils_url_args__WEBPACK_IMPORTED_MODULE_5___default.a.add(this.pageUrl,e),this.container.appendChild(t)}},_proto.mainShow=function(t){this.ifmElm&&(this.ifmElm.style.visibility=t?"visible":"hidden"),this.postMessageToMain("framework-main",{show:t})},_proto.open=function(t){var e=this;return void 0===t&&(t={}),this.options=Object.assign({pageUrl:location.href,_global:_global},t),this.toLog("准备呼起弹窗"),new Promise((function(t,n){try{e.cancelHandler=n,e.successHandler=t,e.containerShow(!0),e.ifmElmMounted?(e.toLog("二次显示弹窗"),e.containerShow(!0),e.mainShow(!0),e.postMessageToMain("framework-options",e.options),e.postMessageToMain("second-show",e.options)):(e.toLog("首次挂载弹窗"),e.loadingShow(!0),e.importMain())}catch(t){e.toLog("未知错误",{error:t}),n()}}))},_proto.close=function(){this.loadingShow(!1),this.mainShow(!1),this.containerShow(!1)},_proto.init=function(t,e){void 0===t&&(t={}),void 0===e&&(e=1),this.context[e]=t},_proto.platformCallBack=function(){if(localStorage&&("1"===localStorage.getItem(this.appId+"-need-callback")&&(localStorage.removeItem(this.appId+"-need-callback"),!this.initIfmElm))){var t=document.createElement("iframe");this.initIfmElm=t,t.id=this.appId+"-init",t.frameBorder=0,t.allowFullscreen=!0,t.style.visibility="hidden",t.height=0,t.width=0;var e={version:this.version};t.src=_youzan_utils_url_args__WEBPACK_IMPORTED_MODULE_5___default.a.add(this.initUrl,e),document.body.appendChild(t)}},IFrameFramework}()},"0oug":function(t,e,n){n("dG/n")("iterator")},"0rvr":function(t,e,n){t.exports=n("/g0A")("0rvr")},"14Sl":function(t,e,n){t.exports=n("/g0A")("14Sl")},"1EgG":function(t,e,n){},"1Y/n":function(t,e,n){t.exports=n("/g0A")("1Y/n")},"1YtK":function(t,e,n){},"1b5v":function(t,e,n){},"1dYe":function(t,e,n){"use strict";var i=n("67WC"),o=n("tycR").forEach,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",(function(t){o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},"1hJj":function(t,e,n){var i=n("e4Nc"),o=n("ftKO"),r=n("3A9y");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=r,t.exports=a},"1sqW":function(t,e,n){},"27RR":function(t,e,n){var i=n("I+eb"),o=n("g6v/"),r=n("Vu81"),a=n("/GqU"),s=n("Bs8V"),c=n("hBjN");i({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,i=a(t),o=s.f,u=r(i),l={},d=0;u.length>d;)void 0!==(n=o(i,e=u[d++]))&&c(l,e,n);return l}})},"2Ry4":function(t,e,n){"use strict";var i=n("Zt52");n.n(i).a},"2WHu":function(t,e,n){t.exports=n("oxns")("2WHu")},"2Xot":function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"escapeHtml",(function(){return _n})),n.d(i,"addPriceUnit",(function(){return kn})),n.d(i,"formatPrice",(function(){return wn})),n.d(i,"formatImage",(function(){return Sn})),n.d(i,"formatDistance",(function(){return Cn})),n.d(i,"formatTimeToDay",(function(){return Pn}));n("ma9I"),n("QWBl"),n("yXV3"),n("E9XD"),n("tkto"),n("07d7"),n("5s+n"),n("FZtP");var o=n("Kw5r"),r=n("8afP");n("4mDm"),n("PKPk"),n("3bBZ");var a=n("vDqi"),s=n.n(a),c=(n("zKZe"),n("2Xrt")),u=(n("oVuX"),n("rB9j"),n("UxlC"),n("EnZy"),n("OBge"),n("RKTd")),l=n.n(u),d=(n("qY1R"),n("LK4Q")),p=n("3kFX"),f=n.n(p),h=n("BfIq"),m=n.n(h),g=n("xS4f"),v=n.n(g),y=n("ZbhI"),b=n.n(y),_=["youzan.com"],k=["isv.youzan.com","isv-dev.youzan.com"],w=[41785471],S=["@","\\"];function C(t){return""===t||"javascript:"===t||"javascript:;"===t||"javascript:void(0)"===t||"javascript:void(0);"===t||0===b()(t).call(t,"tel:")||0===b()(t).call(t,"mailto:")||0===b()(t).call(t,"#")}function P(t){return!function(t){return b()(_).call(_,t)>-1||v()(_).call(_,(function(e){var n="."+e,i=m()(t).call(t,n);return i>-1&&i===t.length-n.length}))}(t)||function(t){return b()(k).call(k,t)>-1||v()(k).call(k,(function(e){var n="."+e,i=m()(t).call(t,n);return i>-1&&i===t.length-n.length}))}(t)||function(t){return v()(S).call(S,(function(e){return b()(t).call(t,e)>-1}))}(t)}var x,O,T=n("KYsz"),I=n.n(T),A=window._global||{},B=(null==A||null==(x=A.trafficIdentification)?void 0:x.whitelist)||[],j=(null==A||null==(O=A.trafficIdentification)?void 0:O.blacklist)||[];function D(t){var e=void 0===t?{}:t,n=e.url,i=void 0===n?"":n,o=e.kdtId,r=void 0===o?"":o,a=e.extraQuery,s=void 0===a?{}:a;if(i=l()(i).call(i),function(t){return v()(w).call(w,(function(e){return e==t}))}(r)||C(i))return i;var c=(i=function(t){return t=I()(B).call(B,(function(t,e){var n,i=f.a.get(e);return i?f.a.add(t,((n={})[e]=i,n)):t}),t),t=I()(j).call(j,(function(t,e){return f.a.get(e)?f.a.remove(t,e):t}),t)}(function(t){var e=document.createElement("a");return e.href=t,e.href}(i))).match(/^https?:\/\/([-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,10})\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/);return!c||P(c[1])?f.a.add("https://rd.youzan.com/ban/common/outbound-link/judge",Object(d.default)(Object(d.default)({},s),{},{url:i})):i}var E=n("CDy+"),L=(n("pNMO"),n("4Brf"),n("2B1R"),n("+2oP"),n("Rfxz"),n("5DmW"),n("27RR"),n("NBAS"),n("ENF9"),n("piMb"),n("fbCW"),n("B6y2"),n("RHh3")),N="High",M="Unsafe",F={appName:"wsc-h5-v3",logIndex:"cloud_guard_log"};var R=function(t,e){var n=function(){var t=window._global;return t&&(t.kdtId||t.kdt_id)||null}(),i="string"==typeof e?{msg:e,kdtId:n}:Object.assign({},e,{kdtId:n});c.a.log(Object.assign({},F,{name:t,level:"info",message:JSON.stringify(i)}))};function U(t){var e={push:function(t){location.href=D({url:t})},replace:function(t){location.replace(D({url:t}))},go:function(t){history.go(t)},getIsvExt:function(){return function(t,e){var n=t.split("?")[1];if(!n)return null;for(var i=n.split("&"),o=0;o<i.length;o++){var r=i[o].split("=");if(r.shift()===e)return decodeURIComponent(r.join("="))}return null}(location.href,"isv_ext")}};t.SWindow.youzanyunRouter=e,t.fakeWindow.youzanyunRouter=e}function W(t,e){var n="_yzs_"+t+"_";return{setItem:function(t,i){if(e)try{e.setItem(n+t,i)}catch(t){22===t.code&&e.clear()}},getItem:function(t){return new Promise((function(i){i(e?e.getItem(n+t):null)}))},removeItem:function(t){e&&e.removeItem(t)},clear:function(){e&&e.clear()}}}var G=Symbol("contextSymbol");function $(t){return-1!==t.indexOf(".")}function q(t,e){return t.split(" ").map((function(t){return e+t})).join(" ")}function H(t,e){if(t.textContent){var n=function(t){for(var e=[],n="",i=0,o=0;o<t.length;o++)n+=t[o],"{"===t[o]?i++:"}"===t[o]&&0===--i&&(e.push(n),n="");return e}(t.textContent).map((function(t){var n=t.split("{"),i=n.shift(),o=n.join("{");return function(t,e){return $(t)?t.split(",").map((function(t){return t.split(" ").map((function(t){return $(t)?function(t,e){if(-1!==t.indexOf("[")){for(var n="",i=!1,o=0;o<t.length;o++){var r=t[o];"."!==r||i?("["===r?i=!0:"]"===r&&(i=!1),n+=r):n+="."+e}return n}return t.replace(/\./g,"."+e)}(t,e):t})).join(" ")})).join(","):t}(i,e)+"{"+o}));t.textContent=n.join("")}}var V=0;function z(t){return"function"==typeof t}function Y(t,e){return Object.keys(t).reduce((function(n,i){return n[i]=e(t[i]),n}),{})}function K(t,e,n,i,o){var r=function(t){var e=[],n=["top","parent","window","frames","location","frameElement","localStorage","sessionStorage"];for(var i in t)-1===n.indexOf(i)&&e.push(i);return e}(e),a=function(t){var e=[],n=Object.getOwnPropertyDescriptors(t);return Object.keys(n).forEach((function(t){e.push(t)})),e}(e),s={};return a.forEach((function(t){s[t]={get:function(){return e[t]},set:function(n){e[t]=n}}})),r.forEach((function(t){s[t]={get:function(){var n=e[t];return z(n)?n.bind(e):n},set:function(n){e[t]=n}}})),s.location={value:n},s.getComputedStyle={value:function(e,n){var i=o(e);return t.getComputedStyle(i,n)}},["pageXOffset","pageYOffset","innerWidth","innerHeight","outerWidth","outerHeight"].forEach((function(e){s[e]={get:function(){return t[e]},set:function(n){t[e]=n}}})),e.Object.defineProperties(e.Object.create(null),s)}function Q(t,e,n){void 0===n&&(n=null);try{Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1})}catch(t){}}var Z=["x","y","pageX","pageY","clientX","clientY","offsetX","offsetY","screenX","screenY","timeStamp"];function J(t){return"STYLE"===t.tagName}function X(t,e,n){return"class"===t&&n?q(e,n):"string"==typeof e&&(-1!==(i=e).indexOf("http:")&&-1!==i.indexOf("yzcdn.cn"))?e.replace("http:","https:"):e;var i}var tt=function(){function t(t){var e=this,n=t.sandboxId,i=t.HWindow,o=t.SWindow,r=t.iframeDomains;this.HTSNode=function(t){return e.HTSMap.get(t)},this.STHNode=function(t){return e.STHMap.get(t)},this.clone=function(t){var n=e.SWindow,i=e.HTSNode,o=e.cloneCache;if(!function(t){return null!==t&&"object"==typeof t}(t))return e.clonePrimitive(t);var r=o.get(t);if(void 0!==r)return r;if(Array.isArray(t)){var a=e.cloneArray(t);return o.set(t,a),a}if(z(t))return e.proxyFunction(t);if(t instanceof Node)return i(t);var s=n.Object.create(null);for(var c in t)s[c]=e.clone(t[c]);return o.set(t,s),s},this.sandboxId=n,this.classPrefix="_yzs_"+n+"_",this.HTSMap=new WeakMap,this.STHMap=new WeakMap,this.cloneCache=new WeakMap,this.eventListenerMap=new WeakMap,this.HWindow=i,this.SWindow=o,this.iframeDomains=r||[],this.fakeLocation=function(t,e){var n=new e.Function,i={assign:n,reload:n,replace:n},o={};return["hash","host","href","port","origin","search","pathname","protocol","hostname"].forEach((function(e){o[e]={get:function(){return t.location[e]},set:n}})),e.Object.defineProperties(i,o),i}(i,o),this.fakeWindow=K(i,o,this.fakeLocation,this.clone,this.STHNode),this.proxyEvent(i,o),this.proxySDocument(i.document,o.document)}var e=t.prototype;return e.linkNode=function(t,e){this.HTSMap.set(t,e),this.STHMap.set(e,t)},e.linkMethod=function(t,e,n,i){return function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t.apply(n,r),e.apply(i,r)}},e.linkProperty=function(t,e,n){Object.defineProperty(e,n,{set:function(e){t[n]=e},get:function(){return t[n]}})},e.proxyNode=function(t,e){e.__sandboxId=this.sandboxId,this.proxyEvent(t,e),this.proxyNodeMove(t,e),this.proxyTextContent(t,e),t instanceof Element&&this.proxyElement(t,e)},e.proxyElement=function(t,e){var n=this;this.proxyRect(t,e),this.proxyScroll(t,e),this.proxyInnerHTML(t,e),this.proxyClassList(t,e),this.proxyAttribute(t,e),"value"in t&&this.proxyValue(t,e),"style"in t&&this.proxyStyle(t,e),"src"in t&&this.proxySrc(t,e),"offsetParent"in t&&Object.defineProperty(e,"offsetParent",{set:function(e){t.offsetParent=e},get:function(){var e=t.offsetParent;return e?n.HTSNode(e):e}}),t instanceof HTMLMediaElement&&this.proxyMedia(t,e)},e.proxyMedia=function(t,e){var n=this;["play","pause","load"].forEach((function(i){e[i]=n.linkMethod(t[i],e[i],t,e)}))},e.proxySrc=function(t,e){var n=this,i=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"src");Object.defineProperty(e,"src",{set:function(o){var r;n.isSafeAttribute(e,"src",o)&&(t.src=X("src",o)),null===(r=null==i?void 0:i.set)||void 0===r||r.call(e,o)},get:function(){return t.src}})},e.proxyStyle=function(t,e){var n=this;Object.defineProperty(e,"style",{set:function(e){t.style=e},get:function(){return t.style}});["offsetWidth","offsetHeight","offsetTop","offsetLeft"].forEach((function(i){n.linkProperty(t,e,i)}))},e.proxyScroll=function(t,e){var n=this;["scrollTop","scrollLeft"].forEach((function(i){n.linkProperty(t,e,i)}))},e.proxyCanvas=function(t,e){["getContext","toBlob","toDataURL"].forEach((function(n){Object.defineProperty(e,n,{value:function(){return t[n].apply(t,arguments)}})}));var n=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(e));["width","height"].forEach((function(i){Object.defineProperty(e,i,{get:function(){return t[i]},set:function(o){t[i]=o,n[i].set.call(e,o)}})}))},e.proxySDocument=function(t,e){var n=this;this.linkNode(t,e),this.linkNode(t.head,e.head),this.linkNode(t.body,e.body),this.proxyNode(t.head,e.head),this.proxyNode(t.body,e.body);var i=function(i,o){return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var c=i.apply(t,a),u=o.apply(e,a);n.linkNode(c,u),n.proxyNode(c,u);var l=u.tagName;switch(l){case"CANVAS":n.proxyCanvas(c,u);break;case"IFRAME":c.setAttribute("sandbox","allow-scripts")}return u}};e.createElement=i(t.createElement,e.createElement),e.createElementNS=i(t.createElementNS,e.createElementNS),e.createComment=i(t.createComment,e.createComment),e.createTextNode=i(t.createTextNode,e.createTextNode)},e.proxyNodeMove=function(t,e){var n=this,i=e.appendChild,o=e.removeChild,r=e.insertBefore;e.appendChild=function(o){var r=n.STHNode(o);return r&&(J(t)&&H(r,n.classPrefix),t.appendChild(r)),i.call(e,o)},e.removeChild=function(i){var r=n.STHNode(i);return r&&t.removeChild(r),o.call(e,i)},e.insertBefore=function(i,o){var a=n.STHNode(i),s=o?n.STHNode(o):null;return a&&(J(t)&&H(a,n.classPrefix),t.insertBefore(a,s||null)),r.call(e,i,o)}},e.proxyInnerHTML=function(t,e){var n=Object.getOwnPropertyDescriptor(this.SWindow.Element.prototype,"innerHTML");Object.defineProperty(e,"innerHTML",{get:function(){return t.innerHTML},set:function(i){var o;o=i,["script","iframe"].map((function(t){return"<"+t})).every((function(t){return-1===o.indexOf(t)}))&&(t.innerHTML=i),n.set.call(e,i)}})},e.proxyTextContent=function(t,e){var n=Object.getOwnPropertyDescriptor(this.SWindow.Node.prototype,"textContent");Object.defineProperty(e,"textContent",{get:function(){return t.textContent},set:function(i){t.textContent=i,n.set.call(e,i)}})},e.proxyValue=function(t,e){var n=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value");Object.defineProperty(e,"value",{get:function(){return t.value},set:function(i){t.value=i,n.set.call(e,i)}})},e.proxyClassList=function(t,e){var n=this.classPrefix,i=e.classList,o=i.add,r=i.remove,a=i.replace;e.classList.add=function(){for(var i,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];(i=t.classList).add.apply(i,a.map((function(t){return q(t,n)}))),o.apply(e.classList,a)},e.classList.remove=function(){for(var i,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];(i=t.classList).remove.apply(i,a.map((function(t){return q(t,n)}))),r.apply(e.classList,a)},e.classList.replace=function(i,o){t.classList.replace(q(i,n),q(o,n)),a.call(e.classList,i,o)}},e.proxyAttribute=function(t,e){var n=this,i=this.classPrefix,o=e.setAttribute,r=e.setAttributeNS;e.setAttribute=function(r,a){return n.isSafeAttribute(t,r,a)&&t.setAttribute(r,X(r,a,i)),o.call(e,r,a)},e.setAttributeNS=function(o,a,s){return n.isSafeAttribute(t,a,s)&&t.setAttributeNS(o,a,X(a,s,i)),r.call(e,o,a,s)},["removeAttribute","removeAttributeNS"].forEach((function(i){e[i]=n.linkMethod(t[i],e[i],t,e)}))},e.isSafeAttribute=function(t,e,n){if("src"===e){if("IFRAME"===t.tagName)return n=n.split("?")[0],this.iframeDomains.some((function(t){return-1!==n.indexOf(t)}));if(function(t){return"SCRIPT"===t.tagName}(t))return!1}return!0},e.proxyRect=function(t,e){e.getBoundingClientRect=function(){return t.getBoundingClientRect()}},e.proxyEvent=function(t,e){var n=this;e.addEventListener=function(e,i,o){if(i){var r=function(t){var e=n.cloneEvent(t);(i.handleEvent?i.handleEvent:i).call(i,e)};n.eventListenerMap.set(i,r),t.addEventListener(e,r,o)}},e.removeEventListener=function(e,i,o){if(i){var r=n.eventListenerMap.get(i);r&&(t.removeEventListener(e,r,o),n.eventListenerMap.delete(i))}},e.dispatchEvent=function(){return t.dispatchEvent.apply(t,arguments)}},e.proxyFunction=function(t){var e=this;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.apply(null,e.clone(i))}},e.clonePrimitive=function(t){var e=this.SWindow;switch(typeof t){case"string":return e.String(t);case"number":return e.Number(t);case"boolean":return e.Boolean(t);default:return t}},e.cloneArray=function(t){var e=this,n=new this.SWindow.Array;return t.forEach((function(t){n.push(e.clone(t))})),n},e.toArray=function(t){return this.SWindow.Array.prototype.slice.call(t)},e.cloneTouchList=function(t){var e=this.cloneArray(this.toArray(t));return e.item=function(t){return this[t]||null},e},e.cloneEvent=function(t){var e=this.SWindow,n=this.HTSNode,i=e.document.createEvent("CustomEvent");i.initCustomEvent(t.type,!1,!0,{});var o={};if(t.target){var r=n(t.target);o.target={value:r};var a=t.target.files;a&&(r.files=a)}return t.currentTarget&&(o.currentTarget={value:n(t.currentTarget)}),"touches"in t&&Object.assign(o,{touches:{value:this.cloneTouchList(t.touches)},targetTouches:{value:this.cloneTouchList(t.targetTouches)},changedTouches:{value:this.cloneTouchList(t.changedTouches)}}),Z.forEach((function(e){o[e]={value:t[e]}})),Object.defineProperties(i,o),i},t}(),et={},nt={};function it(t,e){var n,i=((n=document.createElement("iframe")).setAttribute("sandbox","allow-scripts allow-same-origin"),document.body.appendChild(n),n),o=i.contentWindow;!function(t){t.style.display="none";var e=t.contentWindow.document;Object.assign(e.body.style,{width:"100vw",margin:"0"})}(i);var r=new tt({sandboxId:t,HWindow:window,SWindow:o,iframeDomains:e.iframeDomains});!function(t,e){Q(t.document,"cookie"),Q(t.document,"defaultView",e.fakeWindow)}(o,r),et[t]=r,nt[t]=i}function ot(t){return et[t]}function rt(t){var e={};return Object.keys(t).forEach((function(n){var i=t[n];(function(t){try{return JSON.stringify(t),!1}catch(t){return!0}})(i)||(e[n]=i)})),e}function at(t,e,n){function i(e){return function(i){n.then((function(){i({mounted:function(){var n=t.SWindow.mallCloud;if(n){var i=n.Vue||t.SWindow.Vue,o=function(t,e){e=e.replace("cloud_","");var n=Object.keys(t).find((function(n){return t[n].name===e}));if(n)return t[n]}(n.components,e);if(o){var r=t.SWindow.document,a=r.createElement("div"),s=rt(this.$attrs);r.body.appendChild(a);var c=new i({render:function(t){return t(o,{props:s})}}).$mount(a).$el,u=t.STHNode(c);this.$el.appendChild(u)}}},render:function(t){return t("div")}})}))}}e.forEach((function(t){o.default.component(t,i(t))}))}var st={createContext:function(t){return t},runInContext:function(t,e){var n={};return new Function("zan","ctx",t)(n,e),n}};function ct(t,e,n){if(!e)return e;var i=t.SWindow.Object.create(null);return i.env=t.clone(e.env),i.watch=t.proxyFunction(e.watch),i.lambdas=t.clone(e.lambdas),i.components=lt(t,n,e.components),i.data=e.data,i.event=e.event,i.process=e.process,i}function ut(t,e,n){return{props:e.props,mounted:function(){var i,o=this,r=t.SWindow.document,a=r.createElement("div");r.body.appendChild(a),i=this.$options.components,Object.keys(i).forEach((function(t){n.component(t,i[t])}));var s=Object.keys(e.props||{}).reduce((function(e,i){return e[i]="ctx"===i?ct(t,o.ctx,n):t.clone(o[i]),e}),{}),c=new n(Object.assign({},e,{propsData:s})).$mount(a).$el,u=t.STHNode(c);!function(t,e){if(t.__sandboxId){var n=ot(t.__sandboxId).STHNode(t);n&&n.appendChild(e)}else t.appendChild(e)}(this.$el,u)},render:function(t){return t("div")}}}function lt(t,e,n){if(n)return Y(n,(function(n){return ut(t,n,e)}))}function dt(t,e){var n=e.global,i=e.extensions;i&&n&&(e.extensions=Y(i,(function(e){return function(t,e,n){var i=n.Vue;function o(n){var o=t.SWindow.Object.create(null);o.ctx=ct(t,n.ctx,i);var r=new e(o);return r.widget&&(r.widget=ut(t,r.widget,i)),r}return o.components=lt(t,i,e.components),e.lambdas&&(o.lambdas=Y(e.lambdas,(function(e){return t.proxyFunction(e)}))),o}(t,e,n)})))}var pt={createContext:function(t,e){return it(t[G].uid,e),t},runInContext:function(t,e){var n=e[G].uid,i=ot(n),o=nt[n].contentWindow,r={window:i.fakeWindow,globalThis:i.fakeWindow,location:i.fakeLocation,top:null,parent:null,frames:null,frameElement:null,zan:o.Object.create(null),ctx:i.clone(e),WebSocket:void 0,localStorage:void 0,sessionStorage:void 0};return Object(L.a)(o.Function,Object.keys(r).concat([t])).apply(void 0,Object.values(r)),dt(i,r.zan),r.zan}};function ft(t,e){var n=e[G].level;if(n===N)return pt.runInContext(t,e);if(n===M)return st.runInContext(t,e);throw new Error("SecurityLevel not found："+n)}function ht(t){return s()({url:t,headers:[{"content-type":"text/plain"}]}).then((function(t){return t.data}))}function mt(t){R("legacyCreateSandbox",{options:t});var e=function(t,e,n){var i;void 0===e&&(e={}),void 0===n&&(n={}),R("createContext",{options:n});var o=Object.assign({},e,((i={})[G]={uid:++V+"",level:t},i));if(t===N)return pt.createContext(o,n);if(t===M)return st.createContext(o);throw new Error("SecurityLevel not found："+t)}(N,{},{iframeDomains:t.iframeDomains}),n=ot(e[G].uid);!function(t){var e=t.fakeWindow,n=t.SWindow;Object.defineProperty(e,"mallCloud",{get:function(){return n.mallCloud},set:function(t){n.mallCloud=t}})}(n),function(t){var e=t.HWindow,n=t.SWindow,i=t.fakeWindow;Object(E.d)(e),["youzanyunbridge","youzanyunReady","youzanyunbridgeReady"].forEach((function(t){i[t]=e[t],n[t]=e[t]}))}(n),U(n),function(t){var e=t.sandboxId,n=t.HWindow,i=n.localStorage,o=n.sessionStorage,r={localStorage:W(e,i),sessionStorage:W(e,o)};t.SWindow.youzanyunStorage=r,t.fakeWindow.youzanyunStorage=r}(n);var i=new Promise((function(n){Promise.all([ht("https://b.yzcdn.cn/npm/vue@2.6.10/vue.runtime.min.js"),ht(t.scriptUrl)]).then((function(t){var i=t[0],o=t[1];ft(i,e),window.youzanyunReady((function(){ft(o,e),n()}))}))}));at(n,t.components||[],i)}var gt,vt,yt=n("G7ty");function bt(t){var e=[];return t.forEach((function(t){0!==t.type.indexOf("diy-")&&0!==t.type.indexOf("cloud_")||e.push(t.type),(t.components||[]).forEach((function(n){0!==n.name.indexOf("diy-")&&0!==t.type.indexOf("cloud_")||e.push(n.name)}))})),e}function _t(t){delete window.youzanDiyComponents;var e,n={},i=(e=t,new Promise((function(t){var n=document.createElement("script");n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||t()},n.setAttribute("type","text/javascript"),n.setAttribute("src",e),document.body.appendChild(n)}))).then((function(){var t=window.youzanDiyComponents||{};return Object.keys(t).forEach((function(e){var i=t[e];n[i.name]=i})),Promise.resolve()})),a=Object(r.i)(window._global,"design",{});(bt(Array.isArray(a)?a:Object.keys(a).reduce((function(t,e){return t=t.concat(a[e])}),[]))||[]).forEach((function(t){o.default.component(t,(function(e){i.then((function(){var i=n[t];i?(i.disableStore=!0,e(i)):e({template:"<div />"})})).catch((function(){e({template:"<div />"})}))}))}))}_global.diyConfig&&"youzanyun"===_global.diyConfig.type||+r.b.get("useSandBox")?(gt=bt(_global.design),(vt=Object(r.i)(window._global,"diyScript",""))&&mt({scriptUrl:vt,components:gt,iframeDomains:_global.iframeDomains||[]}),Object(yt.b)({et:"view",ei:"ext_entry",en:"页面被定制"})):function(){var t,e=Object(r.i)(window._global,"diyScript","");e?_t(e):(t=window.youzanDiyComponents||{},Object.keys(t).forEach((function(e){var n=t[e];Object(r.n)(n)&&(n.disableStore=!0,o.default.component(n.name,n))})))}();n("b2oc"),n("TeQF"),n("YGK4");var kt=n("d9Jj"),wt=n("htSs"),St=(n("5+UC"),n("05lO")),Ct=window.navigator.geolocation;function Pt(){var t,e=Ct&&Ct.getCurrentPosition,n=Object(r.d)("buyer_lon"),i=Object(r.d)("buyer_lat");return n&&i?Promise.resolve({lng:n,lat:i}):e?(t={timer:null},new Promise((function(e){t.timer=setTimeout((function(){Object(St.default)("获取地理位置超时..."),e({lng:0,lat:0})}),5e3),Ct.getCurrentPosition((function(n){if(n.coords){var i=n.coords,o=i.latitude,r=void 0===o?0:o,a=i.longitude,s=void 0===a?0:a;return clearTimeout(t.timer),e({lng:s,lat:r})}e()}),(function(){clearTimeout(t.timer),e({lng:0,lat:0})}))}))):Promise.resolve({lng:0,lat:0})}function xt(t,e){return function(t){return t>=-90&&t<=90}(t)&&function(t){return t>=-180&&t<=180}(e)}var Ot=n("0/pG"),Tt=window._global,It=Tt.goodsData,At=Tt.shopData,Bt=Tt.pageParams,jt=Tt.offlineData,Dt=Tt.shopMetaInfo,Et=Tt.userStateReady,Lt=void 0!==Et&&Et,Nt=Tt.ignoreUserState,Mt=void 0!==Nt&&Nt,Ft=It.alias,Rt=It.goods.id,Ut=It.shopConfig,Wt=void 0===Ut?{}:Ut,Gt=It.delivery,$t=void 0===Gt?{}:Gt,qt=!Ot.d&&Object(r.i)(It,"fastbuyFeature.isFastBuy",!1),Ht=At.kdtId,Vt=jt||{},zt=Vt.id,Yt=Vt.address,Kt=Dt.shopType,Qt=Dt.shopRole,Zt=$t.supportExpress,Jt=void 0===Zt||Zt,Xt=$t.supportLocalDelivery,te=void 0===Xt||Xt,ee=$t.supportSelfFetch,ne=void 0===ee||ee,ie=Wt.hideShoppingCart,oe=void 0===ie?0:ie,re=Wt.freightInsurance,ae=void 0===re?1:re,se=Wt.isGift,ce=void 0===se?1:se,ue=Wt.isWebImInGoods,le=void 0===ue?1:ue,de=Wt.isWish,pe=void 0===de?1:de,fe=Wt.showBuyBtn,he=void 0===fe?1:fe,me=Wt.showShopBtn,ge=void 0===me?1:me,ve=Wt.showWscWebIm,ye=void 0===ve?1:ve,be=Wt.scrmCreditDiyName,_e=void 0===be?"{}":be,ke={};try{ke=JSON.parse(_e)}catch(t){}var we=ke.name,Se=void 0===we?"积分":we,Ce=new Set(["seckill","groupOn","helpCut","tuan","presentExchange","luckyDrawGroup","auction","fCode","inSourcingFission","productLaunch"]),Pe=function(t){void 0===t&&(t={});var e=t,n=e.marketing,i=e.pageFeature,o=e.quotaUsed,a=e.buyLimitType,s=void 0===a?0:a,c=e.hasPurchaseRight,u=e.haitaoTariffAmount,l=void 0===u?"":u,d=e.salableStores,p=e.soldNum,f=e.spuStock,h=e.skuStocks,m=e.bosWorkFlow,g=n.umpLimit,v=void 0!==g&&g,y=n.activities,b=void 0===y?[]:y,_=n.orderActivity,k=void 0===_?{}:_,w=n.aggregationActivities;return{promotionLimit:v,parsedPromotions:void 0===w?[]:w,parsedActivities:function(t){if(void 0===t&&(t=[]),0===t.length)return{};var e={},n=t.filter((function(t){return"packageBuy"===t.type}));return n.length&&(e.packageBuy=n),t.forEach((function(t){var n=t.type;if("customerDiscount"===n)1!=+t.discount&&(e.discount=t),1===(t.recommendedPriceModel||{}).recommendedStatus&&(e.discountInvite=t);else if("goodsScan"===n)e.discount=t;else if("packageBuy"!==n&&("ladderGroupOn"===n&&(n="groupOn",t.type="groupOn",t.subType="ladderGroupOn"),e[n]=t,Ce.has(n))){if("productLaunch"===n&&!r.A.isWeixin())return;e.pageType=n}})),e}(b),activityInfo:k,pageFeature:i,goodsExtra:{quotaUsed:o,buyLimitType:s,hasPurchaseRight:c,haitaoTariffAmount:l,pointsName:Se},salableStores:d,soldNum:p,spuStock:f,skuStocks:h,isFastBuy:qt,bosWorkFlow:m}},xe=function(t){var e=t.lng,n=void 0===e?0:e,i=t.lat,o=void 0===i?0:i,a=Object.assign({},Bt,{alias:Ft,goodsId:Rt,kdtId:Ht,offlineId:zt,stockNum:Object(r.i)(It,"skuInfo.spuStock.stockNum",0),supportExpress:Jt,supportLocalDelivery:te,supportSelfFetch:ne,shopType:Kt,shopRole:Qt,pointsName:Se,hideShoppingCart:oe,freightInsurance:ae,isGift:ce,isWebImInGoods:le,isWish:pe,showBuyBtn:he,showShopBtn:ge,showWscWebIm:ye,soldOutRecommendSwitch:Object(r.i)(It,"shop.multiStore.setting.soldOutRecommendSwitch",!1),isFastBuy:qt,buyBtnConfig:Object(r.i)(It,"shopConfig.buyBtnConfig",""),refHost:location.hostname,refUrl:encodeURIComponent(location.href)});return kt.a.post({url:"/wscgoods/detail-api/user-goods-state.json",headers:{"content-type":"application/json"},data:Object.assign({},a,{lng:n,lat:o})}).then((function(t){void 0===t&&(t={});var e=Pe(t),i=Yt||{},r=i.lng,a=function(t,e,n,i){if(!xt(t,e)||!xt(n,i))return-1;var o=t*Math.PI/180,r=n*Math.PI/180,a=(t-n)*Math.PI/180,s=(e-i)*Math.PI/180,c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(o)*Math.cos(r)*Math.pow(Math.sin(s/2),2)));return c*=6378137,c=Math.round(1e3*c)/1e3}(i.lat,r,o,n);return e.geoLocationData={distance:a,lng:n,lat:o},Promise.resolve(e)}))};Promise.resolve().then((function(){return zt?Pt():Promise.resolve({lat:0,lng:0})})).then((function(t){var e=t.lng,n=t.lat;return Lt&&!Mt?xe({lng:e,lat:n}):Promise.reject({msg:"init.json fail"})})).then((function(t){wt.a.set("goods-detail-user-state",{success:!0,data:t})})).catch((function(t){302===t.code||Mt||Object(yt.c)("user-state.json 调用失败",{error:t}),wt.a.set("goods-detail-user-state",{success:!1,error:t})}));n("p6v6"),n("aO+S"),n("nXDD"),n("N0PS"),n("gO4q");var Oe=n("wx14"),Te=n("oUJm"),Ie=n("SPSp"),Ae=n("mISK"),Be=n("by9g"),je=n("rQYt"),De=Object(Te.createNamespace)("goods-action-icon"),Ee=De[0],Le=De[1],Ne=Ee({mixins:[Object(Ae.ChildrenMixin)("vanGoodsAction")],props:Object(Oe.default)({},Ie.routeProps,{dot:Boolean,text:String,icon:String,color:String,info:[Number,String],badge:[Number,String],iconClass:null}),methods:{onClick:function(t){this.$emit("click",t),Object(Ie.route)(this.$router,this)},genIcon:function(){var t=this.$createElement,e=this.slots("icon"),n=Object(Te.isDef)(this.badge)?this.badge:this.info;return e?t("div",{class:Le("icon")},[e,t(Be.default,{attrs:{dot:this.dot,info:n}})]):t(je.default,{class:[Le("icon"),this.iconClass],attrs:{tag:"div",dot:this.dot,info:n,name:this.icon,color:this.color}})}},render:function(){var t=arguments[0];return t("div",{attrs:{role:"button",tabindex:"0"},class:Le(),on:{click:this.onClick}},[this.genIcon(),this.slots()||this.text])}}),Me=(n("47Mi"),n("vBum"),n("EXXg"),n("gqhG")),Fe=(n("TPmL"),n("uzOO")),Re=(n("Swqd"),n("K7G7")),Ue=(n("BlND"),n("NOlr")),We=(n("T7yj"),Object(Te.createNamespace)("progress")),Ge=We[0],$e=We[1],qe=Ge({props:{color:String,inactive:Boolean,pivotText:String,textColor:String,pivotColor:String,trackColor:String,strokeWidth:[Number,String],percentage:{type:[Number,String],required:!0,validator:function(t){return t>=0&&t<=100}},showPivot:{type:Boolean,default:!0}},data:function(){return{pivotWidth:0,progressWidth:0}},mounted:function(){this.setWidth()},watch:{showPivot:"setWidth",pivotText:"setWidth"},methods:{setWidth:function(){var t=this;this.$nextTick((function(){t.progressWidth=t.$el.offsetWidth,t.pivotWidth=t.$refs.pivot?t.$refs.pivot.offsetWidth:0}))}},render:function(){var t=arguments[0],e=this.pivotText,n=this.percentage,i=Object(Te.isDef)(e)?e:n+"%",o=this.showPivot&&i,r=this.inactive?"#cacaca":this.color,a={color:this.textColor,left:(this.progressWidth-this.pivotWidth)*n/100+"px",background:this.pivotColor||r},s={background:r,width:this.progressWidth*n/100+"px"},c={background:this.trackColor,height:Object(Te.addUnit)(this.strokeWidth)};return t("div",{class:$e(),style:c},[t("span",{class:$e("portion"),style:s},[o&&t("span",{ref:"pivot",style:a,class:$e("pivot")},[i])])])}}),He=(n("fH8p"),n("Jjj3")),Ve=n.n(He),ze=n("ujET"),Ye=Object(Te.createNamespace)("divider"),Ke=Ye[0],Qe=Ye[1];function Ze(t,e,n,i){var o;return t("div",Ve()([{attrs:{role:"separator"},style:{borderColor:e.borderColor},class:Qe((o={dashed:e.dashed,hairline:e.hairline},o["content-"+e.contentPosition]=n.default,o))},Object(ze.inherit)(i,!0)]),[n.default&&n.default()])}Ze.props={dashed:Boolean,hairline:{type:Boolean,default:!0},contentPosition:{type:String,default:"center"}};var Je=Ke(Ze),Xe=(n("rB5s"),n("VD6T")),tn=(n("WFLi"),n("2WHu")),en=(n("4X9F"),n("IkEG")),nn=(n("ZrlO"),n("tlDm")),on=(n("eER5"),n("VZZB")),rn=(n("ilju"),n("5B+z")),an=(n("GgQP"),n("XFYc"),n("D+7F"),n("sdJj")),sn=n("d0T1"),cn=Object(Te.createNamespace)("panel"),un=cn[0],ln=cn[1];function dn(t,e,n,i){return t(Ue.default,Ve()([{class:ln(),scopedSlots:{default:function(){return[n.header?n.header():t(sn.default,{attrs:{icon:e.icon,label:e.desc,title:e.title,value:e.status,valueClass:ln("header-value")},class:ln("header")}),t("div",{class:ln("content")},[n.default&&n.default()]),n.footer&&t("div",{class:[ln("footer"),an.BORDER_TOP]},[n.footer()])]}}},Object(ze.inherit)(i,!0)]))}dn.props={icon:String,desc:String,title:String,status:String};var pn=un(dn),fn=(n("KZT4"),n("K90D")),hn=(n("w6Z4"),n("wZRv"),n("vacd"),n("XkYy")),mn=(n("2jwP"),n("CzMu")),gn=(n("Xxoj"),n("o+KP")),vn=(n("5BUu"),n("K16X")),yn=(n("TUjB"),n("0eEh")),bn=(n("geYK"),n("n/vM"));function _n(t){return(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function kn(t){return Object(r.m)(t)?t>=1e4?Object(r.z)(t/1e4,1)+"万":t:""}function wn(t){return Object(r.m)(t)?Object(r.z)(t/100,2):t}function Sn(t,e){return Object(r.h)(t,e||"!750x0.jpg")}function Cn(t){return Object(r.f)(t)}function Pn(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()}Object.keys(i).forEach((function(t){o.default.filter(t,i[t])}));var xn=[];xn.push(bn.default,yn.default,vn.a,gn.default,mn.default,hn.default,sn.default,je.default,fn.default,pn,rn.default,on.default,St.default,nn.default,en.default,tn.default,Xe.default,Je,qe,Ue.default,Re.default,Fe.default,Me.default,Ne),xn.forEach((function(t){o.default.component(t.name,t)}));var On=n("MwdI"),Tn=n("f4ya"),In=n.n(Tn),An=n("KHk1"),Bn=n("vxXW"),jn=window._global.kdt_id,Dn=window._global.share||{};Object(On.register)("goods",(function(){var t=function(){try{var t=window.YzPageLogger.getCarrierParams("guang");return JSON.parse(t)}catch(t){return null}}();if(!t||!Object(An.isWeappWebview)())return{};Bn.ZNB.init({kdtId:jn});var e=t.liveId;return{modifyShareData:function(){Dn.link=In.a.add(location.href,{liveId:e})},beforeAddCart:function(t){var n={cartBizMarkDTO:{liveStreamingId:e},channelId:40};return Object.assign({},t,Object.assign({},t.extData||{},n))},afterFormatBuyData:function(t){return Object.assign({},t,{liveStreamingId:+e})},useCustomConcat:function(){return!0},hasHandledConcatIconClick:function(){return Bn.ZNB.navigate({weappUrl:In.a.add("/packages/shop/home/index",{kdtId:jn,liveStreamingId:e})}),!0},customHandledBuy:function(t){return Bn.ZNB.navigate({weappUrl:In.a.add("/packages/trade/order/buy-h5/index",{bookKey:t})}),!0}}}));var En=n("Fu4p");n("Qeha");Object(On.invokeHook)("goods","modifyShareData"),Object(r.i)(_global,"platformInfo.is_mobile",!0)||Object(r.i)(_global,"displayData.notPreview",!1)||Object(En.a)(document.getElementById("content-wrapper"),"page-preview");n("4l63");var Ln=0,Nn=1,Mn=2,Fn={name:"cap-video-controller",data:function(){return{percentage:0,loadedPercentage:0,loadedStartPercentage:0,status:Ln,currentTimeSeconds:0,durationSeconds:0,videoEventBus:null,video:null,autoHideTimer:null,isFullscreen:!1,isLoading:!1,isShowActions:!1}},computed:{isStop:function(){return this.status===Ln},isPlaying:function(){return this.status===Nn},isPause:function(){return this.status===Mn},currentTime:function(){return this.getTime(this.currentTimeSeconds)},duration:function(){return this.getTime(this.durationSeconds)}},created:function(){var t=new o.default;t.$on("video:pause",this.autoHideTimerDecorator(this.pause)),t.$on("video:play",this.autoHideTimerDecorator(this.play)),t.$on("video:progress:update",this.autoHideTimerDecorator(this.updateProgress)),t.$on("video:progress:start",this.onProgressStart),t.$on("video:progress:end",this.onProgressEnd),t.$on("video:fullscreen:toggle",this.autoHideTimerDecorator(this.toggleFullscreen)),t.$on("video:actions:toggle",this.toggleActions),this.videoEventBus=t},methods:{pad:function(t){return t<10?"0"+t:""+t},getTime:function(t){var e=parseInt(t/60,10),n=Math.round(t%60);return this.pad(e)+":"+this.pad(n)},setVideoEl:function(t){this.video=t,this.initVideo()},pause:function(){this.video&&(this.video.pause(),this.status=Mn,this.$emit("video-pause"))},play:function(){if(this.video){var t=this.video.play();this.status=Nn,this.$emit("video-play"),void 0!==t&&t.catch((function(t){console.log(t)})).then((function(){}))}},updateProgress:function(t){this.video&&(this.video.currentTime=parseInt(this.durationSeconds*t/100))},toggleFullscreen:function(t){this.isFullscreen=t,this.$emit("video-fullscreen-toggle",t)},toggleActions:function(t){this.isShowActions=t,t&&(this.clearAutoHideActionTimer(),this.runAutoHideActionTimer())},onProgressStart:function(){this.clearAutoHideActionTimer()},onProgressEnd:function(){this.runAutoHideActionTimer()},autoHideTimerDecorator:function(t){var e=this;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=t.apply(e,i);return e.resetAutoHideTimer(),r}},resetAutoHideTimer:function(){this.clearAutoHideActionTimer(),this.runAutoHideActionTimer()},clearAutoHideActionTimer:function(){clearTimeout(this.autoHideTimer)},runAutoHideActionTimer:function(){var t=this;this.autoHideTimer=setTimeout((function(){t.isShowActions=!1}),5e3)},updateLoadedPercentage:function(){var t=0,e=this.video.buffered,n=this.video.currentTime;if(e.length)try{for(;!(e.start(t)<=n&&n<=e.end(t));)t+=1;var i=e.start(t)/this.durationSeconds*100,o=e.end(t)/this.durationSeconds*100-i;this.loadedStartPercentage=i,this.loadedPercentage=o}catch(t){}},initVideo:function(){var t=this,e=this.video;e.addEventListener("loadedmetadata",(function(){t.durationSeconds=e.duration})),e.addEventListener("waiting",(function(){t.isLoading=!0})),e.addEventListener("canplay",(function(){t.isLoading=!1})),e.addEventListener("progress",(function(){t.durationSeconds=e.duration,t.updateLoadedPercentage()})),e.addEventListener("timeupdate",(function(){t.currentTimeSeconds=e.currentTime,t.percentage=Math.min(t.currentTimeSeconds/t.durationSeconds*100,100)||0})),e.addEventListener("ended",(function(){t.status=Ln,t.$emit("video-end")}))}}},Rn=n("KHd+"),Un=Object(Rn.default)(Fn,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"cap-video-controller"},[t._t("default",null,{videoEventBus:t.videoEventBus,video:t.video,currentTime:t.currentTime,duration:t.duration,percentage:t.percentage,loadedPercentage:t.loadedPercentage,loadedStartPercentage:t.loadedStartPercentage,isFullscreen:t.isFullscreen,isPlaying:t.isPlaying,isStop:t.isStop,isPause:t.isPause,isLoading:t.isLoading,isShowActions:t.isShowActions,setVideoEl:t.setVideoEl})],2)}),[],!1,null,null,null).exports;n("qePV");
/*! npm.im/intervalometer */
function Wn(t,e,n,i){var o,r;function a(n){o=e(a,i),t(n-(r||n)),r=n}return{start:function(){o||a(0)},stop:function(){n(o),o=null,r=0}}}
/*! npm.im/iphone-inline-video 2.2.2 */
function Gn(t,e,n){function i(i){n&&!n(t,e)||i.stopImmediatePropagation()}return t.addEventListener(e,i),i}function $n(t,e,n,i){function o(t){n[e]=t}i&&o(t[e]),Object.defineProperty(t,e,{get:function(){return n[e]},set:o})}function qn(t,e,n){n.addEventListener(e,(function(){return t.dispatchEvent(new Event(e))}))}function Hn(t,e){Promise.resolve().then((function(){t.dispatchEvent(new Event(e))}))}var Vn="object"==typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,zn="bfred-it:iphone-inline-video",Yn="bfred-it:iphone-inline-video:event",Kn="bfred-it:iphone-inline-video:nativeplay",Qn="bfred-it:iphone-inline-video:nativepause";var Zn,Jn=[],Xn=0;function ti(t,e,n){(Zn||0)+200<Date.now()&&(t[Yn]=!0,Zn=Date.now()),n||(t.currentTime=e),Jn[++Xn%3]=100*e|0}function ei(t){return t.driver.currentTime>=t.video.duration}function ni(t){this.video.readyState>=this.video.HAVE_FUTURE_DATA?(this.hasAudio||(this.driver.currentTime=this.video.currentTime+t*this.video.playbackRate/1e3,this.video.loop&&ei(this)&&(this.driver.currentTime=0)),ti(this.video,this.driver.currentTime)):this.video.networkState===this.video.NETWORK_IDLE&&0===this.video.buffered.length&&this.video.load(),this.video.ended&&(delete this.video[Yn],this.video.pause(!0))}function ii(){var t=this[zn];this.webkitDisplayingFullscreen?this[Kn]():("data:"!==t.driver.src&&t.driver.src!==this.src&&(ti(this,0,!0),t.driver.src=this.src),this.paused&&(t.paused=!1,0===this.buffered.length&&this.load(),t.driver.play(),t.updater.start(),t.hasAudio||(Hn(this,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&Hn(this,"playing"))))}function oi(t){var e=this[zn];e.driver.pause(),e.updater.stop(),this.webkitDisplayingFullscreen&&this[Qn](),e.paused&&!t||(e.paused=!0,e.hasAudio||Hn(this,"pause"),this.ended&&!this.webkitDisplayingFullscreen&&(this[Yn]=!0,Hn(this,"ended")))}function ri(t,e){var n={};t[zn]=n,n.paused=!0,n.hasAudio=e,n.video=t,n.updater=Wn(ni.bind(n),requestAnimationFrame,cancelAnimationFrame),e?n.driver=function(t){var e=new Audio;return qn(t,"play",e),qn(t,"playing",e),qn(t,"pause",e),e.crossOrigin=t.crossOrigin,e.src=t.src||t.currentSrc||"data:",e}(t):(t.addEventListener("canplay",(function(){t.paused||Hn(t,"playing")})),n.driver={src:t.src||t.currentSrc||"data:",muted:!0,paused:!0,pause:function(){n.driver.paused=!0},play:function(){n.driver.paused=!1,ei(n)&&ti(t,0)},get ended(){return ei(n)}}),t.addEventListener("emptied",(function(){var i=!n.driver.src||"data:"===n.driver.src;n.driver.src&&n.driver.src!==t.src&&(ti(t,0,!0),n.driver.src=t.src,i||!e&&t.autoplay?n.driver.play():n.updater.stop())}),!1),t.addEventListener("webkitbeginfullscreen",(function(){t.paused?e&&0===n.driver.buffered.length&&n.driver.load():(t.pause(),t[Kn]())})),e&&(t.addEventListener("webkitendfullscreen",(function(){n.driver.currentTime=t.currentTime})),t.addEventListener("seeking",(function(){Jn.indexOf(100*t.currentTime|0)<0&&(n.driver.currentTime=t.currentTime)})))}function ai(t){var e=t[Yn];return delete t[Yn],!t.webkitDisplayingFullscreen&&!e}var si,ci,ui,li,di,pi,fi=function(t,e){if(void 0===e&&(e={}),!t[zn]){if(!e.everywhere){if(!Vn)return;if(!(e.iPad||e.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}t.pause();var n=t.autoplay;t.autoplay=!1,ri(t,!t.muted),function(t){var e=t[zn];t[Kn]=t.play,t[Qn]=t.pause,t.play=ii,t.pause=oi,$n(t,"paused",e.driver),$n(t,"muted",e.driver,!0),$n(t,"playbackRate",e.driver,!0),$n(t,"ended",e.driver),$n(t,"loop",e.driver,!0),Gn(t,"seeking",(function(t){return!t.webkitDisplayingFullscreen})),Gn(t,"seeked",(function(t){return!t.webkitDisplayingFullscreen})),Gn(t,"timeupdate",ai),Gn(t,"ended",ai)}(t),t.classList.add("IIV"),t.muted&&n&&(t.play(),t.addEventListener("playing",(function e(){t.autoplay=!0,t.removeEventListener("playing",e)}))),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}},hi={props:{src:String,videoEventBus:Object,setVideoEl:Function,currentTime:String,duration:String,percentage:Number,loadedPercentage:Number,loadedStartPercentage:Number,isPlaying:Boolean,isStop:Boolean,isPause:Boolean,isLoading:Boolean,isFullscreen:Boolean,isShowActions:Boolean},methods:{pause:function(){this.videoEventBus.$emit("video:pause")},play:function(){this.videoEventBus.$emit("video:play")},updateProgress:function(t){this.videoEventBus.$emit("video:progress:update",t)},onProgressStart:function(){this.videoEventBus.$emit("video:progress:start")},onProgressEnd:function(){this.videoEventBus.$emit("video:progress:end")},toggleFullscreen:function(){this.videoEventBus.$emit("video:fullscreen:toggle",!this.isFullscreen)},toggleActionsDisplay:function(){this.videoEventBus.$emit("video:actions:toggle",!this.isShowActions)}},mounted:function(){this.setVideoEl(this.$refs.video),fi(this.$refs.video)}},mi=Un,gi=n("Im9W"),vi=n.n(gi),yi=!1,bi=!o.default.prototype.$isServer&&"ontouchstart"in window,_i={X:"left",Y:"top"},ki={X:"width",Y:"height"},wi={name:"van-slider",props:{value:{type:Number,required:!0,validator:function(t){return t<=100&&t>=0}},loadedStartValue:{type:Number,default:0},loadedValue:{type:Number,validator:function(t){return t<=100&&t>=0}},inactive:Boolean,color:{type:String,default:"#4b0"},loadedColor:{type:String,default:"#fff"},orientation:{type:String,default:"X"}},data:function(){return{innerValue:0}},computed:{sliderWidth:function(){return this.$refs.bar.getBoundingClientRect()[ki[this.orientation]]},componentColor:function(){return this.inactive?"#cacaca":this.color},loadedStyle:function(){return{backgroundColor:this.loadedColor,left:this.loadedStartValue+"%",width:this.loadedValue+"%"}},finishedStyle:function(){return{backgroundColor:this.componentColor,width:this.innerValue+"%"}},pivotStyle:function(){var t={backgroundColor:this.componentColor,left:this.innerValue+"%",marginLeft:"-8px"};return t}},watch:{value:function(t){this.isDragging||(this.innerValue=t)}},created:function(){this.innerValue=this.value},mounted:function(){this.initDragEvents()},methods:{initDragEvents:function(){var t,e,n,i,o,r,a=this,s=this.$refs.pivot;i={stopPropagation:!0,start:function(n){a.inactive||(a.isDragging=!0,t=n["client"+a.orientation],e=a.innerValue)},drag:function(n){if(a.isDragging){var i=(n["client"+a.orientation]-t)/a.sliderWidth*100;a.newValue=e+i,a.updateValue(a.newValue)}},end:function(t){a.isDragging&&setTimeout((function(){a.isDragging=!1,a.updateValue(a.newValue,!0)}),0)}},o=function(t){i.drag&&(i.stopPropagation&&t.stopPropagation(),i.drag(bi?t.changedTouches[0]||t.touches[0]:t))},r=function t(e){bi||(document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",t)),document.onselectstart=null,document.ondragstart=null,yi=!1,i.end&&(i.stopPropagation&&e.stopPropagation(),i.end(bi?e.changedTouches[0]||e.touches[0]:e))},(n=s).addEventListener(bi?"touchstart":"mousedown",(function(t){yi||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},bi||(document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)),yi=!0,i.start&&(t.preventDefault(),i.stopPropagation&&t.stopPropagation(),i.start(bi?t.changedTouches[0]||t.touches[0]:t)))})),bi&&(n.addEventListener("touchmove",o),n.addEventListener("touchend",r),n.addEventListener("touchcancel",r))},onSliderClicked:function(t){if(!this.inactive&&!this.isDragging){var e=this.$refs.bar.getBoundingClientRect()[_i[this.orientation]];this.updateValue((t["client"+this.orientation]-e)/this.sliderWidth*100,!0)}},updateValue:function(t,e){t=Math.max(0,Math.min(t,100)),this.innerValue=t,e&&this.$emit("valueUpdate",t)}}},Si=(n("cblG"),Object(Rn.default)(wi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"van-slider"},[n("div",{ref:"bar",staticClass:"van-slider__bar",on:{click:function(e){return e.stopPropagation(),t.onSliderClicked(e)}}},[t.loadedValue?n("span",{staticClass:"van-slider__loaded-portion",style:t.loadedStyle}):t._e(),n("span",{staticClass:"van-slider__finished-portion",style:t.finishedStyle}),n("span",{ref:"pivot",staticClass:"van-slider__pivot",style:t.pivotStyle})])])}),[],!1,null,null,null).exports),Ci={name:"cap-video-player",components:{"van-loading":Xe.default,"van-slider":Si},mixins:[hi],props:{src:String,cover:String,isInline:Boolean},computed:{isShowVideoActions:function(){return!vi.a.isAndroid()&&this.isShowActions},videoStyle:function(){if(this.isFullscreen)return{height:window.innerWidth+"px",width:window.innerHeight+"px",transform:"translate(-50%, -50%) rotate(90deg)"}},contentStyle:function(){return{visibility:this.isStop?"hidden":"visible"}}},methods:{closeVideo:function(){this.$emit("close-video")},toggleFullscreen:function(){this.$emit("toggle-fullscreen")},getVideoHeight:function(){return Math.floor(this.$refs.video.getBoundingClientRect().height)}}},Pi=(n("6s/8"),Object(Rn.default)(Ci,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cap-video-wrap cover-wrap",class:{"cap-video-wrap--fullscreen":t.isFullscreen,"cap-video-wrap--inline":t.isInline},on:{click:t.toggleActionsDisplay,touchstart:t.onProgressStart,touchend:t.onProgressEnd}},[n("div",{staticClass:"cap-video",style:t.videoStyle},[n("div",{staticClass:"cap-video__content-wrap"},[n("video",{ref:"video",staticClass:"cap-video__content",style:t.contentStyle,attrs:{src:t.src,playsinline:"","webkit-playsinline":"","x5-playsinline":""}},[t._v("\n        当前浏览器不支持最新的video播放\n      ")]),n("img",{directives:[{name:"show",rawName:"v-show",value:t.isStop,expression:"isStop"}],staticClass:"cap-video__cover",attrs:{src:t.cover}}),n("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"cap-video__loading"}),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowVideoActions,expression:"isShowVideoActions"}]},[t.isPlaying?n("span",{staticClass:"cap-video__pause",on:{click:function(e){return e.stopPropagation(),t.pause(e)}}}):n("span",{staticClass:"cap-video__play",on:{click:function(e){return e.stopPropagation(),t.play(e)}}})])])],1),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowVideoActions,expression:"isShowVideoActions"}],staticClass:"cap-video__action-bar"},[n("span",{staticClass:"cap-video__current-time"},[t._v(t._s(t.currentTime))]),n("van-slider",{attrs:{value:t.percentage,"loaded-start-value":t.loadedStartPercentage,"loaded-value":t.loadedPercentage,orientation:t.isFullscreen?"Y":"X",color:"#f44","loaded-color":"#fff"},on:{valueUpdate:t.updateProgress}}),n("span",{staticClass:"cap-video__duration-time"},[t._v(t._s(t.duration))]),n("span",{staticClass:"cap-video__fullscreen-btn",on:{click:function(e){return e.stopPropagation(),t.toggleFullscreen(e)}}})],1)])],1),n("transition",{attrs:{name:"fade"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowVideoActions&&!t.isInline,expression:"isShowVideoActions && !isInline"}],staticClass:"cap-video__close",on:{click:function(e){return e.stopPropagation(),t.closeVideo(e)}}})])],1)}),[],!1,null,null,null).exports),xi={name:"cap-video-player",components:{"van-loading":Xe.default,"van-slider":Si},mixins:[hi],props:{src:String,cover:String,isInline:Boolean},computed:{isShowVideoActions:function(){return!vi.a.isAndroid()&&this.isShowActions},videoStyle:function(){if(this.isFullscreen)return{height:window.innerWidth+"px",width:window.innerHeight+"px",transform:"translate(-50%, -50%) rotate(90deg)"}},contentStyle:function(){return{visibility:this.isStop?"hidden":"visible"}}},mounted:function(){this.initVideo()},beforeDestroy:function(){this.player&&this.player.dispose()},methods:{closeVideo:function(){this.$emit("close-video")},toggleFullscreen:function(){this.$emit("toggle-fullscreen")},getVideoHeight:function(){return Math.floor(this.$refs.video.getBoundingClientRect().height)},initVideo:function(){var t=this;this.player||n.e(46).then(n.bind(null,"8OJ3")).then((function(e){var n=e.default;t.player=n("video-player",{controls:!0,loop:!1,bigPlayButton:!1,textTrackDisplay:!1,nativeControlsForTouch:!1,preload:"auto",autoplay:!1})}))}}},Oi=(n("pIdj"),Object(Rn.default)(xi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cap-video-wrap cover-wrap",class:{"cap-video-wrap--fullscreen":t.isFullscreen,"cap-video-wrap--inline":t.isInline},on:{click:t.toggleActionsDisplay,touchstart:t.onProgressStart,touchend:t.onProgressEnd}},[n("div",{staticClass:"cap-video",style:t.videoStyle},[n("div",{staticClass:"cap-video__content-wrap"},[n("video",{ref:"video",staticClass:"cap-video__video-container video-js",style:t.contentStyle,attrs:{id:"video-player",playsinline:"","webkit-playsinline":"","x5-playsinline":""}},[n("source",{attrs:{src:t.src}})]),n("img",{directives:[{name:"show",rawName:"v-show",value:t.isStop,expression:"isStop"}],staticClass:"cap-video__cover",attrs:{src:t.cover}}),n("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"cap-video__loading"}),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowVideoActions,expression:"isShowVideoActions"}]},[t.isPlaying?n("span",{staticClass:"cap-video__pause",on:{click:function(e){return e.stopPropagation(),t.pause(e)}}}):n("span",{staticClass:"cap-video__play",on:{click:function(e){return e.stopPropagation(),t.play(e)}}})])])],1),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowVideoActions,expression:"isShowVideoActions"}],staticClass:"cap-video__action-bar"},[n("span",{staticClass:"cap-video__current-time"},[t._v(t._s(t.currentTime))]),n("van-slider",{attrs:{value:t.percentage,"loaded-start-value":t.loadedStartPercentage,"loaded-value":t.loadedPercentage,orientation:t.isFullscreen?"Y":"X",color:"#f44","loaded-color":"#fff"},on:{valueUpdate:t.updateProgress}}),n("span",{staticClass:"cap-video__duration-time"},[t._v(t._s(t.duration))]),n("span",{staticClass:"cap-video__fullscreen-btn",on:{click:function(e){return e.stopPropagation(),t.toggleFullscreen(e)}}})],1)])],1),n("transition",{attrs:{name:"fade"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowVideoActions&&!t.isInline,expression:"isShowVideoActions && !isInline"}],staticClass:"cap-video__close",on:{click:function(e){return e.stopPropagation(),t.closeVideo(e)}}})])],1)}),[],!1,null,null,null).exports),Ti=(window._global.platformInfo||{}).is_mobile?Pi:Oi,Ii={name:"GoodsVideo",components:(si={},si[Ti.name]=Ti,si[mi.name]=mi,si),props:{showplayer:Boolean,src:String,cover:String},data:function(){return{isInline:!0,isPlayingWhenLeave:!1,videoController:null,videoPlayer:null,swpInitHeight:320,playingHeight:0}},watch:{},mounted:function(){this.videoController=this.$refs.videoController,this.videoPlayer=this.$refs.videoPlayer},methods:{closeVideo:function(){var t=this.videoController;this.isInline||t.isFullscreen?t.toggleFullscreen(!1):(this.makeVideoInline(),t.isStop&&(this.$emit("changeShowPlayer",!1),this.resetSwpStyle())),t.resetAutoHideTimer()},onVideoPlay:function(){var t=this;this.$nextTick((function(){if(!t.playingHeight){var e=t.$refs.videoPlayer.getVideoHeight()+100;e>t.swpInitHeight&&(t.playingHeight=e)}})),this.$emit("video-play")},onVideoEnd:function(){this.videoController.isFullscreen&&this.videoController.toggleFullscreen(!1),this.isInline?(this.$emit("changeShowPlayer",!1),this.resetSwpStyle()):this.videoController.toggleActions(!0),this.$emit("video-end")},resetSwpStyle:function(){this.$emit("changeShowIndicator",!0)},makeVideoInline:function(){this.isInline=!0,this.videoController.$el.appendChild(this.videoPlayer.$el)},makeVideoOutline:function(){this.isInline=!1,document.body.appendChild(this.videoPlayer.$el)},toggleFullscreen:function(){var t=this.videoController;this.isInline?this.makeVideoOutline():t.toggleFullscreen(!t.isFullscreen),t.resetAutoHideTimer()},playVideo:function(){this.videoController.play(),this.$emit("stopSwipe",!0),this.$emit("changeShowIndicator",!1)},pauseVideo:function(){this.videoController.pause(),this.$emit("stopSwipe",!1)},toggleVideoPlay:function(t){t?this.isPlayingWhenLeave&&this.playVideo():(this.isPlayingWhenLeave=this.videoController.isPlaying,this.pauseVideo(),this.$emit("changeShowIndicator",!0))}}},Ai=Object(Rn.default)(Ii,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"fade"}},[n("cap-video-controller",{ref:"videoController",on:{"video-play":t.onVideoPlay,"video-end":t.onVideoEnd},scopedSlots:t._u([{key:"default",fn:function(e){return n("cap-video-player",{directives:[{name:"show",rawName:"v-show",value:t.showplayer,expression:"showplayer"}],ref:"videoPlayer",attrs:{"video-event-bus":e.videoEventBus,"set-video-el":e.setVideoEl,percentage:e.percentage,"loaded-percentage":e.loadedPercentage,"loaded-start-percentage":e.loadedStartPercentage,"current-time":e.currentTime,duration:e.duration,"is-show-actions":e.isShowActions,"is-fullscreen":e.isFullscreen,"is-playing":e.isPlaying,"is-stop":e.isStop,"is-pause":e.isPause,"is-loading":e.isLoading,src:t.src,cover:t.cover,"is-inline":t.isInline},on:{"close-video":t.closeVideo,"toggle-fullscreen":t.toggleFullscreen}})}}])})],1)],1)}),[],!1,null,null,null).exports,Bi="MAIN_PIC",ji="SKU_PIC",Di="GOODS_PIC",Ei="NORMAL",Li="SKU",Ni={name:"ImageBlock",state:["video","currentSkuNavIndex"],getters:["kdtId","goodsPictures","goodsPictureRatio","showGoodsVideo","isShowSkuNav","goodsMainPictures"],components:(ci={},ci[Ai.name]=Ai,ci),data:function(){return{autoplay:3500,height:320,loop:!0,showPlayer:!1,showIndicator:!0,currentSwpPage:0,videoPaidCountFlag:!1,isPlaying:!1,playCount:0,hideVideo:!1}},computed:{imageList:function(){return this.isShowSkuNav?this.goodsPictures:this.goodsMainPictures},currentSkuNav:function(){return this.goodsPictures[this.currentSkuNavIndex]}},watch:{currentSkuNavIndex:function(t){t!==this.currentSwpPage&&(this.$refs["image-swp"].swipeTo(t),this.showGoodsVideo||this.$refs["image-swp"].autoPlay())}},created:function(){this.isMobile=vi.a.isMobile(),this.initImageHeight(),this.onPopupShow()},methods:{onPopupShow:function(){var t=this;this.showGoodsVideo&&wt.a.on("onPopupShow",(function(e){e&&0!==t.playCount&&(t.isPlaying&&t.$refs.video[0].pauseVideo(),t.hideVideo=!0)}))},initImageHeight:function(){var t=this.isMobile,e=this.isShowSkuNav,n=this.goodsPictureRatio,i=document.body.clientWidth,o=Math.min(i,540),r=t||vi.a.isIPad()?i:o;if(e)return this.height=r,r;this.height=Math.floor(r*n)},onVideoPlay:function(){this.playCount++,this.isPlaying=!0},onVideoEnd:function(){this.isPlaying=!1,this.hideVideo=!0,clearTimeout(this.playedTimer)},onPlayClick:function(){this.videoPaidCountFlag||(this.videoPaidCountFlag=!0,this.sendPlayedLogger()),this.hideVideo=!1,this.showPlayer=!0,this.$refs.video[0].playVideo()},sendPlayedLogger:function(){var t=this;this.playedTimer=setTimeout((function(){Object(yt.b)({et:"click",ei:"video_valid_played",en:"视频有效播放",params:{partner_biz_type:1,partner_biz_id:t.kdtId,video_id:t.video.videoId,channel:"wsc_goods_main",component:"goods_video"}})}),3e3)},previewImage:function(t){Object(yt.b)({et:"click",ei:"click_goods_pic",en:"点击头图"}),this.isMobile&&(this.showGoodsVideo&&0===t||this.$dispatch("previewImage",{index:t,type:this.isShowSkuNav?Di:Bi,uiType:Ei}))},changeSwiperPage:function(t){if(this.showGoodsVideo){var e=0===t,n=0===this.currentSwpPage;(e||n)&&this.$refs.video[0].toggleVideoPlay(e)}this.currentSwpPage=t,this.$commit("updateCurrentSkuNavIndex",t)}}},Mi=(n("u//0"),Object(Rn.default)(Ni,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swp-wrap",attrs:{id:"js-nav-goods"}},[n("van-swipe",{ref:"image-swp",staticClass:"swp",style:{height:t.height+"px"},attrs:{loop:t.loop,autoplay:t.showGoodsVideo?0:t.autoplay,"show-indicators":t.showIndicator&&t.imageList.length>0,"indicator-color":"white"},on:{change:t.changeSwiperPage}},[t._l(t.imageList,(function(e,i){return n("van-swipe-item",{key:i+"-"+e.url,staticClass:"swp__item",on:{click:function(e){t.previewImage(i)}}},[0===i?[n("img",{staticClass:"swp__img",attrs:{src:e.url}}),t.showGoodsVideo?[n("span",{staticClass:"swp__play-video",on:{click:t.onPlayClick}},[t._v(" 播放视频 ")]),n("goods-video",{directives:[{name:"show",rawName:"v-show",value:!t.hideVideo,expression:"!hideVideo"}],ref:"video",refInFor:!0,attrs:{src:t.video.videoUrl,cover:t._f("formatImage")(t.video.coverUrl),showplayer:t.showPlayer},on:{"video-play":t.onVideoPlay,"video-end":t.onVideoEnd,"stop-swipe":function(e){return t.loop=e},"change-show-player":function(e){return t.showPlayer=e},"change-show-indicator":function(e){return t.showIndicator=e}}})]:t._e()]:n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.url,expression:"img.url"}],staticClass:"swp__img"})],2)})),t.imageList.length>1?n("div",{staticClass:"swp__indicator",attrs:{slot:"indicator"},slot:"indicator"},[t._v("\n      "+t._s(t.currentSwpPage+1)+"/"+t._s(t.imageList.length)+"\n    ")]):t._e()],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSkuNav&&t.currentSkuNav&&t.currentSkuNav.name,expression:"isShowSkuNav && currentSkuNav && currentSkuNav.name"}],staticClass:"swp__sku van-ellipsis"},[t._v("\n    "+t._s(t.currentSkuNav?t.currentSkuNav.name:"")+"\n  ")])],1)}),[],!1,null,null,null).exports),Fi={name:"ActivityPrice",getters:["isDepositPresale","isAuction","activityPrice"],computed:{activityOriginPrice:function(){var t=this.activityPrice.originPrice;return-1!==t.indexOf("-")&&(t=t.split("-")[0]+" 起"),t}}},Ri=(n("EAM2"),Object(Rn.default)(Fi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"activity-price"},[n("div",{staticClass:"activity-price__label"},[n("span",{staticClass:"activity-price__label-sm"},[t.isDepositPresale?n("span",[t._v("定金")]):t._e(),n("span",{staticStyle:{"font-size":"18px"}},[t._v("￥")])]),n("span",{staticClass:"activity-price__label-xl",class:"price-length-"+t.activityPrice.showPrice[0].length},[t._v(t._s(t.activityPrice.showPrice[0]))]),t.activityPrice.showPrice[1]?n("span",{staticClass:"activity-price__label-sm",class:"price-length-"+t.activityPrice.showPrice[0].length},[t._v("."+t._s(t.activityPrice.showPrice[1]))]):t._e(),t.activityPrice.isRange?n("span",{staticClass:"activity-price__label-xs"},[t._v("起")]):t._e()]),n("div",{staticClass:"activity-price__more"},[t.activityPrice.priceTag?n("div",{staticClass:"theme__color activity-price__more-tag"},[t._v("\n      "+t._s(t.activityPrice.priceTag)+"\n    ")]):t._e(),t.activityPrice.originPrice?n("div",{staticClass:"activity-price__more-price"},[t.isAuction?n("span",[t._v("起拍价")]):n("span",[t._v("价格")]),n("span",{staticClass:"origin-price"},[t._v("￥"+t._s(t.activityOriginPrice))])]):t._e()])])}),[],!1,null,null,null).exports),Ui={name:"activity-data",state:["marketActivity","goodsActivity"],getters:["isProductLaunch"],filters:{formatNum:function(t){return t<=999?t:t<=9999?"999+":Math.floor(t/1e4)+"w+"}},computed:{productLaunchData:function(){return this.marketActivity.productLaunch||{}},showProductLaunch:function(){return this.isProductLaunch&&this.productLaunchData.reservationNum&&this.goodsActivity.waitToSold}}},Wi=(n("f/QT"),Object(Rn.default)(Ui,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"activity-data"},[this.showProductLaunch?e("div",{staticClass:"product-launch-data"},[e("p",[this._v(this._s(this._f("formatNum")(this.productLaunchData.reservationNum))+"人")]),e("p",[this._v("已预约")])]):this._e()])}),[],!1,null,"640e3017",null).exports),Gi={name:"ActivityCountDown",components:(ui={},ui[qe.name]=qe,ui),getters:["countdown","activityNotStart"],data:function(){return{count:0,remainDesc:"",remainObj:{},ended:!1}},watch:{countdown:function(t){t&&this.startCountDown()}},created:function(){this.countdownTimer=null},mounted:function(){this.countdown&&this.startCountDown()},destroyed:function(){clearTimeout(this.countdownTimer),this.countdownTimer=null},methods:{startCountDown:function(){clearTimeout(this.countdownTimer);var t=this.activityNotStart,e=this.countdown.end-+new Date;if(this.remainDesc=e>864e5&&!t?this.countdown.desc.replace("仅剩","还剩"):this.countdown.desc,e<=0&&this.count>0)this.$dispatch("countdownEnded");else if(e<=0)this.ended=!0;else{this.count+=1;var n=Object(r.y)(e);n.milliseconds=(""+n.milliseconds).substr(0,2),this.remainObj=n;var i=500;this.remainObj.days||(i=50),this.countdownTimer=setTimeout(this.startCountDown,i)}}}},$i=(n("rT67"),Object(Rn.default)(Gi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.countdown?n("div",{staticClass:"activity-count-down"},[t.countdown.showProgress?t.ended?n("div",{staticClass:"activity-count-down__label flex-column",class:{"activity-end":t.ended}},[t._v("\n    "+t._s(t.remainDesc)+"\n  ")]):n("div",{staticClass:"flex-column"},[n("div",{staticClass:"activity-count-down__label"},[n("span",[t._v(t._s(t.remainDesc)+" ")]),t.remainObj.days?n("span",{staticClass:"day-text"},[t._v(t._s(t.remainObj.days)+"天\n      ")]):t._e(),n("span",{staticClass:"activity-count-down__label-time-pre"},[t._v(t._s(t.remainObj.hours+":"+t.remainObj.minutes+":"+t.remainObj.seconds))]),t.remainObj.days?t._e():n("span",{staticClass:"activity-count-down__label-time-suf"},[t._v(":"+t._s(t.remainObj.milliseconds))])]),n("div",{staticClass:"activity-count-down__process"},[t.countdown.hideProgressBar?t._e():n("van-progress",{staticClass:"activity-count-down__time-progress",attrs:{percentage:t.countdown.progressNum,"pivot-text":"",color:"#fff"}}),n("span",{staticClass:"activity-count-down__time-text progress-text",staticStyle:{"margin-left":"8px"}},[t._v(t._s(t.countdown.progressDesc))])],1)]):n("div",{staticClass:"flex-column"},[n("div",{staticClass:"activity-count-down__label",class:{"activity-end":t.ended}},[t._v("\n      "+t._s(t.remainDesc)+"\n    ")]),t.ended?t._e():n("div",{staticClass:"activity-count-down__time"},[t.remainObj.days?n("span",{staticClass:"activity-count-down__time-text day-text"},[t._v(t._s(t.remainObj.days)+"天")]):t._e(),n("span",{staticClass:"theme__color activity-count-down__time-box"},[t._v(t._s(t.remainObj.hours))]),n("span",{staticClass:"activity-count-down__time-text"},[t._v(":")]),n("span",{staticClass:"theme__color activity-count-down__time-box"},[t._v(t._s(t.remainObj.minutes))]),n("span",{staticClass:"activity-count-down__time-text"},[t._v(":")]),n("span",{staticClass:"theme__color activity-count-down__time-box"},[t._v(t._s(t.remainObj.seconds))]),t.remainObj.days?t._e():n("span",{staticClass:"activity-count-down__time-text"},[t._v(":")]),t.remainObj.days?t._e():n("span",{staticClass:"theme__color activity-count-down__time-box"},[t._v(t._s(t.remainObj.milliseconds))])])])]):t._e()}),[],!1,null,null,null).exports),qi={name:"GoodsActivity",components:(li={},li[Ri.name]=Ri,li[Wi.name]=Wi,li[$i.name]=$i,li)},Hi=(n("VIWg"),Object(Rn.default)(qi,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"goods-activity"},[e("div",{staticClass:"goods-activity-banner"},[e("img",{staticClass:"goods-activity__background",attrs:{src:"https://img.yzcdn.cn/public_files/2019/09/11/2532a9c220fbbe956de32ca9c0f662d5.png"}}),e("activity-price"),e("activity-data"),e("activity-count-down")],1)])}),[],!1,null,null,null).exports),Vi=n("fPLo"),zi={name:"PointsPrice",state:["goods"]},Yi=(n("/OXr"),Object(Rn.default)(zi,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"goods-points-price"},[e("div",{staticClass:"goods-points-price__current"},[e("span",{staticClass:"goods-points-price__current-label"},[this._v("兑换价：")]),e("span",{staticClass:"goods-points-price__current-price theme__color"},[this._v("\n      "+this._s(this.goods.pointsPrice)+"\n    ")])])])}),[],!1,null,null,null).exports),Ki=n("jZ0v"),Qi={name:"GoodsOldPrice",components:(di={},di[Ki.a.name]=Ki.a,di),state:["goods"],getters:["showOriginPrice","isDepositPresale"]},Zi=(n("lgY1"),Object(Rn.default)(Qi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showOriginPrice?n("div",{staticClass:"goods-price"},[n("div",{staticClass:"goods-price__origin"},[t.showOriginPrice.label?n("span",{staticClass:"goods-price__origin-label"},[t._v(t._s(t.showOriginPrice.label)+"\n    ")]):t._e(),n("span",{staticClass:"goods-price__origin-price"},[t._v(t._s(t.showOriginPrice.price))])])]):t._e()}),[],!1,null,null,null).exports),Ji={name:"CustomerDiscount",state:["shop"],getters:["recommendedPriceModel","customerDiscountText"],computed:{cardUrl:function(){return t=this.recommendedPriceModel.cardUrl,/^\/(?:v2|v3|v4|wsctrade|wscshop|usercenter)\//.test(t)?"https://h5.youzan.com"+t:t;var t},showDiscount:function(){return!this.shop.isHqShopPreview&&!!this.recommendedPriceModel.recommendedStatus}}},Xi=(n("X5IU"),Object(Rn.default)(Ji,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showDiscount&&t.customerDiscountText?n("a",{staticClass:"customer-card__wrapper",attrs:{href:t.cardUrl}},[n("div",{staticClass:"customer-card"},[n("div",{staticClass:"customer-card__content"},[t._v("\n      "+t._s(t.customerDiscountText.mainText)+"\n    ")]),n("div",{staticClass:"customer-card__action"},[t._v("\n      "+t._s(t.customerDiscountText.actionText)+"\n      "),n("van-icon",{attrs:{name:"arrow"}})],1)])]):t._e()}),[],!1,null,null,null).exports),to={name:"GoodsTitle",state:["goods","retail"],getters:["goodsSubTitle","showShareIcon","goodsTag","goodsRetailTag","isPeriodbuy","goodsHaitaoCountry","hasShareBenefitActivity","isShowBrandTitle"]},eo=(n("J34N"),Object(Rn.default)(to,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-title"},[n("div",{staticClass:"goods-title__tags"},[t.goodsTag?n("div",[n("img",{staticClass:"goods-title__tag-label",attrs:{src:t.goodsTag}}),t.goods.isHaitao?n("span",{staticClass:"goods-title__tag-desc"},[t.goodsHaitaoCountry?n("span",[t._v(t._s(t.goodsHaitaoCountry)+"品牌，")]):t._e(),t._v("\n        跨境商品\n      ")]):t._e(),t.isPeriodbuy?n("span",{staticClass:"goods-title__tag-desc"},[t._v("\n        按周期分期配送商品\n      ")]):t._e()]):t._e(),t.retail.show?n("div",[n("img",{staticClass:"goods-title__tag-label",attrs:{src:t.goodsRetailTag}}),n("span",{staticClass:"goods-title__tag-desc"},[t._v("线下同款，门店有售")])]):t._e()]),n("div",{staticClass:"goods-title__box"},[n("h2",{staticClass:"goods-title__main"},[t.isShowBrandTitle?n("i",{staticClass:"goods-title__main-icon"}):t._e(),n("span",[t._v(t._s(t.goods.title))])]),t.showShareIcon?n("div",{staticClass:"js-open-share goods-title__more",class:{"goods-title__more--highlight":t.hasShareBenefitActivity}},[t.hasShareBenefitActivity?n("van-icon",{staticClass:"goods-title__more-icon",attrs:{color:"#DE373E",size:"20px",name:"point-gift"}}):n("van-icon",{attrs:{color:"#646566",size:"18px",name:"share"}}),n("div",{staticClass:"goods-title__more-item-word"},[t._v("\n        分享\n      ")])],1):t._e()]),t.goodsSubTitle?n("p",{staticClass:"goods-title__sub"},[t._v("\n    "+t._s(t.goodsSubTitle)+"\n  ")]):t._e()])}),[],!1,null,null,null).exports),no={name:"GoodsPresaleBar",components:(pi={},pi[Ki.a.name]=Ki.a,pi),props:{tag:String,text:String}},io=(n("baku"),Object(Rn.default)(no,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",{staticClass:"goods-presale--no-hairline goods-presale"},[n("template",{slot:"title"},[t.tag?n("common-tag",{staticClass:"goods-presale__tag",attrs:{"container-style":"theme__background"}},[n("span",{staticClass:"theme__color goods-presale__label"},[t._v(t._s(t.tag))])]):t._e(),n("span",[t._v(t._s(t.text))])],1)],2)}),[],!1,null,null,null).exports),oo={name:"GoodsTaxBar",getters:["goodsHaitaoTax"]},ro=(n("2Ry4"),Object(Rn.default)(oo,(function(){var t=this.$createElement,e=this._self._c||t;return this.goodsHaitaoTax?e("div",{staticClass:"goods-tax-bar"},[this._v("\n  "+this._s(this.goodsHaitaoTax)+"\n")]):this._e()}),[],!1,null,null,null).exports),ao=(n("LfHa"),n("3y2G")),so=(n("5hhl"),n("M0c+")),co=(n("Cm5I"),n("eOum")),uo=Object(Te.createNamespace)("checkbox-group"),lo=uo[0],po=uo[1],fo=lo({mixins:[Object(Ae.ParentMixin)("vanCheckbox"),co.FieldMixin],props:{max:[Number,String],disabled:Boolean,direction:String,iconSize:[Number,String],checkedColor:String,value:{type:Array,default:function(){return[]}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggleAll:function(t){if(!1!==t){var e=this.children;t||(e=e.filter((function(t){return!t.checked})));var n=e.map((function(t){return t.name}));this.$emit("input",n)}else this.$emit("input",[])}},render:function(){var t=arguments[0];return t("div",{class:po([this.direction])},[this.slots()])}}),ho=(n("PDIE"),n("QX6E")),mo=(n("X1+7"),n("8lM+")),go=(n("vn9c"),n("Vl+Z")),vo=(n("SAsA"),n("o3zH")),yo=(n("O0LY"),Object(Te.createNamespace)("submit-bar")),bo=yo[0],_o=yo[1],ko=yo[2];function wo(t,e,n,i){var o=e.tip,r=e.price,a=e.tipIcon;return t("div",Ve()([{class:_o({unfit:!e.safeAreaInsetBottom})},Object(ze.inherit)(i)]),[n.top&&n.top(),function(){if(n.tip||o)return t("div",{class:_o("tip")},[a&&t(je.default,{class:_o("tip-icon"),attrs:{name:a}}),o&&t("span",{class:_o("tip-text")},[o]),n.tip&&n.tip()])}(),t("div",{class:_o("bar")},[n.default&&n.default(),function(){if("number"==typeof r){var n=(r/100).toFixed(e.decimalLength).split("."),i=e.decimalLength?"."+n[1]:"";return t("div",{style:{textAlign:e.textAlign?e.textAlign:""},class:_o("text")},[t("span",[e.label||ko("label")]),t("span",{class:_o("price")},[e.currency,t("span",{class:_o("price","integer")},[n[0]]),i]),e.suffixLabel&&t("span",{class:_o("suffix-label")},[e.suffixLabel])])}}(),t(nn.default,{attrs:{round:!0,type:e.buttonType,color:e.buttonColor,loading:e.loading,disabled:e.disabled,text:e.loading?"":e.buttonText},class:_o("button",e.buttonType),on:{click:function(){Object(ze.emit)(i,"submit")}}})])])}wo.props={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,disabled:Boolean,textAlign:String,buttonText:String,buttonColor:String,suffixLabel:String,safeAreaInsetBottom:{type:Boolean,default:!0},decimalLength:{type:[Number,String],default:2},currency:{type:String,default:"¥"},buttonType:{type:String,default:"danger"}};var So=bo(wo),Co=n("aUzE"),Po=n.n(Co),xo=n("klMz"),Oo=n.n(xo),To=n("wkKT"),Io=n("7j/v"),Ao=n("oyFk"),Bo=n.n(Ao),jo=n("F+bm"),Do=n.n(jo),Eo=n("3xkE"),Lo=n.n(Eo),No=n("mwIZ"),Mo=n.n(No),Fo=n("asw2"),Ro=n.n(Fo),Uo=n("978+"),Wo=n("QkVN"),Go=n.n(Wo);var $o,qo={vant:{Toast:St.default,Tab:mn.default,Tabs:hn.default,SubmitBar:So,NoticeBar:vo.default,Cell:sn.default,Field:go.default,Popup:rn.default,Dialog:en.default,Button:nn.default,Picker:mo.default,Checkbox:ho.default,CellGroup:Ue.default,CheckboxGroup:fo,Icon:je.default,Loading:Xe.default},captain:{PayManager:so.a,Pay:ao.a},lodash:{get:Mo.a},rawAjax:Oo.a,ajax:Uo.default,Vue:o.default,clientLogSdk:{StackTraceLogger:To.StackTraceLogger,WebLogger:To.WebLogger},znb:{ZNB:Io.default},utils:{fullfillImage:Ro.a,money:{format:Bo.a},url:{args:In.a},string:{mapKeysToCamelCase:Do.a},date:{formatDate:Lo.a}}};$o=qo,window._dynamic_libs||(window._dynamic_libs={}),Go()(window._dynamic_libs,$o);var Ho,Vo,zo,Yo,Ko={name:"guarantee-bar",components:{"guarantee-detail-bar":Po()({loadBackup:function(){return n.e(39).then(n.bind(null,"zPqC"))},link:"/assetsdynamic/api/components/gray",globalName:"GuaranteeDetailBar",prefix:"_assets_dynamic_libs",params:{name:"guarantee-detail-bar-0"}})},state:["goods","shop","saas"],computed:{youzanyun:function(){return Mo()(this.saas,"baseInfoBlock.showGuaranteeBar.value",!0)}},methods:{setGuarantee:function(){}}},Qo=Object(Rn.default)(Ko,(function(){var t=this.$createElement,e=this._self._c||t;return this.youzanyun?e("guarantee-detail-bar",{attrs:{"item-id":this.goods.id,alias:this.goods.alias,"kdt-id":this.shop.kdtId},on:{dataload:this.setGuarantee}}):this._e()}),[],!1,null,null,null).exports,Zo={name:"FastBuyPrice",components:(Ho={},Ho[Ki.a.name]=Ki.a,Ho),state:["goods"],getters:["goodsPriceTag","showSoldNum","showOriginPrice"]},Jo=(n("jws0"),Object(Rn.default)(Zo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-price"},[n("div",{staticClass:"goods-price__current theme__color"},[n("div",[n("span",{staticClass:"goods-price__current-label"},[t._v("¥")]),n("i",{staticClass:"goods-price__current-price"},[t._v(t._s(t.goods.price))])])]),t.showOriginPrice.price?n("span",{staticClass:"goods-price__origin-price"},[t._v(t._s(t.showOriginPrice.price))]):t._e(),t.showSoldNum?n("span",{staticClass:"goods-price__sales"},[t._v("已售"),n("span",{staticClass:"goods-price__sales-num"},[t._v(t._s(t.goods.soldNum))]),t._v("件")]):t._e()])}),[],!1,null,null,null).exports),Xo={name:"FansBenefit",getters:["fansBenefit"],methods:{becomeFans:function(){var t=this;Object(yt.b)({et:"click",ei:"click_fans_benefit",en:"让利涨粉点击关注"}),this.$dispatch("doFansBenefitFollow").then((function(){t.$dispatch("doPageFollow")}))}}},tr=(n("L6qJ"),Object(Rn.default)(Xo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.fansBenefit?n("div",{staticClass:"fans-benefit"},[t.fansBenefit.isFans?n("section",{staticClass:"fans-benefit--followed"},[n("span",[t._v("你已成为公众号粉丝，")]),n("span",[t._v(t._s(t.fansBenefit.contentNormal))]),n("span",{staticClass:"fans-benefit__text--red"},[t._v(t._s(t.fansBenefit.contentHighLight))])]):n("section",{staticClass:"fans-benefit__bar"},[n("div",{staticClass:"fans-benefit__content"},[n("img",{staticClass:"fans-benefit__icon",attrs:{alt:"公众号粉丝",src:"https://img.yzcdn.cn/public_files/e17baee507204716fef178872904805c.png"}}),n("span",[t._v(t._s(t.fansBenefit.contentNormal))]),n("span",{staticClass:"fans-benefit__text--red"},[t._v(t._s(t.fansBenefit.contentHighLight))])]),n("div",{staticClass:"fans-benefit__action",on:{click:t.becomeFans}},[n("span",{staticClass:"fans-benefit__action-text"},[t._v("成为粉丝")]),n("van-icon",{attrs:{name:"arrow",size:"10"}})],1)])]):t._e()}),[],!1,null,null,null).exports),er=(n("QFaU"),n("RL95")),nr={name:"SkuNavItem",components:(Vo={},Vo[er.default.name]=er.default,Vo),props:{url:String,isActive:!1,onClick:Function}},ir=(n("O8Eq"),Object(Rn.default)(nr,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sku-nav__item",on:{click:this.onClick}},[e("van-image",{staticClass:"sku-nav__image",class:{theme__border:this.isActive},attrs:{src:this.url,"show-loading":!1,"lazy-load":"",fit:"cover",width:"40",height:"40"}})],1)}),[],!1,null,null,null).exports),or=window.requestAnimationFrame||window.setTimeout,rr=window.cancelAnimationFrame||window.clearTimeout,ar={name:"SkuNav",components:(zo={},zo[ir.name]=ir,zo),data:function(){return{index:0}},state:["currentSkuNavIndex"],getters:["mainGoodsPic","originSkuPictures","goodsMainPictures"],computed:{length:function(){return(this.goodsMainPictures||[]).length},canScroll:function(){return 52*(this.originSkuPictures.length+1)+31>this.nav.offsetWidth}},watch:{currentSkuNavIndex:function(t){this.setIndex(t),this.scrollLeftTo()}},mounted:function(){this.nav=this.$refs.skuNav,this.navItems=[this.$refs.skuNavItemTitle].concat(this.$refs.skuNavItem)},methods:{formatMiniUrl:function(t){return Object(r.h)(t,"small")},setIndex:function(t){this.index=Math.max(t-this.length+1,0)},onClick:function(t){this.setIndex(t),this.scrollLeftTo(),this.$commit("updateCurrentSkuNavIndex",t)},scrollLeftTo:function(){var t=this.index,e=this.nav,n=this.navItems;if(this.canScroll){var i=n[t].$el,o=i.offsetLeft-(e.offsetWidth-i.offsetWidth)/2;this.scroll(o)}},scroll:function(t){var e=this;this.timer&&rr(this.timer);var n=0,i=this.nav,o=i.scrollLeft;!function r(){i.scrollLeft+=(t-o)/16,++n<16&&(e.timer=or(r))}()}}},sr=(n("87HQ"),Object(Rn.default)(ar,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"skuNav",staticClass:"sku-nav"},[n("sku-nav-item",{ref:"skuNavItemTitle",attrs:{url:t.formatMiniUrl(t.mainGoodsPic.url),"is-active":0===t.currentSkuNavIndex,"on-click":function(){return t.onClick(0)}}}),n("div",{staticClass:"sku-nav__divide"}),t._l(t.originSkuPictures,(function(e,i){return n("sku-nav-item",{key:i,ref:"skuNavItem",refInFor:!0,attrs:{url:t.formatMiniUrl(e.url),"is-active":i+t.length===t.currentSkuNavIndex,"on-click":function(){return t.onClick(i+t.length)}}})}))],2)}),[],!1,null,null,null).exports),cr={name:"BaseInfoBlock",state:["isFastBuy"],getters:["showActivityBanner","isPointsExchange","baseInfoBarTag","isTimelimitedDiscountNotStart","timelimitTimeDesc","isHelpDepositPresale","presaleTimeDesc","isShowNormalPrice","isShowSkuNav","isShowOriginPrice"],components:(Yo={},Yo[Hi.name]=Hi,Yo[Vi.a.name]=Vi.a,Yo[Yi.name]=Yi,Yo[Zi.name]=Zi,Yo[Xi.name]=Xi,Yo[eo.name]=eo,Yo[io.name]=io,Yo[ro.name]=ro,Yo[Qo.name]=Qo,Yo[Jo.name]=Jo,Yo[tr.name]=tr,Yo[sr.name]=sr,Yo),props:{firstPage:{type:Boolean,default:!1}}},ur=(n("SWQF"),Object(Rn.default)(cr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"module-unit"},[t.showActivityBanner?n("goods-activity"):t._e(),t.isShowSkuNav?n("sku-nav"):t._e(),n("div",{staticClass:"m-base-info"},[t._t("goodsPrice",[t.isShowNormalPrice?n("goods-price",{staticClass:"u-base-info-row"}):t._e(),t.isPointsExchange?n("points-price",{staticClass:"u-base-info-row"}):t._e(),t.isShowOriginPrice?n("goods-old-price",{staticClass:"u-base-info-row"}):t._e()]),t.isFastBuy?n("fast-buy-price"):t._e(),n("fans-benefit",{staticClass:"u-base-info-row"}),n("customer-discount",{staticClass:"u-base-info-row"}),n("goods-title",{staticClass:"u-base-info-row"}),t.presaleTimeDesc?n("goods-presale-bar",{attrs:{tag:t.baseInfoBarTag,text:t.presaleTimeDesc}}):t._e(),t.isTimelimitedDiscountNotStart?n("goods-presale-bar",{attrs:{text:t.timelimitTimeDesc,tag:t.baseInfoBarTag}}):t._e(),n("goods-tax-bar")],2),t.firstPage?t._e():n("guarantee-bar")],1)}),[],!1,null,null,null).exports),lr=n("L2JU");n("hByQ"),n("ToJy"),n("toAj");function dr(t,e){void 0===e&&(e=1);var n=t*e;return n=n>10?10*Math.floor(n/10):n>=1?Math.round(n):1}var pr={showPrice:"",price:0,pointsPrice:0,oldPrice:0,priceTitle:"",notShowPriceTitle:!1,soldNum:0,stockNum:0};function fr(t){return void 0===t&&(t=[]),t.reduce((function(t,e){var n;return Object.assign({},t,((n={})[e.skuId]=e,n))}),{})}function hr(t,e){void 0===t&&(t={}),void 0===e&&(e=null);var n=t,i=n.props,o=void 0===i?[]:i,a=n.messages,s=void 0===a?[]:a,c=n.skus,u=void 0===c?[]:c,l=n.hideStock,d=void 0!==l&&l,p=[],f=Object.assign({},pr,{hideStock:d,tree:o,list:p,messages:s}),h=fr(t.skuPrices),m=fr(t.skuStocks);if(e){var g=fr(e.skuPrices),v=fr(e.skuStocks);p=u.map((function(t){var e=t.skuId,n=h[e].price,i=v[e];i&&i.disable&&(i=Object.assign({},i,{stockNum:0}));var o=g[e];return o&&o.price>0&&(o=Object.assign({},o,{notShowPriceTitle:o.price>=n})),Object.assign({},pr,t,{oldPrice:n},o,i,{id:e})})),f=Object.assign({},f,e.spuStock,e.spuPrice,{collectionId:Object(r.i)(e,"spuStock.skuId",0),collectionPrice:Object(r.i)(e,"spuPrice.price",0),oldPrice:Object(r.i)(t,"spuPrice.price",0),list:p})}else p=u.map((function(t){var e=t.skuId;return Object.assign({},pr,t,{oldPrice:0},h[e],m[e],{id:e})})),f=Object.assign({},f,t.spuStock,t.spuPrice,{collectionId:Object(r.i)(t,"spuStock.skuId",0),collectionPrice:Object(r.i)(t,"spuPrice.price",0),list:p});var y=1/0,b=0,_=1/0,k=0,w=1/0,S=0,C=0===f.list.length,P=null;return C?(b=f.price,y=b,f.collectionPrice=b,S=f.oldPrice||0,w=S):(f.stockNum=f.list.reduce((function(t,e){return t+(e.stockNum||0)}),0),f.list.forEach((function(t){if(!(t.disable||f.stockNum>0&&0===t.stockNum)){if(t.recommendedPrice){if(t.isVipPriceAdvantage=t.recommendedPrice<t.price,t.isVipPriceAdvantage){var e=t.oldPrice-t.recommendedPrice;_=Math.min(_,e),k=Math.max(k,e)}null===P&&(P=t.isVipPriceAdvantage),P=P&&t.isVipPriceAdvantage}y=Math.min(y,t.price),b=Math.max(b,t.price),w=Math.min(w,t.oldPrice),S=Math.max(S,t.oldPrice)}})),f.price=y||b||0,f.oldPrice=w||S||0),f.price=f.price||y||b||0,isFinite(S)||(S=0),f.oldPrice=f.oldPrice||w||S||0,Object(r.q)(Object.assign({},f,{noneSku:C,minPrice:y,maxPrice:b,minVipSavedPrice:_,maxVipSavedPrice:k,isAllVipPriceAdvantage:P,oldMinPrice:w,oldMaxPrice:S}))}function mr(t){return t&&"number"==typeof t?(t/100).toFixed(2):t}function gr(t,e){void 0===t&&(t={}),void 0===e&&(e="积分");var n=t,i=n.pointsPriceText,o=void 0===i?"":i,r=n.price,a=void 0===r?0:r,s=n.minPrice,c=void 0===s?-1:s,u=n.maxPrice,l=void 0===u?-1:u,d=n.pointsPrice,p=void 0===d?-1:d,f=n.oldPrice,h=void 0===f?0:f,m=n.oldMinPrice,g=void 0===m?-1:m,v=n.oldMaxPrice,y=void 0===v?-1:v,b=n.priceRangeTypeStart,_=void 0!==b&&b,k="",w="";return o?k=o:p>0?(k=""+p+e,a>0&&(k=k+"+￥"+mr(a))):k=l>c&&c>=0?_?mr(c)+"起":mr(c)+"-"+mr(l):""+mr(a),h>a||g>c?y>g?w=mr(g)+"-"+mr(y):h>0&&(w=""+mr(h)):w="",{showPrice:k,showOldPrice:w}}var vr=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),{state:Object.assign({},t.state,e.state),getters:Object.assign({},t.getters,e.getters),actions:Object.assign({},t.actions,e.actions),mutations:Object.assign({},t.mutations,e.mutations)}},yr=function(t){void 0===t&&(t={});var e=t,n=e.startTime,i=void 0===n?0:n,o=e.endTime,r=void 0===o?0:o,a=e.serverDeltaTime,s=void 0===a?0:a,c=+new Date(i),u=+new Date(r);return{startAt:c-s,endAt:u-s,serverStartAt:c,serverEndAt:u,startTime:i,endTime:r}};n("Rm1S");var br=function(t){void 0===t&&(t="");var e=null,n=t.match(/\d+(\.\d+)?/g);if(n){var i=t.split(n[0]);e={tagPre:i[0],price:n[0],tagSuf:i[1]}}return e};function _r(t){for(var e=new Date,n=e.getMonth(),i=e.getFullYear(),o="¥"+Object(r.u)(t,!0,!1),a={months:[],monthDataList:[]},s=a.months,c=a.monthDataList,u=0;u<4;u++){var l=n+u+1,d=i;l>12&&(l-=12,d+=1);var p=new Date(d,l,0).getDate();s.push({name:l,year:d,price:o,label:o+"起"});var f=[];c.push({year:d,month:l,days:f});for(var h=1;h<=p;h++)f.push({date:h,isEnable:new Date(d,l-1,h,23,59,59)>=e,footer:o,id:d+"-"+l+"-"+h})}return a}function kr(t,e){void 0===e&&(e={});var n=e,i=n.fetchSuccess,o=void 0!==i&&i,a=n.geoLocationData,s=void 0===a?null:a,c=n.parsedActivities,u=void 0===c?{}:c,l=n.parsedPromotions,d=void 0===l?[]:l,p=n.promotionLimit,f=n.activityInfo,h=void 0===f?{}:f,m=n.pageFeature,g=void 0===m?{}:m,v=n.goodsExtra,y=void 0===v?{}:v,b=n.salableStores,_=void 0===b?[]:b,k=n.soldNum,w=void 0===k?null:k,S=n.skuStocks,C=n.spuStock,P=n.bosWorkFlow,x=u.luckyDrawGroup,O=u.helpCut,T=u.groupOn,I=u.seckill,A=u.tuan,B=u.auction,j=u.fCode,D=u.pointsExchange,E=u.presentExchange,L=u.cashBack,N=u.meetReduce,M=u.supplierMeetReduce,F=u.carriageDiscount,R=u.bale,U=u.packageBuy,W=u.plusBuy,G=u.depositExpansion,$=u.helpDepositExpansion,q=u.discount,H=u.customerPostageFree,V=u.timelimitedDiscount,z=u.discountInvite,Y=u.fansBenefit,K=u.coupon,Q=u.cashbackPro,Z=u.inSourcingFission,J=u.pageType,X=u.shareEncourage,tt=u.productLaunch,et=t.serverDeltaTime,nt=void 0===et?0:et,it=t.serverTimestamp,ot=t.staticSkuInfo,rt=t.marketActivity,at=t.orderActivity,st=t.goodsActivity;!function(t,e,n){if(e||n){n&&Object.assign(t.staticSkuInfo,{skuStocks:n}),e&&Object.assign(t.staticSkuInfo,{spuStock:e});var i=hr(t.staticSkuInfo);t.originNormalSku=Object.assign({},i)}}(t,C,S);var ct=t.originNormalSku;t.fetchSuccess=o;var ut=y.buyLimitType,lt=void 0===ut?0:ut,dt=y.isGoodsCollected,pt=void 0!==dt&&dt,ft=y.quotaUsed,ht=void 0===ft?0:ft,mt=y.haitaoTariffAmount,gt=void 0===mt?"":mt;if(t.isFastBuy&&function(t,e){var n,i,o;void 0===e&&(e={}),Object.assign(t,{buyer:{phone:Object(r.i)(_global,"buyer.phone","")},distribution:Object.assign({},t.distribution,{supportSelfFetch:!1,supportLocalDelivery:!1,postage:t.distribution.expressFee}),skuConfig:Object.assign({},t.skuConfig,{skuComb:(n=t.skuConfig.skuComb,i=t.skuConfig.selectedSku,o=t.originSku.list,n||(i&&i.every((function(t){return!!t.value}))?(o||[]).find((function(t){return t.stock_num>0})):null))}),limit:Object.assign({},t.limit,Object(r.i)(t,"goods.limit",{}),{quotaUsed:Object(r.i)(e,"goodsExtra.quotaUsed",0)}),isWeapp:_global.isWeapp||0,wxPayDiscount:_global.wxPayDiscount||0})}(t,e),Object.assign(t.goods,{isGoodsCollected:pt,isSupportFCode:Object(r.i)(g,"extra.supportFCode",!1),soldNum:null===w?t.goods.soldNum:w,bosWorkFlow:P}),Object.assign(t.goods.limit,{quotaUsed:ht}),Object.assign(t.buyConfig,{buyLimitType:lt}),_&&Object.assign(t.multistore,{salableStores:_.map((function(t){return Object.assign({},t,{link:t.link||r.b.add(location.href,{oid:t.id})})}))}),H&&H.isCustomerPostage&&(t.distribution.postage="免运费"),st.haitao&&gt&&(st.haitao.tariffAmount=gt),s&&s.distance&&Object.assign(t.multistore,{distance:s.distance||0}),Object.assign(t.display,{forbidBuyReason:g.forbidBuyReason,showBuyBtn:g.showBuyButton,showCartBtn:g.showCartButton,showPointsBtn:0!==g.showPointsButtonStatus,showForbidBuyBtn:g.showForbidBuyButton,showGiftBtn:g.showGiftButton,showMiniShopBtn:g.showMiniShopButton,showMiniCartBtn:g.showMiniCartButton,showMiniPointsBtn:g.showMiniPointsButton,showShareBtn:g.showShareButton,showImBtn:g.showImButton,showDefaultBuyButtonText:g.showDefaultBuyButtonText,buyButtonText:g.buyButtonText,showMiniActivityButton:g.showMiniActivityButton,showSoldOutButtonType:g.showSoldOutButtonType}),Object.assign(t.wish,{isOpen:g.showWishButton}),Object.assign(t.activityInfo,{activityAlias:h.alias||"",activityId:h.id||0,activityType:h.code||""}),Object.assign(t,{orderPromotion:d,orderPromotionLimit:p,pageType:J}),x&&(Object.assign(rt,{luckyDrawGroup:Object.assign({activityId:x.id,activityName:x.name,level:x.level,type:x.type,buttonType:x.buttonType,couponName:x.couponName,goodsNum:x.goodsNum,joinNum:x.participantNum,shopId:x.shopId,solved:x.solved,ownGroup:x.ownGroup},yr({startTime:x.startTime,endTime:x.endTime,serverDeltaTime:nt}))}),Sr(t,x)),O&&(Object.assign(rt,{helpCut:Object.assign({activityId:O.activityId,sponsorId:O.sponsorId,isFollowStart:O.isFollowStart,level:O.level,status:O.status,title:O.title,type:O.type},yr({startTime:O.startTime,endTime:O.endTime,serverDeltaTime:nt}))}),Sr(t,O)),T){var vt={},yt=-1,bt=-1,_t=T.ladderPrice||{};Object.keys(_t).forEach((function(t){_t[t].forEach((function(t){var e=t.scale,n=t.skuPrice;vt[e]?(vt[e].minPrice=Math.min(vt[e].minPrice,n),vt[e].maxPrice=Math.max(vt[e].maxPrice,n)):vt[e]={minPrice:n,maxPrice:n},yt=yt<0?n:Math.min(yt,n),bt=bt<0?n:Math.max(bt,n)}))})),_t[0]=Object.keys(vt).map((function(t){return Object.assign({},vt[t],{scale:+t,skuPrice:vt[t].minPrice})}));var kt=it+(T.startRemainTime||0),wt=it+(T.endRemainTime||0);Object.assign(rt,{groupOn:Object.assign({activityId:T.activityId,groupAlias:T.groupAlias,groupType:T.groupType},yr({startTime:kt,endTime:wt,serverDeltaTime:nt}),{buttonType:T.buttonType,level:T.level,ongoingGroup:T.ongoingGroup||[],limit:{quota:T.quota||0,quotaUsed:T.quotaUsed||0,quotaCycle:T.quotaCycle||0,singleQuota:T.perOrderLimit||0},ladderList:_t,joinNum:T.joinNum,joinPeopleNum:T.joinPeopleNum,alertType:T.alertType,viewUrl:T.viewUrl,type:T.type,subType:T.subType||"groupOn",ladderMinPrice:yt,ladderMaxPrice:bt})}),"ladderGroupOn"===T.subType&&Cr(t),Sr(t,T)}if(A&&(Object.assign(rt,{tuan:Object.assign({activityId:A.activityId,allRules:A.allRules,isCash:A.isCash,isDelete:A.isDelete,level:A.level,percentage:A.percentage,returnMoney:A.returnMoney,rules:A.rules,soldCount:A.soldCount,limitedDays:A.limitedDays,state:A.state,type:A.type},yr({startTime:(A.startTime||"").replace(/-/g,"/"),endTime:(A.endTime||"").replace(/-/g,"/"),serverDeltaTime:nt}))}),Sr(t,A)),I&&(Object.assign(rt,{seckill:Object.assign({activityId:I.activityId,alias:I.alias,isCheckRight:I.isCheckRight,isDelete:I.isDelete,isPassCheck:I.isPassCheck,level:I.level,noticeTime:I.noticeTime,bookingNumText:I.bookingNumText,limit:{quota:I.quota||0,quotaUsed:I.quotaUsed||0,quotaCycle:I.quotaCycle||0},tag:I.tag,title:I.title,type:"seckill",questionId:I.questionId,useFollow:I.useFollow,useQuestion:I.useQuestion},yr({startTime:I.startAt,endTime:I.endAt,serverDeltaTime:nt}))}),Sr(t,I)),D){Object.assign(rt,{points:{activityId:D.id,buyLimit:D.buyLimit,level:D.level,limit:{quota:D.quotaNum||0,quotaUsed:D.quotaUsed||0,quotaCycle:D.quotaCycle||0},startAt:D.startAt,endAt:D.endAt,type:D.type,pointsName:y.pointsName,status:+g.showPointsButtonStatus}}),Cr(t),t.originPointsSku=hr(ot,Object.assign({},ot,D));var St=gr(t.originPointsSku).showPrice;Object.assign(t.goods,{pointsName:y.pointsName||"积分",pointsPrice:St})}if(E&&(Object.assign(rt,{present:{activityId:E.id,alias:E.alias,buyerId:E.buyerId,createdAt:E.createdAt,fansId:E.fansId,goodsId:E.goodsId,isDelete:E.isDelete,isReceive:E.isReceive,isView:E.isView,kdtId:E.kdtId,level:E.level,orderId:E.orderId,orderNo:E.orderNo,present:E.present,presentId:E.presentId,source:E.source,tourist:E.tourist,type:"presentExchange",limit:{quota:0,quotaCycle:0,quotaUsed:0}}}),Cr(t),t.originActivitySku=Object.assign({},ct,{list:(ct.list||[]).map((function(t){return t.id===E.present.skuId?(t.price=t.discountPrice||0,t.stockNum=1):t.stockNum=0,t})),collectionPrice:0,price:0,minPrice:0,maxPrice:0,oldPrice:ct.price,oldMinPrice:ct.minPrice,oldMaxPrice:ct.maxPrice,hideStock:!0,stockNum:1}),t.goods.price="0.00"),B){Object.assign(rt,{auction:{activityId:B.id,auctionType:B.auctionType,currentPrice:B.currentPrice,endAt:B.endAt,endEventType:B.endEventType,endPrice:B.endPrice,goodsId:B.goodsId,level:B.level,nextCountdown:B.nextCountdown,nextStep:B.nextStep,soldOutAt:B.soldOutAt,startAt:B.startAt,startPrice:B.startPrice,status:B.status,stepPrice:B.stepPrice,stepTime:B.stepTime,type:"auction",limit:{quota:B.quota||0,quotaUsed:B.quotaUsed||0,quotaCycle:B.quotaCycle||0}}}),Sr(t,B),t.originActivitySku=Object.assign({},t.originActivitySku,{oldPrice:B.startPrice});var Ct=B.startPrice,Pt=B.currentPrice;t.goods=Object.assign({},t.goods,{price:Object(r.g)(Pt),oldPrice:Object(r.g)(Ct),minPrice:Pt})}j&&(Object.assign(rt,{fCode:Object.assign({activityId:j.id,isInvalid:j.isInvalid},j)}),Sr(t,j)),K&&function(t,e){void 0===e&&(e={});var n=e,i=n.voucherPreferenceCopyWriting,o=n.couponPreferenceModels,r=n.couponSkuPrices,a=void 0===r?[]:r,s=t.orderActivity,c={};(a||[]).forEach((function(t){c[t.skuId]={preferentialCoupon:t.useThresholdAndValueCopywriting,preferentialPriceTag:br(t.priceTitle)}}));t.optimalCouponList=(o||[]).slice(0,20).map((function(t){return t.disabled=!1,t})),Object.assign(s,{coupon:{preferentialPrice:i,optimalCouponList:o,couponSkuPrices:a,skuCouponPrice:c}})}(t,K),R&&Object.assign(at,{bale:R}),N&&Object.assign(at,{meetReduce:N}),F&&Object.assign(at,{carriageDiscount:F}),M&&Object.assign(at,{supplierMeetReduce:M}),L&&Object.assign(at,{cashBack:{startTime:L.startTime,endTime:L.endTime,type:L.cashbackMethod,limit:L.cashbackLimit,maxCashBack:L.cashbackEnd}}),U&&Object.assign(at,{packageBuy:U}),W&&Object.assign(at,{plusBuy:W});var xt=Object(r.i)(t,"goodsActivity.preSaleInfo",null);if(xt){var Ot="none",Tt=[];G?(Ot="normal",Tt=ct.noneSku?[Object.assign({skuId:ct.skuId||ct.collectionId,depositOffer:0},G.spuPrice)]:Object(r.i)(G,"skuPrices",[])):$&&(Ot="help",Tt=Object(r.i)($,"skuPriceOffers",[])),Object.assign(at,{presale:{type:xt.preSaleType,shipType:xt.etdType,shipStartTime:xt.etdStart,shipDelayDays:xt.etdDays,shipBeforeDays:xt.etdBeforeDays,period:xt.preSalePeriod||0,payStartDay:xt.balanceDueDayStart||0,payEndDay:xt.balanceDueDayEnd||0,activityEnd:xt.preSaleActivityEnd,depositRatio:xt.depositRatio,minDeposit:xt.minDeposit,maxDeposit:xt.maxDeposit,preStartTime:xt.preSaleStart,preEndTime:xt.preSaleEnd,payStartTime:xt.balanceDueStart,payEndTime:xt.balanceDueEnd,depositType:Ot,depositSkuList:Tt,depositPriceType:xt.depositType,deposit:xt.deposit,skuDeposit:xt.skuDepositModels,helpDepositExpansion:Object.assign({},$)}}),Cr(t)}q&&(Object.assign(at,{discount:{type:q.type,title:q.priceTitle||"",discountType:q.discountType,discountValue:q.discountValue,discount:q.discount,decrease:q.decrease,recommendedPriceModel:q.recommendedPriceModel||{}}}),Sr(t,q)),V&&(Object.assign(at,{timelimitedDiscount:Object.assign({activityId:V.activityId,priceTitle:V.priceTitle,discount:V.discount,discountType:V.discountType,discountValue:V.discountValue,earseType:V.earseType,isAllowContinueBuy:V.isAllowContinueBuy,isStarted:V.isStarted,kdtId:V.kdtId,level:V.level,title:V.priceTitle,type:"timelimitedDiscount",decrease:V.decrease,price:V.price},yr({startTime:V.startAt,endTime:V.endAt,serverDeltaTime:nt}))}),Sr(t,V)),Z&&(Object.assign(rt,{inSourcingFission:Object.assign({activityId:Z.activityId,havingInSourcingCouponNum:Z.havingInSourcingCouponNum,totalSoldNum:Z.totalSoldNum,totalActivityBudget:Z.totalActivityBudget,title:Z.title,type:Z.type,hasBuyThreshold:Z.hasBuyThreshold,inviterVoucherAlias:Z.voucherAlias},yr({startTime:Z.startAt,endTime:Z.endAt,serverDeltaTime:nt}))}),Sr(t,Z)),z&&function(t,e){void 0===e&&(e={});var n=t.staticSkuInfo,i=t.orderActivity;Object.assign(i,{discountInvite:{recommendedPriceModel:e.recommendedPriceModel||{}}});var o=e,r=o.skuPrices,a=o.spuPrice;t.originActivitySku=hr(n,Object.assign({},n,{skuPrices:r,spuPrice:Object.assign({},n.spuPrice,a)}))}(t,z),Q&&Object.assign(at,{cashbackPro:Q}),Y&&Object.assign(at,{fansBenefit:Y}),X&&Object.assign(at,{shareBenefit:X}),tt&&Object.assign(rt,{productLaunch:tt}),t.originActivitySku||Object.assign(t,{originActivitySku:t.originNormalSku})}function wr(t){var e={months:[]};var n=t.nearlyFourMonthMinPriceMap,i=Object.keys(n);return e.months=[],e.monthDataList=i.map((function(i){var o=i.split("-"),a=o[0],s=o[1],c=n[i],u=function(e,n){for(var i=t.ecardPriceCalendarModelMap,o=new Date(e,n,0).getDate(),a=[],s=1/0,c=1;c<=o;c++){var u=i[e+"-"+n+"-"+(c>9?c:"0"+c)],l=Object(r.w)(u.activityPrice,u.originPrice);void 0!==l&&(s=l>s?s:l,l="¥"+Object(r.u)(l,!0,!1)),a.push(Object.assign({},u,{date:c,activeHeader:u.stockNum<50,header:u.stockNum&&"余"+u.stockNum,footer:l,id:u.stockDate}))}return[s,a]}(a,s),l=u[0],d=u[1];return e.months.push({name:+s,year:+a,price:c,label:-1===c?"已售罄":"¥"+Object(r.u)(l,!0,!1)+"起"}),{year:a,month:s,days:d}})),e.monthDataList.sort((function(t,e){return new Date(t.year,t.month)>new Date(e.year,e.month)?1:-1})),e}function Sr(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t.isFastBuy&&(e={});var n=hr(t.staticSkuInfo,Object.assign({},t.staticSkuInfo,e));"goodsScan"===e.type||"customerDiscount"===e.type||"timelimitedDiscount"===e.type?(t.originNormalSku=n,e.isStarted&&e.quota&&(t.goods.limit.quota=e.quota||t.goods.limit.quota,t.goods.limit.quotaUsed=e.quota>0?e.quotaUsed||0:t.goods.limit.quotaUsed,t.goods.limit.quotaCycle=e.quota>0?e.quotaCycle||0:t.goods.limit.quotaCycle)):t.originActivitySku=n;var i=gr(n),o=i.showPrice,r=i.showOldPrice;t.goods=Object.assign({},t.goods,{price:o,minPrice:n.minPrice,maxPrice:n.maxPrice,oldPrice:r,oldMinPrice:n.oldMinPrice,oldMaxPrice:n.oldMaxPrice,stockNum:n.stockNum,umpActivityType:e.type})}function Cr(t){var e=t.goods.itemSalePropList;if((void 0===e?[]:e).length>0&&(t.goods.itemSalePropList=[],t.skuExtraData)){var n=t.originNormalSku.tree,i=void 0===n?[]:n;t.skuManager.infos.unselected=i.map((function(t){return t.k})),t.skuExtraData.showSkuBar=i.length>0}}var Pr=n("pZw8");var xr=window._global,Or=void 0===xr?{}:xr,Tr=Or.goodsData,Ir=void 0===Tr?{}:Tr,Ar=Or.shopData,Br=void 0===Ar?{}:Ar,jr=Or.shopChainInfo,Dr=void 0===jr?{}:jr,Er=Or.shopMetaInfo,Lr=void 0===Er?{}:Er,Nr=Or.pageParams,Mr=void 0===Nr?{}:Nr,Fr=Or.apolloSwitch,Rr=void 0===Fr?{}:Fr,Ur=Or.serverTimestamp,Wr=void 0===Ur?+new Date:Ur,Gr=Or.clientTimestamp,$r=void 0===Gr?+new Date:Gr,qr=Or.showVerifyBanner,Hr=void 0!==qr&&qr,Vr=Or.north_america_shop_config,zr=void 0===Vr?{}:Vr,Yr=Br.mpData,Kr=void 0===Yr?{}:Yr,Qr=Br.mpAccount,Zr=void 0===Qr?{}:Qr,Jr=Ir.shop,Xr=void 0===Jr?{}:Jr,ta=Lr.rootKdtId,ea=void 0===ta?"":ta,na=Or.url,ia=Or.platformInfo,oa=void 0===ia?{}:ia,ra=Or.need_ajax_login,aa=void 0!==ra&&ra,sa=Or.redirect_login_by_platform,ca=void 0!==sa&&sa,ua=Or.app_engine_config,la=void 0===ua?{}:ua,da=Or.open_app_config,pa=void 0===da?{}:da,fa=Or.offlineData,ha=Or.offlineSettings,ma=void 0===ha?{}:ha,ga=Or.isCloseBusiness,va=void 0!==ga&&ga,ya=Or.wxpay_env,ba=Or.alipay_env,_a=Or.mobile_oneclick_login,ka=Or.appName,wa=Object(r.q)(oa),Sa=Object(r.q)(pa),Ca=+Br.kdtId==+Object(r.d)("kdt_id"),Pa=Object.assign({},ma,fa),xa=Object(r.i)(Pa,"address",{}),Oa=xa.city,Ta=void 0===Oa?"":Oa,Ia=xa.district,Aa=void 0===Ia?"":Ia,Ba=xa.address,ja=""+Ta+Aa+(void 0===Ba?"":Ba);Pa.multistoreAddress=ja;var Da={isNorthAmerica:!!zr.is_north_america_shop,fetchSuccess:!1,serverDeltaTime:Wr-$r,clientTimestamp:$r,serverTimestamp:Wr,showVerifyBanner:Hr,design:{top:[],main:[],pic:[],bottom:[]},url:{wap:na.wap,imgqn:na.imgqn,h5:na.h5},env:{platform:wa.platform,isMobile:wa.isMobile,isWeixin:r.A.isWeixin(),wxpayEnv:ya,alipayEnv:ba,isIOS:r.A.isIOS(),isAndroid:r.A.isAndroid(),version:wa.platformVersion||"",showSku:"true"===r.b.get("showsku"),needAjaxLogin:aa,redirectLoginByPlatform:ca,isAllCart:!1,isNewHopeKdt:!1,hideGoodsBottom:!1},pageSwitch:Rr,mpData:{account:Zr,shop:Kr},adConfig:{isGdt:r.b.get("adType"),version:r.b.get("version"),adType:r.b.get("isGdt")},user:{logined:!1,isAdmin:Ca,mobileOneClickLoginData:_a,appName:ka},buyConfig:{isFans:!1,buyLimitType:0},appEngineConfig:la,appConfig:Sa,pageParams:Object.assign({},r.x.parse(window.location.search)),picture:{pictures:[],height:320},video:{width:0,height:0,coverUrl:"",videoUrl:"",videoId:""},goods:{type:"normal",id:0,alias:"",title:"",path:"",picture:"",sellPoint:"",origin:"",isDisplay:0,isOutlink:!1,outlinkUrl:"",isGoodsCollected:!1,isSupportFCode:!1,isVirtual:0,isVirtualTicket:0,isVirtualCoupon:0,isHaitao:!1,isCatering:!1,isHotel:!1,risk:null,pointsPrice:"",pointsName:"积分",price:"0.00",minPrice:0,maxPrice:0,soldNum:0,stockNum:0,hideStock:!1,totalStockNum:0,limit:{quota:0,quotaCycle:0,quotaUsed:0,singleQuota:0,startSaleNum:1},subTitle:"",isDisplaySkuPicture:!1,itemSalePropList:[],verifyStatus:Pr.r.VERIFIED,barterModel:{isSupportBarter:0},supportUnconditionalReturn:!1,supportQuickRefund:!1,brandInfoModel:{authorizationMark:0,brandAuthenticationImgs:[]},bosWorkFlow:!1},property:{keys:[],values:[]},limit:{quota:0,quotaCycle:0,quotaUsed:0,singleQuota:0},supplier:{kdtId:"",mode:""},salesman:{alias:"",name:"",icon:"",qrCode:"",goodsCanShare:!1,cpsRate:0,commission:0,shareLink:""},refund:{isSupport:1,type:"",interval:""},cartInfo:{count:0},shop:{kdtId:Br.kdtId||Xr.kdtId,rootKdtId:ea,logo:Br.logo,name:Br.shopName,city:Br.city,province:Br.province,address:Br.address,phone:"",shopType:Br.shopType,isHqShopPreview:Br.isHqShopPreview,isChainStore:Dr.isChainStore,isChainBranchStore:Dr.isChainBranchStore,certType:Br.shopCertType,url:function(t,e){var n={};if(t)n.alias=t;else{if(!(e>0))throw new Error("createHomePageURL: 缺少 alias 或者 kdtId 必要参数");n.kdt_id=e}return Object(r.c)(r.b.add("/wscshop/showcase/homepage",n),"h5")}(Xr.alias,Br.kdtId||Xr.kdtId)},shopConfig:{isShowBuyBtn:!1,isYouzanSecured:!1,isSecuredTransactions:!1,isCloseBusiness:va,showRecommendGoods:!1,showBuyRecord:!1,showCustomerReviews:!1,evaluationMemberLabel:0,showBuyerShows:!1,showPersonalRecommendGoods:!1,isSimplifiedWsc:!1,supportFreightInsurance:!1,hideShoppingCart:!1,hasPhysicalStore:!1,isWeixinPayOrigin:!1,principalCertType:0,brandCertType:0,showDefaultCartText:!0,cartText:"购物车"},followInfo:{qrcodeWeixinImg:"",qrcodeWeixinFetched:!1,customQrcodeImg:"",customQrcodeShow:!1},guarantee:{on:!1,style:0,desc:[]},multistore:{id:Pa.id||0,name:Pa.name||"",address:Pa.multistoreAddress,openMultiStoreSwitch:Pa.openMultiStoreSwitch||!1,hideStore:Pa.hideStore||!1,distance:0,salableStores:[]},payWays:{online:!0,cashOnDelivery:0,instalment:0},distribution:{postage:"",deliveryAddress:{},supportExpress:!1,supportSelfFetch:!1,supportLocalDelivery:!1,expressFee:"",localDeliveryFee:""},goodsDetail:{defaultType:"goods",tplStyle:0,richText:"",showcaseComponents:[]},tradeRecords:{list:[],page:1,loading:!1,finished:!1},originSku:{},originNormalSku:null,originActivitySku:null,originPointsSku:null,activityInfo:{activityAlias:"",activityId:0,activityType:0},skuConfig:{skuType:"normal",submitType:"",skuScene:"",accountUnionScene:"",isMultiBtn:!1,isAddCart:!1,isGift:!1,isPoints:!1,isAddWish:!1,isAjaxing:!1},skuExtraData:{showSkuBar:!1,barPictures:[],barPictureName:"",barPictureCount:0,barCalendar:[],selectedSku:{},selectedSkuComb:null,selectedSkuDate:[],selectedSkuDateId:"",selectedScale:null,installmentRate:0,selectedInstallmentPeriod:0,selectedProp:{}},skuData:{},staticSkuInfo:{spuPrice:{},skuPrices:[],spuStock:{},skuStocks:[]},initialSku:{},postData:{},display:{forbidBuyReason:"",showPlusButtons:!1,showBuyBtn:!0,showCartBtn:!0,showPointsBtn:!1,showForbidBuyBtn:!1,showGiftBtn:!1,showMiniShopBtn:!0,showMiniCartBtn:!0,showMiniPointsBtn:!1,showShareBtn:!0,showImBtn:!0,showWishBtn:!1,showBottomRecommendGoods:!1,showDefaultBuyButtonText:!0,buyButtonText:"",showMiniActivityButton:!1,showSoldOutButtonType:Pr.l.none,showSaleReminder:!1},displayPop:{sharePopShow:!1,skuPopShow:!1,maskShow:!1,miniMorePopShow:!1,followPopShow:!1,followPopText:"",tuanPopShow:!1,showCashBackPopup:!1,showDatePicker:!1,showCouponPopUp:!1,showImagePreview:!1,showServiceBar:!1,showYouzanEnsure:!1,showGoodsPromotion:!1,showActivityPop:!1,showCategoryBar:!1,showMultiStoreRecommend:!1,showInSourcingSharePop:!1},priceCalendarData:{priceBarList:[],selected:null,activeSkuId:null},marketActivity:{luckyDrawGroup:null,helpCut:null,groupOn:null,seckill:null,points:null,present:null,tuan:null,auction:null,fCode:null,inSourcingFission:null,productLaunch:null},orderActivity:{bale:null,cashBack:null,meetReduce:null,supplierMeetReduce:null,carriageDiscount:null,packageBuy:{},plusBuy:null,presale:null,discount:null,timelimitedDiscount:null,discountInvite:null,fansBenefit:null,coupon:null,shareBenefit:null},goodsActivity:{waitToSold:null,virtualTicket:null,virtualCoupon:null,periodbuy:null,preSaleInfo:null,haitao:null,hotel:null,catering:null,gift:null,wish:null},orderPromotionLimit:!1,orderPromotion:[],umpCouponList:[],optimalCouponList:[],miniButtons:{},showGoodsFixedInfo:!1,tradeRecordsV2:[],currentSkuNavIndex:0,previewImageData:{index:0,type:"",uiType:""},userCenterTitle:"个人中心",goodsExtendInfo:{SHOP_NOTE:null,HOT_RECOMMEND:null},pageType:"",skuManager:{job:null,infos:{showPrice:"",showOldPrice:"",isPreReady:!1,id:0,selected:[],unselected:[]}},hasAddSaleReminder:!1},Ea={pageParams:Mr,goods:Ir};!function(t,e){void 0===e&&(e={});var n=e,i=n.pageParams,o=void 0===i?{}:i,a=n.goods,s=void 0===a?{}:a,c=s.type,u=void 0===c?"":c,l=s.goods,d=void 0===l?{}:l,p=s.shop,f=void 0===p?{}:p,h=s.shopConfig,m=void 0===h?{}:h,g=s.delivery,v=void 0===g?{}:g,y=s.voucherModelList,b=void 0===y?[]:y,_=s.skuInfo,k=s.extendModelList,w=hr(_),S=Object.assign({},w),C=function(t){if(void 0===t&&(t=[]),!Array.isArray(t)||!t.length)return{};var e={};return t.forEach((function(t){e[t.type]=t})),e}(k);Object.assign(t,{originSku:w,originNormalSku:S,staticSkuInfo:_,goodsExtendInfo:C}),Object.assign(t.picture,{pictures:d.pictures||[],height:d.pictureHeight});var P=Object(r.i)(d,"video",{});Object.assign(t.video,{width:+P.coverWidth,height:+P.coverHeight,coverUrl:P.coverUrl,videoUrl:P.videoUrl||"",videoId:P.videoId||""});var x=gr(S),O=x.showPrice,T=x.showOldPrice;Object.assign(t.goods,{type:u,id:d.id,alias:d.alias||o.alias,title:d.title,subTitle:d.subTitle,path:d.path||o.path,picture:Object(r.h)(Object(r.i)(d,"pictures.0.url","")),sellPoint:d.sellPoint||"",origin:d.origin,umpActivityType:"",isDisplay:d.isDisplay,isOutlink:0===d.buyWay,outlinkUrl:Object(r.l)(d.buyUrl),isVirtual:d.isVirtual,isVirtualTicket:d.isVirtualTicket,isVirtualCoupon:d.isVirtualCoupon,isHaitao:d.isHaitao,isCatering:d.isCatering,isHotel:d.isHotel,risk:d.risk,limit:{quota:d.quota,quotaUsed:0,singleQuota:d.isHaitao||d.isVirtualTicket||d.isVirtualCoupon?100:0,quotaCycle:d.quotaCycle,startSaleNum:d.startSaleNum||1},soldNum:d.soldNum,stockNum:S.stockNum,hideStock:S.hideStock,price:O,oldPrice:T,minPrice:S.minPrice,maxPrice:S.maxPrice,oldMinPrice:0,oldMaxPrice:0,isDisplaySkuPicture:d.isDisplaySkuPicture,itemSalePropList:d.itemSalePropList||[],verifyStatus:d.verifyStatus,barterModel:d.barterModel,supportUnconditionalReturn:d.supportUnconditionalReturn,supportQuickRefund:d.supportQuickRefund,brandInfoModel:d.brandInfoModel,startSoldTime:d.startSoldTime}),Object.assign(t.property,{keys:Object(r.i)(d,"itemProperty.keys",[]),values:Object(r.i)(d,"itemProperty.values",[])}),Object.assign(t.supplier,{kdtId:d.supplierKdtId||"",mode:d.fxTradeMode}),Object.assign(t.salesman,{alias:o.sls});var I=Object(r.i)(d,"refundModel",{});Object.assign(t.refund,{isSupport:Object(r.i)(I,"isSupportRefund",1),type:I.refundType,interval:I.periodMillSeconds}),Object.assign(t.shop,{phone:f.phone}),Object.assign(t.shopConfig,{isShowBuyBtn:m.showBuyBtn,isYouzanSecured:m.isYouzanSecured,isSecuredTransactions:m.isSecuredTransactions,showRecommendGoods:m.goodsRecommend,showBuyRecord:m.buyRecord,showCustomerReviews:m.customerReviews,evaluationMemberLabel:m.evaluationMemberLabel,showBuyerShows:m.buyerShow,showPersonalRecommendGoods:m.personalRecommendWindowGoods,isSimplifiedWsc:m.isSimplifiedWsc,supportFreightInsurance:m.freightInsurance,hideShoppingCart:m.hideShoppingCart,hasPhysicalStore:m.teamPhysical,isWeixinPayOrigin:1==+m.weixinPayOrigin,principalCertType:m.principalCertType||0,brandCertType:m.brandCertType||0,goodsDetailBuyRecord:m.goodsDetailBuyRecord||"",goodsDetailSales:m.goodsDetailSales||null,buyBtnConfig:m.buyBtnConfig||null,webImInGoodsConfig:m.webImInGoodsConfig||null,shopOperateDurationYears:m.shopOperateDurationYears||0,shopOperateDurationTagSwitch:m.shopOperateDurationTagSwitch||0,goodsSalesReminder:1==+m.goodsSalesReminder});try{var A=JSON.parse(m.goodsRecommendForYou).open;t.shopConfig.openRecommendForYou=A}catch(t){}try{var B=JSON.parse(m.customCartName||"{}"),j=B.default,D=B.label,E=void 0===D?"":D;t.shopConfig.showDefaultCartText=!+j,t.shopConfig.cartText=E.substr(0,4)}catch(t){}Object.assign(t.payWays,{cashOnDelivery:!d.isVirtual&&+m.codPay,instalment:+d.isInstallment,isFreeInterest:+d.freeInterest});var L=Object(r.i)(d,"youzanGuaranteeModel",{});Object.assign(t.guarantee,{on:L.youzanGuarantee||0,style:m.guaranteeShowStyleType,desc:L.guaranteedComponents||[]}),Object.assign(t.distribution,{postage:Object(r.i)(v,"postage.desc",""),deliveryAddress:Object(r.i)(v,"deliveryAddress",{}),supportExpress:v.supportExpress,supportSelfFetch:v.supportSelfFetch,supportLocalDelivery:v.supportLocalDelivery,expressFee:Object(r.i)(v,"express.desc",""),localDeliveryFee:Object(r.i)(v,"localDelivery.desc","")});var N=d.itemDetailTplStyle||0;Object.assign(t.goodsDetail,{defaultType:r.b.get("detail_type")||"goods",tplStyle:N});var M=t.goodsActivity,F=Object(r.i)(d,"startSoldTime",0),R=Object(r.i)(d,"ecardExtra",null),U=Object(r.i)(d,"couponGoodsExtraModel",null),W=Object(r.i)(d,"periodBuyExtra",null),G=Object(r.q)(Object(r.i)(d,"cateringInfo","")),$=Object(r.q)(Object(r.i)(d,"haoTaoItemExtra",null)),q=Object(r.i)(d,"preSaleInfo",null);Array.isArray(b)&&(t.umpCouponList=[].concat(b));var H=(new Date).getTime();if(F&&F>H&&Object.assign(M,{waitToSold:{startSoldTime:F}}),"GIFT"===Object(r.i)(t,"pageParams.type","").toUpperCase()&&Object.assign(M,{gift:{}}),R&&(Object.assign(M,{virtualTicket:{isHolidaysAvailable:R.holidaysAvailable,effectType:R.effectiveType,effectDelayTime:R.effectiveDelayHours,validityType:R.validityType,validityDays:R.itemValidityDay,startDate:R.itemValidityStart,endDate:R.itemValidityEnd,instructions:R.instructions,itemPreOrderTime:R.itemPreOrderTime,itemPreOrderTimeStr:R.itemPreOrderTimeStr}}),Cr(t)),U&&Object.assign(M,{virtualCoupon:U}),W&&(Object.assign(M,{periodbuy:{description:W.description,period:W.period,deliveryTimeList:W.deliverTime,periodSku:W.skuExtras,deliverTimeId:""}}),Cr(t)),q&&(Object.assign(M,{preSaleInfo:q}),Cr(t)),$&&(Object.assign(M,{haitao:$}),Cr(t)),G&&(Object.assign(M,{catering:{feedListData:Object(r.i)(G,"ingredientList",[])}}),Cr(t)),+d.isInstallment&&Cr(t),+m.goodsSalesReminder&&t.env.isWeixin&&t.goodsActivity.waitToSold){var V=+t.goodsActivity.waitToSold.startSoldTime-t.serverTimestamp;V>3e5&&V<31536e7&&Object.assign(t.display,{showSaleReminder:!0})}}(Da,Ea),function(t){var e=t.goods.picture,n=t.goods.itemSalePropList,i=void 0===n?[]:n,o=t.originNormalSku.tree,a=void 0===o?[]:o,s=[],c="",u=a[0]||{};Object(r.i)(u,"v.0.imgUrl","")&&(s=u.v.map((function(t){return Object(r.h)(t.imgUrl||e,"small")})),c=u.k);var l=s.length,d=[];a.forEach((function(t){d.push(t.k)})),i.forEach((function(t){d.push(t.k)})),t.skuExtraData=Object.assign({},t.skuExtraData,{showSkuBar:a.length+i.length>0,barPictures:s.slice(0,5),barPictureName:c,barPictureCount:l}),t.skuManager.infos=Object.assign({},t.skuManager.infos,{unselected:d})}(Da);var La=Da,Na={updateDesign:function(t,e){t.design=e},initUserData:function(t,e){!function(t,e){Object.assign(t.buyConfig,{isFans:e.isFans})}(t,e)},initDisplayData:function(t,e){!function(t,e){Object.assign(t.env,{isNewHopeKdt:e.isNewHopeKdt,isAllCart:e.isAllCart,hideGoodsBottom:e.hideGoodsBottom})}(t,e)},updateGoodsAsyncData:function(t,e){kr(t,e)},updateCalendarData:function(t,e){var n,i=e.skuId,o=e.calendarData;t.priceCalendarData=Object.assign({},t.priceCalendarData,((n={activeSkuId:i})[i]=o,n))},updateCalendarActiveSkuId:function(t,e){t.priceCalendarData.activeSkuId=e},toggleGoodsMask:function(t,e){void 0===e&&(e=!1),t.displayPop.maskShow=e},toggleGoodsShow:function(t,e){t.display.showBottomRecommendGoods=e},updateDisplayPopByKey:function(t,e){t.displayPop[e]=!t.displayPop[e]},displayGoodsFixedInfo:function(t,e){t.showGoodsFixedInfo=e},setSaleReminder:function(t){t.hasAddSaleReminder=!0},hideSaleReminder:function(t){t.display.showSaleReminder=!1}},Ma=n("DIQr"),Fa=n("sGvI"),Ra=n("mFPD"),Ua=n("lznO"),Wa=Object(r.i)(window._global,"apolloSwitch.useImcUniform",""),Ga=Object(r.i)(window._global,"kdt_id",""),$a=Ga%1e3<+Wa&&!Object(Ot.c)()&&!_global.diyConfig.type;function qa(){return-1!==["youzanke"].indexOf(Object(Ua.a)())}function Ha(t,e){if(void 0===e&&(e={}),qa())return Promise.resolve();var i=Object.assign({fromSource:t,noSocketConnect:!0,biz:"goods",isGoodsDown:t&&t.isGoodsDown},e);if($a)try{return n.e(52).then(n.t.bind(null,"czgv",7)),n.e(45).then(n.bind(null,"uaF5")).then((function(t){(0,t.getImcUniformIns)(Object.assign({},i,{showUnRead:!0,kdtId:Ga,imcUniform:{container:{zIndex:1003}}}))})),Promise.resolve()}catch(t){return Object(yt.c)("新版 IM 初始化失败",{error:t}),Promise.resolve()}return n.e(44).then(n.t.bind(null,"sNvo",7)).then((function(t){var e=t.default;return e.init("",i),e.refreshIcon(),e}))}function Va(t,e){if(qa())return function(t){function e(){Ra.action.gotoNative({page:"im",data:Object.assign({},window.getShareData()||{},{team_name:t.shopName},t)})}console.log("原生联系客服"),window.youzanyunbridgeReady?e():window.youzanyunReady(e)}(t);Ha(t,e).then((function(t){!$a&&t&&t.bot.trigger("im:show")}))}var za=window._global,Ya=void 0===za?{}:za,Ka={updateGoodsStaticData:function(t){var e=t.commit;e("updateDesign",Ya.design),e("initDisplayData",Object.assign({},Ya.displayData))},updateGoodsAsyncData:function(t,e){var n=t.commit;t.dispatch,t.state;void 0===e&&(e={}),n("initUserData",Object.assign({},Ya.sessionData));var i=window._asyncUserState;n("updateGoodsAsyncData",Object.assign({},i)),Object(yt.a)(i.parsedActivities)},setSalemanData:function(t){var e=t.state,n=t.getters,i=e.goods,o=e.originSku,r=e.originNormalSku,a=e.originActivitySku,s=e.marketActivity,c=e.orderActivity,u=e.activityInfo,l=n.goodsMainPictures,d=s.luckyDrawGroup,p=s.helpCut,f=s.groupOn,h=s.seckill,m=s.tuan,g=s.auction,v=s.inSourcingFission,y=o;d||p||f||h||m||g||v?y=a:c.timelimitedDiscount&&(y=r),wt.a.set("salesman-icon",{goodsData:{goodsMainPictures:l,goodsActivityInfo:u,goodsPrice:{maxPrice:y.maxPrice,minPrice:y.minPrice,maxOriginPrice:i.oldMaxPrice,minOriginPrice:i.oldMinPrice},itemId:i.id,minPrice:y.minPrice,maxPrice:y.maxPrice,imageUrl:i.picture,title:i.title,url:window.location.href,umpActivityType:i.umpActivityType}})},initPageState:function(t){var e=t.getters,n=t.dispatch;e.isRetailShop&&n("getRetailShopInfo"),n("checkAutoShowSku"),n("refreshCartCount"),e.isPriceCalendar&&n("fetchNearDateList")},initIM:function(t){var e=t.getters;Object(On.askHook)("goods","useCustomConcat")||Ha(e.imData)},handleIm:function(t){var e=t.getters;Object(On.askHook)("goods","useCustomConcat")||Va(e.imData)},initWxd:function(t){var e,n=t.state,i=t.getters,o=n.goods.id,a=n.supplier.kdtId,s=i.price.currentPrice;e={price:s,share_type:"goods"},window._global.share.otherShareData=e,r.a.putData("supplierInfo",{supplier_kdt_id:a}),r.a.putData("goodsInfo",{goods_id:o}),r.a.putData("shareData",window.getShareData())},countdownEnded:function(){window.location.reload()},showNearSku:function(t){var e=t.getters,n=t.state,i=t.dispatch;if(Object(yt.b)({et:"click",ei:"click_sku",en:"点击SKU模块"}),!e.isSkuBarDisabled&&e.isVerified){var o=n.skuConfig.skuScene;o?i("triggerSku",{skuScene:o,accountUnionScene:Pr.a.NORMAL_BUY}):i("showDefaultSku")}},gotoPage:function(t,e){Object(Ma.h)(e)},toggleGoodsMask:function(t,e){void 0===e&&(e=!1),(0,t.commit)("toggleGoodsMask",e)},showCommonToast:function(t,e){if(void 0===e&&(e={}),e){var n=e,i=n.message,o=void 0===i?"":i,r=n.autoReload,a=void 0===r?0:r;if(o){var s=St.default.loading({message:o,duration:1e3*(a||2),forbidClick:!!a});if(a){var c=a;!function t(){c--,s.message=o+"("+c+"s)",c>0?setTimeout(t,1e3):window.location.reload()}()}}}},initSaleReminder:function(t){var e=t.state,n=t.commit,i=e.goods;return!(!e.display.showSaleReminder||!Object(Fa.a)())&&kt.a.get({url:"/wscgoods/hasSaleReminder.json",data:{itemId:i.id}}).then((function(t){return!!t&&(n("setSaleReminder"),!0)}))}},Qa={kdtId:function(t){return Object(r.i)(t,"shop.kdtId",0)},alias:function(t){return Object(r.i)(t,"goods.alias","")},platform:function(t){return Object(r.i)(t,"env.platform","")},isSupportWish:function(){return!1},version:function(t){return Object(r.i)(t,"env.version","")},isGroupOn:function(){return!1},isLadderGroupOn:function(){return!1},isAuction:function(){return!1},isPresent:function(){return!1},allGrouponUrl:function(){return""},imData:function(t,e){var n=t.goods,i=n.title,o=n.alias,r=n.price,a=n.isDisplay,s=t.shop.kdtId,c=t.multistore,u=c.id,l=c.name,d={kdt_id:s,source:"goods",endpoint:"h5",detail:{name:i,alias:o,price:r,imgs:e.originGoodsPictures.map((function(t){return t.url})).slice(0,3)},shopName:t.shop.name,price:r,isGoodsDown:a};return u&&(d.site_id=u,d.site_name=l),d},homepageUrl:function(t){return t.shop.url},cartUrl:function(t,e){var n="/wsctrade/cart?kdt_id="+e.kdtId;return t.env.isAllCart&&(n=r.b.add(n,{cart_type:"all"})),"yzapp"===r.b.get("f_platform")&&(n=r.b.add(n,{f_platform:"yzapp"})),Object(r.c)(n,"h5",e.kdtId)},originGoodsPictures:function(t){var e=t.picture.pictures,n=t.video.coverUrl,i=[].concat(e);return!!t.video.videoUrl&&n&&i.unshift({url:n}),i},currentActivity:function(t,e){return e.isTimelimitedDiscount?e.timelimitedDiscountActivity:e.isPresale?e.presaleActivity:{}},discountActivity:function(t){return Object(r.i)(t,"orderActivity.discount")},hasCurrentActivity:function(t,e){return e.currentActivity&&Object.keys(e.currentActivity).length>0},presaleCountdown:function(){return null},timelimitedDiscountCountdown:function(){return null},waitToSoldCountdown:function(t){var e=t.serverDeltaTime,n=void 0===e?0:e,i=t.goodsActivity.waitToSold;return i?{desc:"距开售仅剩",end:+i.startSoldTime-n}:null},countdown:function(t,e){var n=e.timelimitedDiscountCountdown,i=e.presaleCountdown;return n||(i||null)},leftStockNumProgress:function(t){var e=Object(r.i)(t,"goods.stockNum",0),n=Math.max(Object(r.i)(t,"originActivitySku.totalActivityStockNum",0),e);return+(100-Math.round(100*(n-e)/n))},skuData:function(t,e){var n=t.skuData||{};return e.isDepositPresale&&!e.isDepositPresaleOver?e.depositPresaleSkuData:e.isFCode?t.originActivitySku:n},forbidClickBtnReason:function(t){var e=t.goods,n=t.shop,i=t.fetchSuccess,o=n.isChainBranchStore,r=void 0!==o&&o,a=n.isChainStore,s=void 0!==a&&a;return!i&&e.stockNum>0?{message:"抢购人数太多\n请等待",autoReload:5}:s&&!r?{message:"连锁预览商品不支持下单或加购",autoReload:0}:null},isMultiStoreSoldout:function(t,e){var n=t.goods.stockNum,i=void 0===n?0:n;return e.isMultiStore&&0==+i},isMultiStore:function(t){return Object(r.i)(t,"multistore.id",0)>0},availableStores:function(t){var e=t.goods.alias,n=t.multistore.salableStores||[];return n=n.map((function(t){return t.link=Object(r.l)(t.link||"/wscshop/goods/"+e+"?oid="+t.id),t}))},showAvailableStores:function(t){return 0===t.goods.stockNum&&t.multistore.salableStores.length>0},hideAvailableStores:function(){return!1},isPriceCalendar:function(t){var e=t.goodsActivity,n=void 0===e?{}:e;return n.virtualTicket&&3===n.virtualTicket.validityType},isVirtualTicket:function(t){return t.goods.isVirtualTicket},showVirtualTicketIntro:function(t){return t.goods.isVirtualTicket&&t.saas.showVirtualTicketIntro.value},isNormalTplStyle:function(t){return 0===t.goodsDetail.tplStyle},goodsMainPictures:function(t,e){return e.originGoodsPictures.map((function(t){return Object.assign({},t,{url:Object(r.h)(t.url,"!750x0.jpg")})}))},goodsPictures:function(t,e){var n=e.goodsMainPictures,i=e.skuPictures;return[].concat(n,i)},skuPictures:function(t,e){return e.originSkuPictures.map((function(t){return Object.assign({},t,{url:Object(r.h)(t.url,"!750x0.jpg")})}))},originSkuPictures:function(t){var e=t.staticSkuInfo,n=t.staticSkuInfo.props,i=void 0===n?[]:n,o=t.goods,a=[];return i.forEach((function(t){t.v&&a.push.apply(a,t.v.filter((function(t){return!!t.imgUrl})).map((function(e){return Object.assign({},e,{url:e.imgUrl,ks:t.kS,kId:t.kId,stockNum:0,priceStr:o.price})})))})),a.forEach((function(t){if(e.skus.forEach((function(n){if(+n[t.ks]===t.id){var i=e.skuPrices.find((function(t){return t.skuId===n.skuId})),o=e.skuStocks.find((function(t){return t.skuId===n.skuId})),a=Object(r.i)(i,"price",0);t.price?t.price.push(a):t.price=[a],t.stockNum+=Object(r.i)(o,"stockNum",0)}})),t.price&&t.price.length>0){var n=t.price.sort((function(t,e){return t-e})),i=n[0],o=gr({minPrice:i,maxPrice:n[n.length-1],price:i});t.priceStr=o.showPrice}})),a},isSellOut:function(t){return t.goods.stockNum<=0},cartText:function(t){var e=t.shopConfig,n=e.showDefaultCartText,i=e.cartText;return n?"购物车":i},activityInfoForPrice:function(){return{}},isVerified:function(t){return(t.goods.verifyStatus||Pr.r.VERIFIED)===Pr.r.VERIFIED},isInSourcingFission:function(){return!1},isProductLaunch:function(){return!1},showRecommendGoods:function(t,e){var n=t.shopConfig.showRecommendGoods;return n||e.isGroupOn}},Za={getters:{showGoodsVideo:function(t){return!!t.video.videoUrl},goodsPictureRatio:function(t,e){var n=.75;return e.originGoodsPictures.forEach((function(t){void 0===t&&(t={});var e=t,i=e.height,o=void 0===i?0:i,r=e.width,a=void 0===r?0:r;o&&a&&(n=Math.max(n,o/a))})),n=Math.min(4/3,n),n=Math.max(3/4,n)}}},Ja=(n("SYor"),{state:{},getters:{showActivityBanner:function(t,e){return!(!e.isDepositPresale||e.isDepositPresaleOver)||!(!e.isTimelimitedDiscount||e.isTimelimitedDiscountNotStart)},fansBenefit:function(t){var e=Object(r.i)(t,"orderActivity.fansBenefit",null);if(e){var n=e.preferentialType,i=e.description,o=void 0===i?"":i,a="",s="";if(1===n){var c=o.match(/\d+(\.\d+)?\S*$/g);s=c?c[0]:"",a=o.replace(s,"")}else 2===n&&(a=o.slice(0,1),s=o.slice(1));return{isFans:e.isFans,contentNormal:a,contentHighLight:s}}},activityTitle:function(t,e){return e.isDepositPresale?"定金预售":e.discountActivity?e.discountActivity.title:""},activityPrice:function(t,e){var n=t.goods,i=n.minPrice,o=void 0===i?0:i,a=n.maxPrice,s=void 0===a?0:a,c=n.price,u=void 0===c?"":c,l=n.oldPrice,d=void 0===l?"":l;if(e.isDepositPresale&&!e.isDepositPresaleOver){var p=e.presaleActivity,f=p.minDeposit,h=p.maxDeposit,m=Object(r.g)(f).split(".");return{priceTag:e.presaleOffsetPriceMin,isRange:f!==h,showPrice:m,originPrice:u}}var g=e.goodsPriceTag||"";return e.isLadderGroupOn?{priceTag:g,isRange:!0,showPrice:Object(r.g)(e.ladderMinPrice.price).split("."),originPrice:d}:{priceTag:g,isRange:o!==s,showPrice:Object(r.g)(o).split("."),originPrice:d}},activityNotStart:function(){return!0},isShowNormalPrice:function(t,e){var n=t.isFastBuy,i=t.saas,o=(void 0===i?{}:i).baseInfoBlock.showPrice,r=e.showActivityBanner;return o.value&&!r&&!n},isShowOriginPrice:function(t,e){var n=e.showOriginPrice,i=e.showActivityBanner,o=t.isFastBuy;return n.price&&!i&&!o},goodsSubTitle:function(t,e){return e.isPeriodbuy?e.periodbuyActivity.description||"":t.goods.sellPoint||""},goodsTag:function(t,e){return Object(r.i)(t,"goods.isHaitao",!1)?"https://img.yzcdn.cn/public_files/dc48da81df83c4e8c21db9a129a4f509.png":e.isPeriodbuy?"https://img.yzcdn.cn/public_files/46732672ae85491670faaa3da111dd4d.png":""},goodsRetailTag:function(){return"https://img.yzcdn.cn/public_files/2019/08/19/a4db0d30f3814d2d2117c91e5a6e2958.png"},baseInfoBarTag:function(t,e){var n=e.isPresale?"预售":"";return e.isTimelimitedDiscount&&(n=e.timelimitedDiscountActivity.priceTitle||"限时折扣"),n},goodsPriceTag:function(t,e){if(e.isTimelimitedDiscount){if(e.isTimelimitedDiscountNotStart)return"";var n=e.timelimitedDiscountActivity;return n.priceTitle?n.priceTitle:"限时折扣"}return e.discountActivity?e.discountActivity.title:""},isVipTag:function(t,e){var n=e.discountActivity;return"customerDiscount"===n.type&&n.title},goodsHaitaoTax:function(t){var e=Object(r.i)(t,"goodsActivity.haitao",null);if(e){var n=e.tariffAmount;if(1===e.tariffRule)return"";if(n)return"进口关税 预计 "+n}return""},goodsHaitaoCountry:function(t){return Object(r.i)(t,"goodsActivity.haitao",{}).sourceCountryName||""},showShareIcon:function(t){return!Object(Ot.b)()&&!!t.saas.baseInfoBlock.showShareIcon.value},showOriginPrice:function(t,e){var n=t.goods,i=n.price,o=n.oldPrice,r=n.origin;if(e.isPeriodbuy)return{label:"",price:""};if(e.isDepositPresale)return{label:"总价",price:"￥"+i};if(o&&o!==i)return{label:"价格",price:"￥"+o};var a=r||"";return/^\s*\d+(\.\d{1,2})?\s*$/.test(a)?{label:"价格",price:"￥"+a.trim()}:{label:"",price:a}},recommendedPriceModel:function(t){var e=Object(r.i)(t,"orderActivity.discountInvite",null),n=Object(r.i)(t,"orderActivity.discount",null);return e?e.recommendedPriceModel||{}:n&&n.recommendedPriceModel||{}},showGuaranteeBar:function(t){return t.guarantee.on&&t.saas.baseInfoBlock.showGuaranteeBar.value},customerDiscountText:function(t,e){var n=e.recommendedPriceModel,i=n.recommendedBenefitNum,o=n.recommendedMax,a=n.recommendedMin,s=n.cardName,c=t.originActivitySku,u=c.isAllVipPriceAdvantage,l=c.maxVipSavedPrice,d=c.minVipSavedPrice,p=c.noneSku,f=c.price,h=c.oldPrice;if(void 0===i)return{mainText:"会员价: ￥"+e.recommendPrice,actionText:"成为会员"};var m=s+"原价再减";return p&&a===o&&a<f?{mainText:m+"￥"+Object(r.v)(h-a),actionText:"立即省钱"}:u?l===d?{mainText:m+"￥"+Object(r.v)(l),actionText:"立即省钱"}:{mainText:m+"￥"+Object(r.v)(d)+" - "+Object(r.v)(l),actionText:"立即省钱"}:0==+i?"":{mainText:(s||"会员")+"可享"+(i||"几")+"大权益",actionText:"立即尊享"}},recommendPrice:function(t,e){var n=e.recommendedPriceModel,i=n.recommendedMax,o=n.recommendedMin,r=(o/100).toFixed(2),a=(i/100).toFixed(2);return o===i?r:r+" - "+a},isShowSkuNav:function(t,e){return t.goods.isDisplaySkuPicture},mainGoodsPic:function(t,e){var n=e.goodsPictures;return n.length>0?n[0]:{}},isShowBrandTitle:function(t){var e=t.goods;return e.brandInfoModel&&e.brandInfoModel.authorizationMark},guaranteeDesc:function(t){var e=t.guarantee,n=void 0===e?{}:e;return n.on&&n.style!==Pr.g.WHITE&&n.style!==Pr.g.GREEN?(n.desc||[]).sort((function(t,e){return t.sort-e.sort})).slice(0,5).map((function(t){return t.desc})).join(" · "):""}},actions:{doFansBenefitFollow:function(t){var e=this,n=t.state,i=t.commit,o=t.dispatch;return n.benefitFollowInfo?(i("fetchBenefitWeixinImgSuccess",n.benefitFollowInfo),Promise.resolve()):o("checkIsNeedLogin").then((function(t){if(t&&!n.env.redirectLoginByPlatform)return o("doPageLogin"),Promise.reject();var a=Object(r.i)(n,"orderActivity.fansBenefit",{}),s=a.activityAlias,c=a.description,u=a.preferentialType,l=n.shop,d=l.kdtId,p=l.name,f=n.goods,h=f.alias,m=f.title;return e.ajaxing=!0,kt.a.get({url:"/wscgoods/detail-api/fans-benefit-qrcode.json",data:{activityAlias:s,activityDesc:c,goodsAlias:h,goodsName:m,kdtId:d,preferentialType:u,shopName:p}}).then((function(t){return i("fetchBenefitWeixinImgSuccess",t),Promise.resolve()}))}))}},mutations:{updateCurrentSkuNavIndex:function(t,e){t.currentSkuNavIndex=e}}});function Xa(t){return{got:t.disabled,hasShowcase:!1,headValue:t.valueCopywriting,unit:t.unitCopywriting,condition:t.useThresholdCopywriting,extraCondition:t.upperLimitCopywriting,title:t.title,valid:t.validTimeCopywriting,key:"",id:t.id,actionText:t.disabled?"已领取":"立即领取",tag:"",disabled:t.disabled}}var ts={state:{promotion:{showAllOptimalCoupon:!1}},getters:{goodsPromotion:function(t){var e=t.orderPromotion||[],n=["meetReduce","present","postage","cashBack","cashbackPro","bale","plusBuy","supplierMeetReduce","secondHalfDiscount"],i=e.filter((function(t){return n.indexOf(t.key)>=0}));return i},goodsPromotionList:function(t,e){var n=t.umpCouponList,i=void 0===n?[]:n,o=e.goodsPromotion,a=[].concat(o)||[],s=i.slice(0,3);if(i.length>=3){var c=s.reduce((function(t,e){return t+e.useThresholdAndValueCopywriting}),"");Object(r.k)(c)>=32&&(s=s.slice(0,2))}if(i.length&&e.showGoodsCoupon&&a.unshift({key:"umpCouponList",title:"领券",couponList:s}),a.length){var u=a.slice(0,3);return u.forEach((function(t){if(void 0===t&&(t={}),"present"===t.key){var e=t.presentOutList,n=void 0===e?[]:e;n.forEach((function(t,e){void 0===t&&(t={});var i=t.presentSuffix,o=void 0===i?"":i;t.formatedItemSuffix=function(t,e,n){var i="";return t&&(i+=t),e<n-1&&(i+=";"),i}(o,e,n.length)}))}})),u}return a},formatedGoodsPromotion:function(t,e){var n=e.goodsPromotion;return(void 0===n?[]:n).map((function(t){var e=t.key,n=void 0===e?"":e,i=t.title,o=void 0===i?"":i,r=t.desc,a=void 0===r?"":r,s=t.endAt,c=void 0===s?"":s,u=t.startAt,l=void 0===u?"":u,d=t.goodsList,p=void 0===d?[]:d,f="";if(l&&c)try{c=Lo()(c.replace(/[-.]/g,"/"),"YYYY.MM.DD"),f=(l=Lo()(l.replace(/[-.]/g,"/"),"YYYY.MM.DD"))+"-"+c}catch(t){console.log("formatDate:",t)}var h=o||"",m=o||"",g=null,v=!1;if("cashbackPro"===n){var y=t.cashbackEnd;h="random"===t.cashbackMethod?"最高返"+y+"%":"返"+y+"%",g="showCashBackRule",v=!0}else if("present"===n){var b=t.presentOutList;a="",(void 0===b?[]:b).forEach((function(t){var e=t.presentPrefix,n=t.presentSuffix,i=t.presentNum,o=void 0===i?1:i,r=t.goodsModels,s="";(void 0===r?[]:r).forEach((function(t){var e=t.title;s+="送"+o+"件"+(void 0===e?"":e),s+=n?"、":";"})),a+=""+e+s+n||""})),v=!0}else/secondHalfDiscount|bale|plusBuy|postage/i.test(n)&&(m="",v=!0);return{disabled:!1,hasShowcase:!1,headValue:h,condition:"",title:a,valid:f,type:n,actionText:"",tag:m,eventName:g,hasExtraDesc:v,goodsList:p.slice(0,3)}}))},showGoodsPromotion:function(t,e){var n=t.goods,i=t.orderPromotionLimit,o=e.goodsPromotionList;return!n.isOutlink&&(!!i||o&&o.length>0)},packageBuy:function(t){var e=t.orderPromotion,n=(void 0===e?[]:e).filter((function(t){return"packageBuy"===t.key}));if(n.length){var i={url:"",goodsList:[]};return n.forEach((function(t){i.url=t.url,i.goodsList.push(t.goodsModel)})),i}return null},showGoodsStock:function(t,e){var n=t.goods,i=e.isMultiStoreSoldout;return n.stockNum>0&&!n.hideStock&&!e.customStock&&!n.isHotel&&!i},stockNum:function(t){return t.goods.stockNum},goodsSoldNumText:function(t){var e=t.goods.soldNum,n=void 0===e?0:e;return n>99999?"10万+":n},showCountry:function(t){var e=Object(r.i)(t,"distribution.deliveryAddress",{}),n=e.cityName,i=void 0===n?"":n,o=e.provinceName,a=void 0===o?"":o;return i||a||(i=Object(r.i)(t,"shop.city"),a=Object(r.i)(t,"shop.province")),a===i?a:""+a+i},showPostage:function(t,e){var n=t.goods,i=e.isMultiStoreSoldout;return e.showPostageText&&!n.isHotel&&!i},showPostageText:function(t){return Object(r.i)(t,"distribution.postage","")},showDeliveryBar:function(t){return!t.goods.isOutlink},showGoodsCoupon:function(t,e){if(e.isHelpDepositPresale)return!1;if(e.isSupportFCodeBuy)return!1;if(t.goods.isVirtualCoupon)return!1;var n=t.umpCouponList;return!(!n||!n.length)&&!t.goods.isOutlink},cashBackRuleStr:function(t){var e=Object(r.i)(t,"orderActivity.cashBack",{}),n=e.type,i=e.limit,o=e.startTime,a=e.endTime,s="";e.maxCashBack&&(s=o+"至"+a+"期间，在本店"+(1===i?"首":"前"+i)+"笔订单支付成功，"+("fixed"===n?"可获得":"可随机获得")+"返现；");return s},isCashbackPro:function(t){return!!Object(r.i)(t,"orderActivity.cashbackPro",null)},isCashbackProStoredValue:function(t,e){return e.isCashbackPro?"storedValue"===t.orderActivity.cashbackPro.cashbackType:null},cashbackPro:function(t,e){return e.isCashbackPro?t.orderActivity.cashbackPro:null},cashBackProRuleStr:function(t,e){if(!e.isCashbackPro)return"";var n=t.orderActivity.cashbackPro,i=n.startTime,o=n.endTime,r=n.cashbackStart,a=n.cashbackEnd,s=r===a?r+"%":r+"%-"+a+"%",c="random"===n.cashbackMethod?"随机":"";return i+" 至 "+o+" 期间，"+e.getCashbackProPopupDesc+"可"+c+"获得订单实付金额"+s+"的"+e.cashBackTypeTitle+"，运费不参与计算"},getCashbackProPopupDesc:function(t,e){if(!e.isCashbackPro)return"";var n=t.orderActivity.cashbackPro,i=n.limitType,o=n.cashbackLimit,r=n.activityLimit,a="";switch(i){case"mix":a="所有在本店支付的订单中前"+r+"笔订单，同时也是你在本店支付的前"+o+"笔订单，";break;case"buyer":a="你在本店支付的前"+o+"笔订单，";break;case"none":default:a="在本店支付"}return a},cashBackTypeTitle:function(t,e){return e.isCashbackPro?e.isCashbackProStoredValue?"储值金返还":"返现":""},cashBackProPopUpTitle:function(t,e){return e.isCashbackPro&&e.isCashbackProStoredValue?"返储值金说明":"返现说明"},deliveryBarText:function(t,e){var n=e.deliveryList,i=n.length;return 1===i&&"同城配送"===n[0].tag?""+n[0].detail:e.deliveryList.reduce((function(t,e,n){return t+(n===i-1?e.tag:e.tag+"、")}),"")},showSoldNum:function(t,e){var n=t.goods,i=Object(r.i)(t,"shopConfig.goodsDetailSales",null),o=Object(r.i)(t,"shopConfig.showBuyRecord",null),a=n.soldNum,s=void 0===a?0:a;if(e.isPeriodbuy)return!1;var c=o?{show:1,limit:!1}:{show:0,limit:!1};if(i)try{c=JSON.parse(i)||c}catch(t){}if(!c)return s>0;var u=c,l=u.show,d=void 0===l?0:l,p=u.limit,f=void 0!==p&&p,h=u.limit_num;return 0!=+d&&(f?s>=(void 0===h?0:h):s>0)},optimalPreferentialPrice:function(t,e){var n=e.preferentialPrice.match(/￥\d+(\.\d+)?.*/g);return n?n[0]:""},optimalCouponShowList:function(t,e){if(!e.showGoodsCoupon||!e.hasCouponActivity)return[];var n=t.promotion||{},i=t.optimalCouponList||[];return!e.umpCouponShowList.length||n.showAllOptimalCoupon?i.map(Xa):i.slice(0,1).map(Xa)},umpCouponShowList:function(t,e){if(!e.showGoodsCoupon)return[];if(e.hasCouponActivity){var n=t.optimalCouponList.reduce((function(t,e){return t[e.id]=!0,t}),{});return t.umpCouponList.filter((function(t){return!n[t.id]})).slice(0,20).map(Xa)}return t.umpCouponList.slice(0,20).map(Xa)},showOptimalCouponMoreBtn:function(t,e){var n=Object(r.i)(t,"promotion",{});return(t.optimalCouponList||[]).length>1&&(e.umpCouponShowList.length&&!n.showAllOptimalCoupon)}},actions:{handlePromotionCoupon:function(t){var e=t.commit;t.dispatch;e("toggleCouponPopUp"),e("setOptimalCouponDisplay",{showAll:!1})},showMoreOptimalCoupon:function(t){(0,t.commit)("setOptimalCouponDisplay",{showAll:!0})},handleGetCoupon:function(t,e){var n=t.commit,i=t.getters;Object(Fa.b)({scene:Pr.a.GET_COUPON,platformCallback:{method:"dispatch",args:["handleGetCoupon",e]}}).then((function(t){t.hasLogin&&n("updateUserLoginStatus",!0);var o={activityId:e.id,kdtId:i.kdtId,source:"goods_details_"+(e.type===Pr.e.OPTIMAL?"rcmd_take":"take"),requestId:e.id+"-"+(new Date).getTime()};St.default.loading({message:"领取中...",forbidClick:!0}),kt.a.get({url:"/wscgoods/getCoupon.json",data:o}).then((function(){n("setCouponDisabled",e),St.default.success("恭喜你抢到了")})).catch((function(t){void 0===t&&(t=""),St.default.fail(t||"领取失败")}))}))},getUserCenterTitle:function(t){var e=t.state,n=t.commit,i=e.shop,o=void 0===i?{}:i;kt.a.get({url:"https://h5.youzan.com/wscuser/membercenter/getUserCenterConfig.json",data:{kdtId:o.kdtId,platform:1}}).then((function(t){void 0===t&&(t={});var e=t.title;e&&n("updateUserCenterTitle",e)})).catch((function(){}))}},mutations:{toggleCouponPopUp:function(t){t.displayPop.showCouponPopUp=!t.displayPop.showCouponPopUp},setOptimalCouponDisplay:function(t,e){t.promotion.showAllOptimalCoupon=e.showAll},updateUserCenterTitle:function(t,e){t.userCenterTitle=e}}},es={getters:{showActivityBlock:function(t,e){return!(!e.isDepositPresale||e.isDepositPresaleOver)},activityRules:function(){return{label:"",rules:[]}}}};n("0oug"),n("pjDv"),n("pDQq"),n("JfAA");function ns(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return is(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return is(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function is(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var os={getters:{deliveryList:function(t,e){var n=t.distribution.supportSelfFetch,i=e.expressFeeStr,o=e.localDeliveryFeeStr,r=[];return i&&r.push({key:"express",tag:"快递发货",desc:"支持快递发货，本商品"+i+"。"}),n&&r.push({key:"selfetch",tag:"到店自提",desc:"可选择就近自提点并预约提货时间。"}),o&&r.push({key:"localdelivery",tag:"同城配送",desc:"可选择同城配送并预约送达时间"+o+"。"}),r},serviceDescList:function(t,e){var n=t.env,i=n.platform,o=n.isNewHopeKdt,a=t.shopConfig,s=a.hasPhysicalStore,c=a.isSecuredTransactions,u=a.supportFreightInsurance,l=t.supplier,d=void 0===l?{}:l,p=t.payWays.cashOnDelivery,f=t.refund.isSupport,h=t.goods,m=h.isHaitao,g=h.barterModel,v=h.supportUnconditionalReturn,y=h.supportQuickRefund,b=t.goodsActivity.haitao,_=[];if(u&&_.push({tag:"退货包运费",key:"freightInsurance",desc:Pr.d.freightInsurance}),y&&_.push({tag:"极速退款",key:"supportQuickRefund",descList:Pr.d.supportQuickRefund,url:"https://www.youzan.com/intro/rule/detail?alias=p8otbwpf&pageType=rules",noArrow:!0,sort:u?2:1}),p&&_.push({tag:"货到付款",key:"cashOnDelivery",desc:Pr.d.cashOnDelivery}),c?"kuaishou"===i?_.push({tag:"收货后结算",key:"isSecuredTransactionsKuaishou",desc:Pr.d.isSecuredTransactionsKuaishou}):_.push({tag:"收货后结算",key:"isSecuredTransactions",desc:Pr.d.isSecuredTransactions}):(_.push({tag:"货款直接给商家",key:"weixinPayOriginMoney",desc:Pr.d.weixinPayOriginMoney}),_.push({tag:"店铺负责发货&售后",key:"weixinPayOriginAftersale",desc:Pr.d.weixinPayOriginAftersale})),f||_.push({tag:"不支持申请退款",key:"unsupportRefund",desc:Pr.d.unsupportRefund}),d.mode===Pr.f.PROMOTION&&_.push({tag:"合作商直销",key:"supplierDirect",desc:Pr.d.supplierDirect,url:Object(r.c)("/wscassets/shopinfo?kdt_id="+d.kdtId+"&show=supplier&no_footer=1&no_btn=1","h5",d.kdtId)}),m&&b){_.push({tag:"不支持7天无理由退货",key:"haitaoUnsupportRefund",desc:Pr.d.haitaoUnsupportRefund}),0===b.tariffRule?_.push({tag:"单独计税",key:"haitaoTaxExtraPays",desc:Pr.d.haitaoTaxExtraPays}):_.push({tag:"商品含税",key:"haitaoTaxContains",desc:Pr.d.haitaoTaxContains});var k=Pr.h[b.haiTaoTradeMode];k&&_.push({key:b.haiTaoTradeMode,tag:k.modeStr,desc:k.modeDesc})}s&&!o&&_.push({tag:"线下门店",key:"physicalStore",desc:Pr.d.physicalStore}),v&&_.push({tag:"7天无理由退货",key:"supportUnconditionalReturn",descList:Pr.d.supportUnconditionalReturn,url:"https://www.youzan.com/intro/rule/detail?alias=13xbozjlt&pageType=rules",noArrow:!0,sort:3}),g&&1===g.isSupportBarter&&!t.isFastBuy&&_.push({tag:"支持退换",key:"supportBarter",desc:Pr.d.supportBarter,sort:v?4:3});var w=[];return _.reduce((function(t,e){return void 0!==e.sort?t.push(e):w.push(e),t}),[]).sort((function(t,e){return t.sort-e.sort})).forEach((function(t){if(w.length<t.sort)return w.push(t);w.splice(t.sort-1,0,t)})),[].concat(w,e.deliveryList)},serviceDescListKeys:function(t,e){var n=e.serviceDescList;return(void 0===n?[]:n).filter((function(t){return t.key})).map((function(t){return t.key}))},expressFeeStr:function(t){var e=t.distribution,n=e.supportExpress,i=e.expressFee;return n?"免运费"===i?i:"运费："+i:""},localDeliveryFeeStr:function(t){var e=t.distribution,n=e.supportLocalDelivery,i=e.localDeliveryFee;return n&&i?"，本商品运费："+i:""},serviceBarTitle:function(t,e){var n=e.serviceDescList;return n.length>3&&(n=n.slice(0,3)),n.map((function(t){return t.tag})).join(" · ")},showServiceBar:function(t,e){return t.saas.groupBlock.showServiceBar.value&&!t.goods.isOutlink&&e.serviceDescList.length>0&&!t.isNorthAmerica},showCategoryBar:function(t,e){return!t.goods.isOutlink&&e.categoryBarTitle},categoryBarTitle:function(t){return Object(r.i)(t,"property.keys",[]).join(" . ")},categoryBarValue:function(t){return Object(r.i)(t,"property.values",[])},showSkuBar:function(t,e){var n=t.env.hideGoodsBottom,i=t.skuExtraData.showSkuBar,o=e.isPriceCalendar;return e.isPeriodbuy?!Object(r.i)(t,"display.showForbidBuyBtn")&&!e.saleRemainTime:!n&&(i||o)},isSkuBarDisabled:function(t,e){return!!t.shopConfig.isCloseBusiness},skuBarInfo:function(t){var e=t.skuManager.infos,n=e.selected,i=void 0===n?[]:n,o=e.unselected,r=void 0===o?[]:o,a=i.length>0;return{isAnySelected:a,isAllSelected:0===r.length,showText:a?i.join(Pr.q):r.join(Pr.q)}},priceBarList:function(t){var e=t.priceCalendarData,n=t.skuExtraData,i=e[e.activeSkuId],o=n.selectedSkuDate[0];if(!i||!o)return e.priceBarList.map((function(t){return t.selected=!1,t.stockDate===o&&(t.selected=!0),Object.assign({},t)}));for(var r,a=i.monthDataList,s=void 0===a?[]:a,c=new Date(o),u=c.getDate(),l=[],d=ns(s);!(r=d()).done;){var p=r.value,f=p.year,h=p.month,m=p.days,g=new Date(c);if(g.setFullYear(f),g.setMonth(h-1),g.setDate(u),g>=c)for(var v,y=ns(m);!(v=y()).done;){var b=v.value;if(g.setDate(b.date),b.isEnable&&g>=c&&l.push(Object.assign({},b,{selected:o===b.stockDate,price:b.footer,day:h+"-"+(b.date>9?b.date:"0"+b.date)})),l.length>=4)return l}}return l}}},rs=n("e6af"),as=n.n(rs),ss="view",cs="click";function us(t,e){return"g."+t+"~contentguide~"+(e+1)+"~"+Object(r.p)(8)}var ls={getters:{noteList:function(t){var e=t.goodsExtendInfo.SHOP_NOTE;return e?e.list:[]},goodsId:function(t){return t.goods.id},showShopNote:function(t,e){return e.noteList.length>0},shopNoteBlockTitle:function(t,e){return(e.noteList[0]||{}).globalTitle||"店铺笔记"}},actions:{onItemClick:function(t,e){var n=t.dispatch,i=t.getters;n("reportClick",e);var o=i.noteList[e];if(o.noteAlias){var a=as.a.site("wscshop/shopnote/detail","h5"),s=In.a.add(a,{sourceFrom:"goods",banner_id:us(i.goodsId,e),noteAlias:o.noteAlias,abTraceId:Object(r.i)(i.shopNoteABTest,"abTraceId","")});Object(Ma.h)(s)}},initReportView:function(t){var e=t.getters,n=t.dispatch,i=e.noteList.map((function(t,e){return n("reportView",e)}));Promise.all(i).catch((function(){}))},reportView:function(t,e){(0,t.dispatch)("reportLogger",{type:ss,name:"组件曝光",index:e})},reportClick:function(t,e){(0,t.dispatch)("reportLogger",{type:cs,name:"组件点击",index:e})},reportLogger:function(t,e){var n=t.getters,i=e.type,o=e.name,r=e.index;Object(yt.b)({et:i,ei:i,en:o,params:{banner_id:us(n.goodsId,r),component:"contentguide"}})}}},ds={getters:{shopLink:function(t,e){var n=t.multistore.id,i=void 0===n?0:n,o=e.kdtId,a=Object(r.c)(r.b.add("/wscshop/showcase/homepage",{kdt_id:o,oid:i}),"h5",o);return Object(r.l)(a)},shopGoodsLink:function(t,e){var n=t.multistore.id,i=void 0===n?0:n,o=e.kdtId,a=Object(r.c)(r.b.add("/wscshop/feature/goods/all",{kdt_id:o,oid:i}),"h5",o);return Object(r.l)(a)},shopInfoLink:function(t,e){var n=e.kdtId,i=Object(r.c)(r.b.add("wscassets/shopinfo",{kdt_id:n}),"h5",n);return Object(r.l)(i)},shopName:function(t){var e=t.multistore,n=e.name;return e.hideStore?t.shop.name:n||t.shop.name},shopTags:function(t){return[]},shopOfficialTag:function(t){var e=t.shopConfig.principalCertType,n=void 0===e?0:e;return 2===n||5===n},shopBrandTag:function(t){var e=t.shopConfig.brandCertType,n=void 0===e?0:e;return-1!==[Pr.c.FLAGSHIP,Pr.c.EXCLUSIVE,Pr.c.BOUTIQUE,Pr.c.SHOPPING,Pr.c.CHAIN].indexOf(n)},shopMpAccount:function(t,e){return!!t.saas.baseInfoBlock.showFollowShopIcon.value&&(Object(r.i)(t,"mpData.account.id",0)&&!Ma.f&&!Ma.g)},shopAddress:function(t){var e=(window._global.offlineData||{}).id,n=t.multistore,i=n.distance,o=n.address,a="";return n.hideStore||!e?"":(i&&(a=Object(r.f)(i)),o&&(a+=" "+o),a)},showMultiStoreInfo:function(t){var e=t.env.isNewHopeKdt,n=t.shopConfig.hasPhysicalStore,i=t.multistore,o=i.id,r=i.openMultiStoreSwitch,a=i.hideStore;return!!t.saas.shopBlock.showMultiStoreInfo.value&&(o?!a&&r:n&&!e)},showAddressContent:function(t,e){return e.retailAddressContent&&e.retailAddressContent.length>0},multiStoreName:function(t,e){return t.multistore.id&&!e.showAddressContent?"其他分店":"线下门店"},multiStoreLink:function(t,e){var n=t.multistore.id,i=e.kdtId,o=e.showAddressContent;return n&&!o?Object(r.c)("/wscump/multistore/index?kdt_id="+i,"h5",i):Object(r.c)("/wscump/physicalstore/index?kdt_id="+i,"h5",i)},showOldShopBadge:function(t){var e=t.shopConfig,n=e.shopOperateDurationTagSwitch,i=void 0===n?0:n,o=e.shopOperateDurationYears,r=void 0===o?0:o,a=t.saas.shopBlock.showOldShopBadge;return a.value&&r>0&&1==+i},oldShopYears:function(t){var e=t.shopConfig.shopOperateDurationYears,n=void 0===e?0:e;return n&&n>=20&&(n=20),n}}},ps={goodsDetailTabs:function(t,e){var n=t.goodsDetail,i=e.fastGoodsDetailUrl,o=e.fastTradeRecordsUrl,r=e.showBuyRecordListStyle,a=[];return a.push({type:"goods",desc:0===n.tplStyle?"商品详情":"查看商品详情",url:i}),r&&a.push({type:"sales",desc:"成交记录",url:o}),a},activeDetailTabIndex:function(t,e){for(var n=t.goodsDetail.defaultType,i=e.goodsDetailTabs,o=0,r=0,a=i.length;r<a;r++)if(i[r].type===n){o=r;break}return o},fastGoodsDetailUrl:function(t,e){var n=t.url.wap,i=e.alias;return Object(r.c)(n+"/showcase/goodsfast?alias="+i+"&detail_type=goods","wap",e.kdtId)},fastTradeRecordsUrl:function(t,e){return t.url.wap+"/showcase/goodsfast?alias="+e.alias+"&detail_type=sales"},isShowBrandImage:function(t){var e=t.goods.brandInfoModel;return e&&e.brandAuthenticationImgs&&e.brandAuthenticationImgs.length}},fs=n("zLVn");var hs={state:{},getters:ps,actions:{getTradeRecords:function(t){var e=t.state,n=t.commit,i=e.tradeRecords,o=i.page,a=i.loading,s=i.finished;if(!a&&!s){var c=Object(r.i)(e,"shop.rootKdtId",""),u=Object(r.i)(e,"goods.id","");n("getTradeRecords"),kt.a.get({url:"/wscgoods/getItemTransactionRecords.json",data:{goodsId:u,page:o,perpage:10,rootKdtId:c}}).then((function(t){n("getTradeRecordsSuccess",t)})).catch((function(t){n("getTradeRecordsFail"),Object(St.default)(t.msg||"成交记录获取失败")}))}}},mutations:{getTradeRecords:function(t){t.tradeRecords.loading=!0},getTradeRecordsSuccess:function(t,e){var n,i=t.tradeRecords,o=i.list,a=i.page,s=Object(fs.a)(i,["list","page"]),c=[].concat(o,(void 0===(n=e.list)&&(n=[]),n.map((function(t){return{nickname:t.buyerName||"**",item_num:t.num,update_time:Object(r.e)(t.payTime,"MM-DD HH:mm:ss")}}))));t.tradeRecords=Object.assign({},s,{list:c,page:a+1,loading:!1,finished:e.totalItems<=c.length})},getTradeRecordsFail:function(t){t.tradeRecords.loading=!1}}},ms={goods_from:"0",image_ratio:1,layout:1,size_type:0,show_buy_button:!1,buy_button_type:1,buy_btn_express:!1,show_title:!0,show_sub_title:!1,show_price:!0,show_corner_mark:!1,corner_mark_type:0,corner_mark_image:"",default_image_url:"",page_margin:16,image_fill_style:2,type:"goods"},gs={state:{recommendGoods:{list:[],page:1,hasBarBlock:!1,loading:!1,finished:!1}},getters:{showNoStockRecommendGoods:function(t,e){return!(1!==t.goods.isDisplay||e.showAvailableStores||t.goods.isOutlink||t.goods.stockNum||e.isSupportFCodeBuy)},hasRecommendGoods:function(t,e){return e.recommendGoodsData.goods.length>0},recommendGoodsData:function(t){var e=Object(r.i)(t,"recommendGoods.list",[]);return Object.assign({},ms,{goods:e})}},actions:{getRecommendGoods:function(){},hideRecommendBottom:function(t){var e=t.dispatch;(0,t.commit)("toggleGoodsShow",!1),e("toggleGoodsMask",!1)},toggleGoodsShow:function(t){var e=t.state;(0,t.commit)("toggleGoodsShow",!e.display.showBottomRecommendGoods)}},mutations:{getRecommendGoods:function(t){t.recommendGoods.loading=!0},getRecommendGoodsSuccess:function(t,e){t.recommendGoods=Object.assign({},t.recommendGoods,{page:++t.recommendGoods.page,loading:!1,finished:0===e.length,list:[].concat(t.recommendGoods.list,e)})},getRecommendGoodsFail:function(t){t.recommendGoods.loading=!1},hasBarStyleRecommendGoods:function(t){t.recommendGoods.hasBarBlock=!0}}},vs={shopRisk:function(t){return t.goods.risk||{match:!1,note:""}},isSupportFCodeBuy:function(t,e){var n=t.goods,i=n.isSupportFCode,o=n.stockNum,r=t.display.showForbidBuyBtn;return!e.isTimelimitedDiscount&&(i&&r&&0===o)},goodsBottomDisabledTip:function(t){var e=t.display.forbidBuyReason,n=void 0===e?"":e,i=t.goods,o=i.stockNum,r=void 0===o?0:o,a=i.isDisplay;return 1!==(void 0===a?1:a)?{text:"商品下架啦",url:""}:r?{text:n,url:""}:{text:"",url:""}},goodsBottomBarTip:function(t,e){return e.goodsBottomDisabledTip},miniBtnsConfig:function(t,e){var n=t.goods.pointsName,i=void 0===n?"积分":n;return{im:{text:e.bottomImBtnTxt,icon:"chat-o",type:"im",className:"js-im-icon"},shop:{text:"店铺",icon:"shop-o",type:"shop",url:e.homepageUrl},share:{text:"推广",icon:"share",type:"share"},cart:{text:e.cartText,icon:"shopping-cart-o",type:"cart",info:t.cartInfo.count||"",url:e.cartUrl},gift:{text:"送人",icon:"gift-o",type:"gift"},point:{text:i,icon:"points",type:"point"},more:{text:"更多",icon:"more-o",type:"more"},activity:{text:"进活动",icon:"point-gift-o",type:"activity",url:e.activityUrl}}},miniBtnsMap:function(t){if(Object.keys(t.miniButtons).length)return t.miniButtons;var e=t.display,n=e.showGiftBtn,i=e.showMiniShopBtn,o=e.showMiniCartBtn,r=e.showMiniPointsBtn,a=e.showShareBtn,s=e.showImBtn,c=e.showForbidBuyBtn,u=e.showMiniActivityButton;return{im:s&&!t.isNorthAmerica,shop:i,cart:o,share:a&&!c,gift:n&&!c,point:r&&!c,activity:u}},plusBtnConfig:function(t,e){var n=e.bigButtonsData,i=e.totalMiniButtons,o=n.length,r=i.length;return 2===o&&r>3?{maxMiniCount:3,showMoreBtn:!0}:1===o&&r>4?{maxMiniCount:4,showMoreBtn:!0}:{maxMiniCount:8,showMoreBtn:!1}},totalMiniButtons:function(t,e){var n=e.miniBtnsMap;return t.goods.isOutlink?[]:Object.keys(n).filter((function(t){return n[t]}))},miniButtons:function(t,e){var n=e.totalMiniButtons,i=e.plusBtnConfig,o=i.showMoreBtn,r=i.maxMiniCount;if(o){var a=n.slice(0,r-1);return a.push("more"),a}return n},plusButtons:function(t,e){var n=e.totalMiniButtons,i=e.plusBtnConfig,o=i.showMoreBtn,r=i.maxMiniCount;return o?n.slice(r-1):[]},miniButtonsData:function(t,e){var n=e.miniButtons,i=e.miniBtnsConfig;return n.map((function(t){return i[t]}))},plusButtonsData:function(t,e){var n=e.plusButtons,i=e.miniBtnsConfig;return n.map((function(t){return i[t]}))},disabledBigButton:function(t,e){var n=t.goods,i=n.isOutlink,o=n.isDisplay,r=n.stockNum,a=t.buyConfig.buyLimitType,s=void 0===a?0:a,c=t.display.showForbidBuyBtn,u=e.homepageUrl,l=e.isSupportFCodeBuy;return!t.fetchSuccess&&r>0?{forbid:!0,text:"立即抢购",primary:!0}:c||l?{forbid:!0,text:l?"F码购买":"查看店铺其他商品",url:l?"//h5.youzan.com/wscump/fcode/detail":u,primary:!0,skuScene:Pr.n.FORBID}:1!==o?{forbid:!0,text:"下架啦，看看其他商品吧！",url:u,primary:!0,skuScene:Pr.n.FORBID}:i?{forbid:!0,text:"商品已下架，去看看其他商品吧",url:u,primary:!0,disabled:!0,skuScene:Pr.n.FORBID}:2===s?{forbid:!0,text:"仅限特定会员购买",disabled:!0,skuScene:Pr.n.FORBID}:3===s?{forbid:!0,text:"已达最大限购数量",disabled:!0,skuScene:Pr.n.FORBID}:r<=0?{forbid:!0,text:"已售罄，看看其他商品吧",url:u,primary:!0,skuScene:Pr.n.FORBID}:null},normalBuyBigButton:function(t,e){var n=t.display,i=t.goods,o=t.shopConfig,r=t.env,a=void 0===r?{}:r,s=[];if((n.showCartBtn||e.isPeriodbuy&&a.isNewHopeKdt)&&s.push({text:"加入"+e.cartText,skuScene:Pr.n.ADD_CART,accountUnionScene:Pr.a.ADD_CART}),n.showPointsBtn&&e.isPointsExchange&&s.push({text:i.pointsName+"兑换",skuScene:Pr.n.POINTS_BUY,disabled:1===e.showPointsButtonStatus,accountUnionScene:Pr.a.POINTS_BUY}),n.showBuyBtn&&o.isShowBuyBtn||0===s.length){var c=Pr.n.NORMAL_BUY;n.showCartBtn||(c=Pr.n.SEL_SKU),e.discountActivity&&"goodsScan"===e.discountActivity.type&&(c=Pr.n.ACT_BUY),s.push({sub:e.preferentialPrice,text:e.bottomBuyBtnTxt,primary:!0,skuScene:c,accountUnionScene:Pr.a.NORMAL_BUY})}return s},commonBigButtons:function(t,e){var n=t.goodsActivity.waitToSold,i=t.display.showCartBtn;if(e.disabledBigButton)return[e.disabledBigButton];var o=[];return n?(i&&o.push({text:"加入"+e.cartText,skuScene:Pr.n.ADD_CART,accountUnionScene:Pr.a.ADD_CART}),e.isProductLaunch?o.push(e.productLaunchButtons):t.display.showSaleReminder&&o.push({primary:!0,skuScene:Pr.n.SALE_REMINDER,disabled:t.hasAddSaleReminder,text:t.hasAddSaleReminder?"已设置提醒":"开售提醒我"}),0===o.length&&o.push({forbid:!0,text:"即将开售",disabled:!0}),[].concat(o)):e.isHelpDepositPresale?[].concat(e.helpDepositPresaleButtons):e.isTimelimitedDiscount?[].concat(e.normalBuyBigButton):[].concat(o)},isBigButtonForbidBuy:function(t,e){var n=e.commonBigButtons;return n.length>0&&n[n.length-1].forbid},bigButtons:function(t,e){var n=e.commonBigButtons;return n.length>0?n:[]},bigButtonsData:function(t,e){if(e.isBigButtonForbidBuy)return e.commonBigButtons;var n=[].concat(e.bigButtons),i=e.isPresale,o=e.isDepositPresale,r=e.presaleDesc();if(i&&r){var a=null;return n.length>1?n:(1===n.length?(a=Object.assign({},n[0],{leftText:r.desc,leftSub:r.subDesc})).skuScene===Pr.n.SEL_SKU&&(a.skuScene=Pr.n.NORMAL_BUY):(a={leftText:r.desc,leftSub:r.subDesc,text:o?"支付定金":e.bottomBuyBtnTxt,primary:!0,skuScene:Pr.n.NORMAL_BUY,accountUnionScene:Pr.a.NORMAL_BUY},e.discountActivity&&"goodsScan"===e.discountActivity.type&&(a.skuScene=Pr.n.ACT_BUY)),[a])}return 0===n.length&&(n=[].concat(e.normalBuyBigButton)),1===n.length&&(n[0].primary=!0),n},bigButtonList:function(t,e){return e.bigButtonsData.slice(-2)},parsedWebImInGoodsConfig:function(t){var e=t.shopConfig.webImInGoodsConfig;return e?JSON.parse(e):{default:0,label:""}},bottomImBtnTxt:function(t,e){var n=e.parsedWebImInGoodsConfig,i=n.default,o=n.label;return 1==+i?void 0===o?"客服":o:"客服"},bottomBuyBtnTxt:function(t){var e=t.display,n=e.showDefaultBuyButtonText,i=e.buyButtonText;return n?"立即购买":void 0===i?"立即购买":i},isShowInSourcingFissionTip:function(){return!1}},ys=n("qnkP"),bs=n.n(ys),_s=n("pdpW");function ks(t,e){if(void 0===e&&(e={}),window.yzlogInstance){var n={im:{type:"consult",name:"点击咨询"},buy:{type:"buy",name:"立即购买"},addCart:{type:"add_cart",name:"添加购物车"},addWish:{type:"add_wish",name:"添加心愿单"},gift:{type:"gift",name:"送礼"}}[t];if(n){var i=e.goods,o=void 0===i?{}:i,r={et:"click",ei:n.type,en:n.name,params:{goods_alias:o.alias,goods_id:o.id,goods_name:o.title,group_ids:[],picture_url:o.picture,price:o.minPrice/100,show_price:o.price}};return window.yzlogInstance.log(r)}}}function ws(t){var e=(t.properties||[]).reduce((function(t,e){return(e.v||[]).forEach((function(e){t.push(e.id)})),t}),[]),n=Object.assign({goods_id:t.goodsId,num:t.num,sku_id:t.skuId,price:t.price||0,dc_ps:Object(r.d)("dc_ps")||"",qr:Object(r.d)("qr")||"",tpps:r.b.get("tp_ps")||"",fcode:r.b.get("f_code")||"",gdtClickId:sessionStorage.getItem("gdt-click-id")},t.messages,{isInstallment:t.isInstallment,propertyIds:e,isSevenDayUnconditionalReturn:t.isSevenDayUnconditionalReturn},Object(_s.a)()),i={kdt_id:t.kdtId,store_id:t.storeId||0,store_name:t.storeName||"",postage:t.postage||0,activity_alias:t.activityAlias||"",activity_id:t.activityId||0,activity_type:t.activityType||0,use_wxpay:t.useWxpay||0,from:r.b.get("from")||"",order_from:t.orderFrom||"",isPartialFastAdOrder:t.isPartialFastAdOrder,expressTypeChoice:t.expressTypeChoice,bosWorkFlow:t.bosWorkFlow};return t.isPoints&&(n.points_price=t.pointsPrice,n.price=t.price),t.fcode&&(n.fcode=t.fcode),"number"==typeof t.deliverTime&&(n.deliver_time=t.deliverTime),t.gdtClickId&&(n.gdt_id=t.gdtClickId),t.channelId&&(n.channel_id=t.channelId),t.scaleNum&&(i.ladder_num=t.scaleNum),t.hotelGoods&&(i.hotel_goods=t.hotelGoods),t.card_goods&&(i.card_goods=t.card_goods),t.selectedInstallmentPeriod&&(i.installmentRate=t.installmentRate,i.selectedInstallmentPeriod=t.selectedInstallmentPeriod),t.orderType?i.order_type=t.orderType:t.isGift&&(i.order_type=1),t.isPoints&&(i.is_points=t.isPoints),t.from&&(i.from=t.from),t.loginTicket&&(i.loginTicket=t.loginTicket),t.paymentSuccessRedirect&&(i.payment_success_redirect=t.paymentSuccessRedirect),t.isInSourcingFission&&(n.item_fission_tickets_num=t.needInSourcingCouponNum/t.num,i.fission_name=t.umpType,i.fission_ticket_num=t.needInSourcingCouponNum),t.paymentSuccessRedirect&&(i.payment_success_redirect=t.paymentSuccessRedirect),t.shopServiceKeys&&(i.shopServiceKeys=t.shopServiceKeys),t.expressFeeStr&&(i.expressFeeStr=t.expressFeeStr),t.localDeliveryFeeStr&&(i.localDeliveryFeeStr=t.localDeliveryFeeStr),{goodsData:n,commonData:i}}function Ss(t){var e=ws(t),n=e.goodsData,i=e.commonData,o=Object(On.invokeHook)("goods","afterFormatBuyData",n);return{goodsList:[Object.assign({},o)],common:i}}function Cs(t){var e=t.type,n=t.skuData,i=t.goods,o=i.title,a=i.alias,s=i.picture;r.a.doAction({action:e,num:n.num,sku_id:n.skuId,item_id:n.goodsId,pay_price:n.price,title:o,alias:a,picture:s})}function Ps(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n=t.messages,i={};return(void 0===n?[]:n).forEach((function(t,n){i[t.name]=e["message_"+n]||""})),i}function xs(t,e){To.StackTraceLogger.paasLog({appname:"jserror-wap",logIndex:"trade",name:"goodsBuyFailed",message:JSON.stringify({buyType:t,message:String(e)}),level:"info"})}var Os=window.YzPageLogger,Ts={getters:vs,actions:{onBtnClickLog:function(t,e){var n=t.getters,i=n.currentActivity,o=n.isDepositPresale;if(i&&(-1!==[Pr.n.ACT_BUY,Pr.n.START_CUT].indexOf(e.skuScene)||o)){var r={activityId:i.activityId,type:i.type,activityName:i.activityName};o&&(r.type="depositPresale"),Object(yt.b)({et:"click",ei:"activity_click",en:"活动按钮点击",params:r})}},submitImLog:function(t){var e=t.state,n=t.dispatch;if(!Object(On.askHook)("goods","hasHandledConcatIconClick")){var i=e.goods,o=void 0===i?{}:i,r=e.sku;ks("im",{goods:o,sku:void 0===r?{}:r}),n("handleIm")}},doAppShare:function(t){var e=t.state,n=e.goods,i=n.title,o=n.picture,a=e.env,s=a.isAndroid,c=a.isIOS,u=o;if(s)try{u=u.replace(/webp/,"jpg")}catch(t){}var l={action:"share",title:"推荐你看看这个",desc:i,link:window._global.share.link,imgs_url:[u]};c&&(l.imgs_url=u),r.a.doAction(l)},handleMiniButtonClick:function(t,e){var n=t.commit,i=t.dispatch;void 0===e&&(e={});var o=e,r=o.url,a=o.type;if(r){if(r.indexOf("wsctrade/cart")>-1)return void Object(yt.b)({et:"click",ei:"enter_cart",en:"进入购物车"}).then((function(){Object(Ma.h)(r)})).catch((function(){Object(Ma.h)(r)}));Object(Ma.h)(r)}switch(a){case"im":i("submitImLog");break;case"shop":r&&Object(Ma.h)(r);break;case"cart":break;case"share":i("doAppShare");break;case"gift":i("triggerSku",{skuScene:Pr.n.GIFT_BUY,accountUnionScene:Pr.a.NORMAL_BUY});break;case"point":i("triggerSku",{skuScene:Pr.n.POINTS_BUY,accountUnionScene:Pr.a.POINTS_BUY});break;case"more":n("showMoreMiniBtns");break;default:i("handleMiniButtonClickExtra")}},handleMiniButtonClickExtra:function(){},handleBigButtonClick:function(t,e){var n=t.dispatch,i=t.state,o=t.getters;if(void 0===e&&(e={}),o.forbidClickBtnReason)return n("showCommonToast",o.forbidClickBtnReason);if(e.disabled)e.skuScene===Pr.n.SALE_REMINDER&&Object(St.default)({message:"开售前将会发送公众号消息提醒你",position:"bottom"});else{if(e.url)return Object(Ma.h)(e.url),void(i.goods.isOutlink&&Os&&Os.log({et:"click",ei:"go_external_buy",en:"点击外链购买按钮",params:{url:e.url}}));if(!e.share){if(n("onBtnClickLog",e),e.skuScene!==Pr.n.RESERVATION)return e.skuScene===Pr.n.START_CUT?Object(r.i)(i,"marketActivity.helpCut.isFollowStart",!1)&&!Object(r.i)(i,"buyConfig.isFans")?void n("fetchQrcodeWeixinImg").then((function(){n("doPageFollow",{subTitle:"需要关注公众号才可砍价"})})):void n("startCut"):void(!o.isInSourcingFission||e.skuScene!==Pr.n.ACT_BUY||o.isEnoughCoupon?e.skuScene===Pr.n.ACT_BUY&&o.isProductLaunch&&i.goodsActivity.waitToSold?n("productLaunchReservation"):e.skuScene===Pr.n.SALE_REMINDER&&i.display.showSaleReminder?n("saleReminderHandle"):n("triggerSku",e):n("notEnoughCouponHandle"));n("makeReservation")}}},makeReservation:function(){},startCut:function(){},saleReminderHandle:function(t,e){var n=t.state,i=t.dispatch,o=t.commit,a=(void 0===e?{}:e).preCheck,s=void 0===a||a;if(n.goodsActivity.waitToSold&&n.goodsActivity.waitToSold.startSoldTime-n.serverDeltaTime-Date.now()<3e5)return Object(St.default)({message:"商品即将开售",position:"bottom"}),void o("hideSaleReminder");if(s){if(!Object(Fa.a)())return void Object(Fa.b)().then((function(){window._global.user.has_login=!0,i("initSaleReminder").then((function(t){t||i("saleReminderHandle")}))}));if(!Object(r.i)(n,"buyConfig.isFans"))return void i("fetchQrcodeWeixinImg").then((function(){i("doPageFollow",{title:"关注公众号，接收开售提醒"})}))}return n.hasAddSaleReminder?void 0:kt.a.post({url:"/wscgoods/addSaleReminder.json",data:{itemId:Object(r.i)(n,"goods.id","")}}).then((function(){Object(St.default)({message:"开售前会发送公众号消息提醒你",position:"bottom"}),o("setSaleReminder")})).catch((function(t){Object(St.default)({message:t||"订阅开售提醒失败",position:"bottom"})}))}},mutations:{showMoreMiniBtns:function(t){t.displayPop.miniMorePopShow=!0}}},Is=n("E0j1");function As(t){var e="";switch(t){case 1:e="每天";break;case 2:e="每周";break;case 3:e="每月";break;default:e=""}return e}function Bs(t){var e=t.isHotel;return(void 0===e?0:e)?"间*晚":"件"}function js(t){var e=t.isPoints;return(void 0===e?0:e)?["兑","兑换"]:["购","购买"]}function Ds(t){var e=t.singleQuota,n=void 0===e?-1:e,i=t.isVirtualTicket,o=t.isHaitao;return n&&n>0?n:i||o?100:-1}var Es={useSingleQuota:function(t){var e=t.limit,n=e.quota,i=void 0===n?0:n,o=e.singleQuota,r=void 0===o?0:o,a=e.quotaUsed;return!!r&&(!i||i-(void 0===a?0:a)>=r)},quota:function(t,e){if(e.isHelpDepositPresale)return 1;if(e.useSingleQuota)return t.limit.singleQuota;var n=Object(r.i)(t,"limit.quota",0);return n?Math.max(n,1):0},quotaPeriod:function(t,e){var n=Object(r.i)(t,"skuConfig.skuScene",""),i={};return n===Pr.n.ACT_BUY?i=e.currentActivity||{}:n===Pr.n.POINTS_BUY&&(i=e.pointsActivity||{}),i.limit?i.limit.quotaCycle||0:t.goods.limit.quotaCycle||0},quotaUsed:function(t,e){return e.useSingleQuota?0:t.limit.quotaUsed||0},quotaText:function(t,e){var n=t.goods,i=n.isHotel,o=n.limit.singleQuota,r=e.quota,a=e.quotaUsed,s=e.quotaPeriod,c=e.startSaleNum,u=(t.skuConfig||{}).isPoints;return function(t){var e=t.quotaPeriod,n=t.startSaleNum,i=void 0===n?1:n,o=t.quotaUsed,r=void 0===o?0:o,a=t.quota,s=void 0===a?0:a,c=Ds(t),u=As(e),l=Bs(t),d=js(t)[0],p=[];return i>1&&p.push(""+i+l+"起售"),c>0&&s-r>=c?p.push("一次限"+d+c+l):s>0&&p.push(u+"限"+d+s+l),p.join("，")}({quota:r,quotaUsed:a,quotaPeriod:s,isHotel:i,isPoints:void 0!==u&&u,singleQuota:o,startSaleNum:c})},startSaleNum:function(t){return Object(r.i)(t,"skuConfig.skuScene","")===Pr.n.POINTS_BUY?1:t.goods.limit.startSaleNum},isOverQuotaLimit:function(t,e){var n=e.quota;return e.quotaUsed>=n&&0!==n},handleOverLimit:function(t,e){var n=t.goods,i=n.isHotel,o=n.limit.singleQuota,r=e.quota,a=e.quotaPeriod,s=e.startSaleNum,c=(t.skuConfig||{}).isPoints,u=void 0!==c&&c;return function(t){var e=t.action,n=t.limitType,c=t.quotaUsed,l=function(t){var e=t.quotaPeriod,n=t.startSaleNum,i=void 0===n?1:n,o=t.limitType,r=t.quotaUsed,a=void 0===r?0:r,s=t.quota,c=void 0===s?0:s,u=t.action,l=Ds(t),d=As(e),p=Bs(t),f=js(t),h=f[0],m=f[1];if("minus"===u)return i>1?"该商品"+i+p+"起售哦":"至少选择一"+p+"商品";if("plus"===u){if(0===o){if(l>0&&c-a>=l)return"一次最多能"+m+l+p;var g="该商品每人"+d+"限"+h+c+p;return a>0&&(g+="，\n你之前已"+m+"了"+a+p+"。"),g}return"该商品库存不足"}return""}({action:e,limitType:n,quota:r,quotaUsed:c,quotaPeriod:a,isHotel:i,isPoints:u,startSaleNum:s,singleQuota:o});l&&Object(St.default)(l)}},skuBuyBtnText:function(t,e){var n=t.goods.isVirtual,i=t.shopConfig.hideShoppingCart,o=t.skuConfig,r=o.isMultiBtn,a=o.isAddCart,s=o.isAjaxing,c=o.ajaxType,u={buy:"数据提交中",addWish:"提交中..."};return s&&u[c]?u[c]:r?n||i?"下一步":e.bottomBuyBtnTxt:a?"加入"+e.cartText:"下一步"},skuUploaderConfig:function(t){var e=t.url.imgqn;return{uploadImg:function(t){return Object(Is.a)(t).then((function(t){return e+"/"+t.data.attachment_file}))},uploadMaxSize:15}},skuValidator:function(t,e){var n=Object(r.i)(e.skuData,"tree",[]),i=Object(r.i)(t,"goods.itemSalePropList",[]),o=n.reduce((function(t,e){return t[e.kS]=e.k,t}),{}),a=i.reduce((function(t,e){return t[e.kId]=e.k,t}),{});return function(t){var e=t.selectedSku,n=t.selectedProp,i=void 0===n?{}:n,r=Object.keys(e||{}).filter((function(t){return!e[t]})).map((function(t){return o[t]})),s=Object.keys(a).filter((function(t){return!i[t]||i[t].length<1})).map((function(t){return a[t]})),c=r.concat(s);return c.length>0?"请选择"+c.join(" 和 "):""}},skuStepperConfig:function(t,e){var n=t.goods,i=t.priceCalendarData,o={quotaText:e.quotaText,handleOverLimit:e.handleOverLimit};return n.isHotel&&(o.stockFormatter=function(t){return"剩余"+t+"间"}),i&&i.selected&&(o.stockNum=i.selected.stockNum),o},skuDataForVant:function(t,e){var n=function(t){var e=t.tree||[];e=e.map((function(t){var e=t.v.map((function(t){return(t=Object(r.r)(t)).img_url&&(t.imgUrl=Object(r.h)(t.img_url,"small")),t}));return Object.assign({},t,{v:e,k_s:t.kS})}));var n=t.list||[];n=n.map((function(t){return Object(r.r)(t)}));var i=t.price;return"number"==typeof i&&0!==i&&(i=(i/100).toFixed(2)),Object.assign({},Object(r.r)(t),{price:i,tree:e,list:n})}(Object.assign({},e.skuData));if(n.tree&&n.tree.length>0){var i=t.isFastBuy,o=t.isFastBuySplit,a=i&&!o,s=e.isSkuLargeImageMode;!a&&s&&(n.tree[0].largeImageMode=!0),a&&(n.tree=n.tree.map((function(t){return Object.assign({},t,{largeImageMode:!1})})))}return n},isSkuLargeImageMode:function(t,e){return e.isShowSkuNav},skuProperties:function(t){var e=Object(r.i)(t,"goods.itemSalePropList",[]);return Object(r.r)(e)},skuPrice:function(t,e){var n=t.skuManager.infos,i=n.showPrice,o=n.showOldPrice,r=n.price;return{oldPrice:o,price:i,buyPrice:n.isPreReady?r:e.skuData.price}},commonSkuPriceTags:function(t,e){var n=[];return e.isDepositPresale&&!e.isDepositPresaleOver?n.push(e.presaleSkuPriceTag):e.isPresale&&!e.isDepositPresale&&n.push("全款预售"),n},skuPreferentialCoupon:function(t,e){if(!e.hasCouponActivity)return"";var n=e.getReadySkuId,i=e.couponActivity.skuCouponPrice,o=void 0===i?{}:i;return o[n]?o[n].preferentialCoupon:""},skuPreferentialPriceTag:function(t,e){if(!e.hasCouponActivity)return null;var n=e.getReadySkuId,i=e.couponActivity.skuCouponPrice,o=void 0===i?{}:i;return o[n]?o[n].preferentialPriceTag:e.preferentialPriceTag},normalSkuPriceTags:function(t,e){var n=[],i=t.skuConfig,o=t.skuExtraData;i.isGift&&n.push("送礼");var r=o.selectedSkuComb,a=void 0===r?null:r;if(a){var s=a.priceTitle;if(s)return n.push(s),n;if(a.notShowPriceTitle)return[]}if(e.isTimelimitedDiscount&&!e.isTimelimitedDiscountNotStart){var c=e.timelimitedDiscountActivity;c.priceTitle?n.push(c.priceTitle):n.push("限时折扣")}var u=e.discountActivity||{};return"customerDiscount"===u.type&&u.title&&n.push("会员价"),n},activitySkuPriceTags:function(t,e){var n=[],i=e.discountActivity||{};return i.title&&n.push(i.title),n},skuPriceTags:function(t,e){var n=t.skuConfig.skuScene;return n===Pr.n.ACT_BUY?[].concat(e.commonSkuPriceTags,e.activitySkuPriceTags):n===Pr.n.POINTS_BUY?["积分兑换"]:[].concat(e.commonSkuPriceTags,e.normalSkuPriceTags)},showladderGrouponExtra:function(t,e){return e.isLadderGroupOn&&t.skuConfig.skuScene===Pr.n.ACT_BUY},showSkuCouponExtra:function(t,e){return e.skuCouponExtraItem},stepperTitle:function(){return"购买数量"},hideSkuStock:function(t,e){var n=Object(r.i)(t,"goods.isHotel",!1),i=e.skuData,o=void 0===i?{}:i;if(n&&2!==Object(r.i)(t,"skuConfig.selectedSkuDate",[]).length)return!0;return!!e.isPeriodbuy||o.hideStock},hideSkuStepper:function(t){return t.skuConfig.isAddWish},hideSkuOriginPrice:function(){return!1},showSkuAddCartBtn:function(t,e){var n=t.goods.isVirtual,i=t.shopConfig.hideShoppingCart,o=t.skuConfig.isMultiBtn;return!(n||e.isPeriodbuy||i)&&o},quantityReadOnly:function(){return!1},calendarDateData:function(t){var e=t.priceCalendarData;return e[e.activeSkuId]||{}},showInstallmentBar:function(t,e){return e.isInstallment&&(!t.skuConfig.isAddCart||t.skuConfig.isMultiBtn)},isCustomSkuBtn:function(t,e){var n=t.goods,i=t.goodsActivity;return 0===n.isDisplay||(!(!e.isSellOut||e.isPresent)||(!(!e.isPresale||!i.waitToSold)||!!(e.isPresale&&e.isDepositPresale&&e.isDepositPresaleOver)))},customSkuBtn:function(t,e){var n=e.commonBigButtons;return n.length>0?n[0]:{}},skuSceneByState:function(t,e){var n=t.goods,i=e.isPresale,o=e.isSellOut;return 1!==n.isDisplay?Pr.n.OFF_SHELVES:i?Pr.n.PRESELL:o&&!e.isPresent?Pr.n.SELL_OUT:null},skuSceneByBtn:function(t,e){var n=e.bigButtonsData,i=void 0===n?[]:n,o=i.find((function(t){return t.skuScene===Pr.n.ADD_CART})),r=i.find((function(t){return t.skuScene===Pr.n.NORMAL_BUY}));return o?r?Pr.n.SEL_SKU:Pr.n.ADD_CART:r?Pr.n.NORMAL_BUY:null},showNotEnoughCouponTip:function(){return 0},skuSelectedWord:function(t){var e=t.skuManager.infos,n=e.selected,i=void 0===n?[]:n,o=e.unselected,r=void 0===o?[]:o;return r.length>0?"请选择 "+r.join("；"):i.length>0?"已选择 "+i.join("；"):""},skuGoods:function(t){var e=t.goods;return Object.assign({},e,{picture:Object(r.h)(e.picture,"small")})},activityName:function(t,e){var n=t.skuConfig.skuScene;return n===Pr.n.ACT_BUY&&e.isHelpDepositPresale?(e.currentActivity.helpDepositExpansion||{}).type:n===Pr.n.ACT_BUY?(e.currentActivity||{}).type:n===Pr.n.POINTS_BUY?(e.pointsActivity||{}).type:n===Pr.n.GIFT_BUY?"gift":"goods"}},Ls={isMultiBtn:!1,isAddCart:!1,isGift:!1,isPoints:!1,isAddWish:!1},Ns={showSkuPop:function(t){t.displayPop.skuPopShow=!0},hideSkuPop:function(t){t.displayPop.skuPopShow=!1},setSkuConfig:function(t,e){void 0===e&&(e={});var n=Object.assign({},Ls);switch(e.skuScene){case Pr.n.NORMAL_BUY:case Pr.n.ACT_BUY:break;case Pr.n.ADD_WISH:Object.assign(n,{isAddWish:!0});break;case Pr.n.POINTS_BUY:Object.assign(n,{isPoints:!0});break;case Pr.n.GIFT_BUY:Object.assign(n,{isGift:!0});break;case Pr.n.ADD_CART:Object.assign(n,{isAddCart:!0});break;case Pr.n.SEL_SKU:Object.assign(n,{isMultiBtn:!0,isAddCart:!0});break;default:n={}}t.skuConfig=Object.assign({},t.skuConfig,e,n)},setSkuExtraData:function(t,e){void 0===e&&(e={}),t.skuExtraData=Object.assign({},t.skuExtraData,e)},resetSkuAjaxState:function(t){t.skuConfig=Object.assign({},t.skuConfig,{isAjaxing:!1,submitType:""})},updatePostData:function(t,e){void 0===e&&(e={});var n=e=Object(r.q)(e),i=n.selectedNum,o=void 0===i?0:i,a=n.selectedSkuComb,s=void 0===a?{}:a,c=n.messages,u=void 0===c?{}:c,l=n.cartMessages,d=void 0===l?{}:l,p=n.activityInfo,f=void 0===p?{}:p,h=n.extra,m=void 0===h?{}:h,g=n.installmentRate,v=n.selectedInstallmentPeriod,y=s.id,b=void 0===y?0:y,_=s.price,k=void 0===_?0:_,w=Object(r.i)(t,"goods.id",0),S=Object(r.i)(t,"distribution.postage",0);t.postData=Object.assign({},s,{goodsId:w,skuId:b,num:o,price:k,messages:u,cartMessages:d,kdtId:t.shop.kdtId,storeId:t.multistore.id||0,storeName:t.multistore.name||"",postage:"string"!=typeof S?S:0,useWxpay:t.env.wxpayEnv?1:0,orderType:t.skuConfig.isGift?1:0,isPoints:t.skuConfig.isPoints?1:0},f,m,{isInstallment:Boolean(t.payWays.instalment),installmentRate:g,selectedInstallmentPeriod:v,isSevenDayUnconditionalReturn:t.goods.supportUnconditionalReturn,bosWorkFlow:t.goods.bosWorkFlow});var C=Object(r.i)(t,"skuExtraData.selectedSkuDate",[]);if(3===Object(r.i)(t,"goodsActivity.virtualTicket.validityType")){var P=Object(r.i)(t,"skuExtraData.selectedSkuDateId",[]);t.postData.skuId=P,t.postData.card_goods={appointment_time:String(C)}}if(t.goods.isHotel){var x,O=Object(r.j)(new Date(C[0].getTime())),T=Object(r.j)(new Date(C[1].getTime()));t.postData.hotelGoods=((x={})[w]=[O,T],x)}},updatePostDataExtra:function(t,e){void 0===e&&(e={}),t.postData=Object.assign({},t.postData,e)},postDataFinished:function(t){t.skuConfig=Object.assign({},t.skuConfig,{isAjaxing:!1,submitType:""}),t.displayPop.skuPopShow=!1},setSelectedCalendar:function(t,e){t.priceCalendarData.selected=e},clearSelectedCalendar:function(t){t.priceCalendarData.selected=null,t.priceCalendarData.activeSkuId=0,t.skuExtraData.selectedSkuDate=[]},updateInitialSku:function(t,e){t.initialSku=e}},Ms=(n("x0AG"),n("g1MV")),Fs=n("QumR"),Rs=n("wVyN"),Us="https://img.yzcdn.cn",Ws=[Us+"/public_files/2019/09/18/22937c08bd4d87c2a33a339d81d5b58d.png",Us+"/public_files/2019/09/18/37aeb661064b029f2b0a86e9e662cbbb.png",Us+"/public_files/2019/09/18/535045098ea80c44f817c394b1ecfd10.png",Us+"/public_files/2019/09/18/0791652b22657b3c20ef0a0652a2f444.png",Us+"/public_files/2019/09/18/67e895423d5bdb9b59a6964dab8eb135.png",Us+"/public_files/2019/09/18/a4c29bd2591feaf04b93527ada157382.png",Us+"/public_files/2019/09/18/50db0df2db90833d3e11a9218be4c8d1.png",Us+"/public_files/2019/09/18/ab1159007d8a8f00449dec9087273268.png",Us+"/public_files/2019/09/18/0495a6dd1093f73ab38fde0aa70797de.png",Us+"/public_files/2019/09/18/5861386126c55a5d9b20c6c2c20a7013.png",Us+"/public_files/2019/09/18/da6c575bba1628eed578ceaaf1c1f5d4.png",Us+"/public_files/2019/09/18/99f7591d776795e25d439716f4dba2ff.png",Us+"/public_files/2019/09/18/0fedd48ac49d19c93303961d3255e7a5.png",Us+"/public_files/2019/09/18/95173169f85f61278cbdd75701770be7.png",Us+"/public_files/2019/09/18/02c643189e12d4aecb4f2a43d4c7e16e.png",Us+"/public_files/2019/09/18/36119d0107c34d145afcc689b68b21c6.png",Us+"/public_files/2019/09/18/da11ffc166308a8160527ecba9199ec1.png",Us+"/public_files/2019/09/18/aaedf80b686fe1511195a1622c45c719.png",Us+"/public_files/2019/09/18/0ccdc0f021b0a5d09b88db047dd432b4.png",Us+"/public_files/2019/09/18/9101a5fe88ace0ae861e95ff34f28957.png",Us+"/public_files/2019/09/18/c3998a48d5f8744b744e3e369666e63b.png",Us+"/public_files/2019/09/18/a72ce0a19a7fc19a1921e891f25ee59f.png",Us+"/public_files/2019/09/18/16cdb32d9829b387fe7a7ef0bb73024c.png",Us+"/public_files/2019/09/18/7c49758d28f9e20de19f3e78e585563d.png",Us+"/public_files/2019/09/18/650656080d028b5de05d8dccc789b278.png",Us+"/public_files/2019/09/18/1f35ff9cc78049054d398e09118b8192.png",Us+"/public_files/2019/09/18/8669c369899c8b804beca697ab07bdc0.png",Us+"/public_files/2019/09/18/e443c5c6df53f5db7708dc4122f32dc6.png",Us+"/public_files/2019/09/18/7655db43b1d509595183898b60568f09.png",Us+"/public_files/2019/09/18/aae85930a06d8598146dc79c2f4f415f.png"];for(var Gs=function(){return Ws[(t=Ws.length-1,void 0===t&&(t=0),Math.round(Math.random()*t))];var t},$s=[Za,Ja,ts,es,os,ls,ds,hs,gs,Ts,{getters:Es,actions:{stepperChange:function(t,e){(0,t.commit)("setSkuExtraData",{stepperCount:e||1}),Object(yt.b)({et:"click",ei:"click_sku_number",en:"点击sku弹层数量控件"})},openSkuImgPreview:function(t,e){var n=t.dispatch,i=t.getters;Object(yt.b)({et:"click",ei:"click_sku_pic",en:"点击sku弹层中图片"});var o=i.isSkuLargeImageMode,r=i.goodsMainPictures,a=i.skuPictures,s={uiType:Li,index:0},c=e.ks&&e.id;c&&(s.index=Math.max(0,a.findIndex((function(t){return t.id===e.id})))),o?s.type=ji:(c&&(s.index+=r.length),s.type=Di),n("previewImage",s)},actionCheck:function(t,e){var n=t.state,i=t.commit,o=t.dispatch;void 0===e&&(e={});var r=e.accountUnionScene,a=n.oneclickLoginInfo;return(void 0===a?{}:a).needShowOneclickLogin?new Promise((function(){o("popOneClickLogin")})):new Promise((function(t){Object(Fa.b)({scene:r||Pr.a.NORMAL_BUY,platformCallback:{method:"dispatch",args:["triggerSku",e]}}).then((function(e){e.hasLogin&&i("updateUserLoginStatus",!0),t()}))}))},triggerSkuBefore:function(t,e){var n=t.dispatch;if(void 0===e&&(e={}),!e.isAddWish)return n("actionCheck",e).then((function(){return Promise.resolve()}))},triggerSku:function(t,e){var n=t.state,i=t.getters,o=t.commit,r=t.dispatch;if(void 0===e&&(e={}),i.forbidClickBtnReason)return r("showCommonToast",i.forbidClickBtnReason);var a=n.goods,s=a.isHotel,c=a.isCatering,u="normal";return s?u="hotel":c?u="catering":i.isPresale&&(u="presale"),o("setSkuConfig",Object.assign({skuType:u},e)),r("triggerSkuBefore",e).then((function(){return r("fetchSkuData")})).then((function(){return o("showSkuPop")}))},handleAddCart:function(t,e){var n=t.state,i=t.dispatch;return void 0===e&&(e={}),n.skuConfig.isAjaxing?Object(St.default)("数据提交中，请勿重复提交。"):i("doCheckBeforeSubmit",{type:"addCart",submitData:e})},handleBuy:function(t,e){var n=t.state,i=t.getters,o=t.commit,r=t.dispatch;void 0===e&&(e={});var a=n.skuConfig,s=a.isAjaxing,c=a.isAddCart,u=a.isMultiBtn,l=a.isAddWish,d=a.skuScene,p=n.skuExtraData;if(!c||u){if(o("setSkuConfig",{isAddCart:!1}),i.isPeriodbuy&&!i.isPeriodbuyItemSelected)return Object(St.default)("请选择周期购送达时间");if(i.isLadderGroupOn&&d===Pr.n.ACT_BUY&&!p.selectedScale)return Object(St.default)("请选择拼团类型");if(i.isOverQuotaLimit){var f=i.quota,h=i.quotaUsed;return Object(St.default)("限购"+f+"件，您已购买"+h+"件。")}if(s)return Object(St.default)("数据提交中，请勿重复提交。");var m="buy";if(l&&(m="addWish"),i.isInstallment){var g=i.isFreeInterest,v=n.skuExtraData,y=v.installmentRate,b=v.selectedInstallmentPeriod;e=Object.assign({},e,{installmentRate:3===b&&g?0:y,selectedInstallmentPeriod:b})}r("doCheckBeforeSubmit",{type:m,submitData:e})}else r("handleAddCart",e)},handleSkuSelect:function(t,e){var n=t.dispatch;void 0===e&&(e={});var i=Object(r.q)(e),o=i.selectedSkuComb,a=void 0===o?null:o,s=i.selectedSku;n("updateSelectedSkuAndProp",{selectedSkuComb:a,selectedSku:void 0===s?{}:s})},handlePropSelect:function(t,e){var n=t.dispatch;void 0===e&&(e={});var i=Object(r.q)(e),o=i.selectedSkuComb,a=void 0===o?null:o,s=i.selectedProp;n("updateSelectedSkuAndProp",{selectedSkuComb:a,selectedProp:void 0===s?{}:s})},handleSkuReset:function(t,e){var n=t.dispatch;void 0===e&&(e={});var i=Object(r.q)(e),o=i.selectedSkuComb,a=void 0===o?null:o,s=i.selectedSku,c=void 0===s?{}:s,u=i.selectedProp;n("updateSelectedSkuAndProp",{selectedSkuComb:a,selectedProp:void 0===u?{}:u,selectedSku:c})},doCheckBeforeSubmit:function(t,e){var n=t.state,i=t.getters,o=t.commit,r=t.dispatch;void 0===e&&(e={});var a=n.goods,s=void 0===a?{}:a,c=n.skuConfig,u=void 0===c?{}:c,l=n.skuExtraData,d=void 0===l?{}:l,p=n.buyConfig.buyLimitType,f=void 0===p?0:p,h=i.skuData,m=void 0===h?{}:h,g=i.isInSourcingFission,v=i.showNotEnoughCouponTip,y=e,b=y.type,_=y.submitData;o("setSkuConfig",{isAjaxing:!0,submitType:b});var k=b;return u.isGift&&(k="gift"),ks(k,{goods:s,sku:m}),g&&u.skuScene===Pr.n.ACT_BUY&&v>0?(Object(St.default)("内购券不足，请分享活动或商品获取更多内购劵"),void o("resetSkuAjaxState")):s.isHotel&&2!==d.selectedSkuDate.length?(Object(St.default)("亲，请选择入住时间"),void o("resetSkuAjaxState")):i.isPriceCalendar&&!d.selectedSkuDate.length?(Object(St.default)("亲，请选择要购买的日期"),void o("resetSkuAjaxState")):r("updatePostData",_).then((function(t){return o("updatePostData",t),r("checkIsNeedLogin").then((function(t){return t&&!n.env.redirectLoginByPlatform?(r("doPageLogin",{hideSku:!0}),void o("setSkuConfig",{isAjaxing:!1})):1!==f||u.isAddCart?r(b):void r("fetchQrcodeWeixinImg").then((function(){r("doPageFollow",{subTitle:"本商品仅限粉丝购买，请先关注公众号"}),o("setSkuConfig",{isAjaxing:!1}),o("hideSkuPop")}))}))}))},checkIsNeedLogin:function(t){var e=t.state,n=e.user.logined,i=e.env.needAjaxLogin,o=e.skuConfig,r=o.isAddWish,a=o.isAddCart;return!(n||!i)&&(!r&&!a)},updatePostData:function(t,e){var n=t.state,i=t.getters,o=Object(r.i)(n,"skuConfig.skuScene",""),a=n.skuExtraData,s={},c={};return o===Pr.n.ACT_BUY?(Object.assign(s,n.activityInfo),i.isLadderGroupOn&&Object.assign(s,{scaleNum:a.selectedScale})):o===Pr.n.POINTS_BUY&&(Object.assign(s,i.pointsActivityInfo),i.skuData.noneSku&&(c=Object.assign({},c,{pointsPrice:i.skuData.pointsPrice,price:i.skuData.price||0}))),i.skuData.noneSku&&(c=Object.assign({},c,{price:i.skuData.price||0})),i.isPeriodbuy&&(c=Object.assign({},c,{deliverTime:i.periodbuyActivity.deliverTimeId})),n.isFastBuySplit&&(c=Object.assign({},c,{isPartialFastAdOrder:!0,expressTypeChoice:0})),i.isLadderGroupOn&&o===Pr.n.ACT_BUY&&(c=Object.assign({},c,{price:i.skuPrice.buyPrice})),i.isInSourcingFission&&o===Pr.n.ACT_BUY&&(c.isInSourcingFission=!0,c.needInSourcingCouponNum=i.currentNeedCoupon,c.umpType="InSourcingFission"),i.serviceDescListKeys.length>0&&(c=Object.assign({},c,{shopServiceKeys:i.serviceDescListKeys})),i.localDeliveryFeeStr.length>0&&(c=Object.assign({},c,{localDeliveryFeeStr:i.localDeliveryFeeStr})),i.expressFeeStr.length>0&&(c=Object.assign({},c,{expressFeeStr:i.expressFeeStr})),Object.assign({activityInfo:s,extra:c},e)},beforeBuy:function(t,e){void 0===e&&(e={});var n=e,i=n.goodsList,o=void 0===i?[]:i,r=n.common,a=void 0===r?{}:r;return{goodsList:JSON.stringify(o),common:JSON.stringify(a)}},afterBuy:function(t,e){var n=t.state,i=t.getters;void 0===e&&(e={});var o=n.env,a=o.isNewHopeKdt,s=o.platform,c=n.shop.kdtId,u=n.goods,l=n.skuData,d=n.postData,p=n.appEngineConfig,f=void 0===p?null:p;if(n.isFastBuy&&Object(An.isWeappWebview)())Bn.ZNB.navigate({weappUrl:r.b.add("/packages/trade/order/buy-h5/index",{bookKey:e.bookKey})});else if(!Object(On.askHook)("goods","customHandledBuy",e.bookKey)){if(f)try{var h=(JSON.parse((f||{}).rule||"{}").sku||{}).buyUrl;if(h)return h=r.b.add(h,{url:v(),boodId:e.bookKey}),Object(r.o)(h)}catch(t){}var m=i.activityName,g={bookKey:e.bookKey,buyUrl:v(),goodsAlias:u.alias,skuId:d.skuId,num:d.num,messages:Ps(l,d.messages),activityName:m};Rs.a.afterBuy.call(g).then((function(t){var e=(t.pop()||{}).extOrderQuery,n=v(e&&{ext_query:JSON.stringify(e)});Object(r.o)(n)})).catch((function(){}))}function v(t){void 0===t&&(t={});var n=e.buyUrl||_global.url.trade+e.url;return a&&(n=n.replace("new_order","new_hope_order")),Object(Ms.a)(r.b.add(n,Object.assign({},t,{showwxpaytitle:1,kdt_id:c,from:d.from||"",use_wxpay:d.useWxpay,uic_login_token:d.loginTicket||"",book_key:e.bookKey,platform:s})))}},buy:function(t){var e=t.state,n=t.commit,i=t.dispatch,o=e.postData,r=void 0===o?{}:o,a=e.skuConfig,s=void 0===a?{}:a,c=Ss(r);i("beforeBuy",c).then((function(t){kt.a.post({url:"/wsctrade/order/goodsBook.json",errorMsg:"购买失败，请重试",timeout:15e3,data:t}).then((function(t){Cs({type:"buyNow",skuData:r,goods:e.goods}),n("postDataFinished"),i("afterBuy",t)})).catch((function(t){Object(St.default)(t.msg),xs(s.submitType),n("postDataFinished")}))}))},beforeAddCart:function(t,e){var n=t.state;return Fs.a.makeAddCartLog(e),Rs.a.beforeCartSubmit.call({messages:n.postData.cartMessages,num:e.num,skuId:e.sku_id,goodsAlias:n.goods.alias})},addCart:function(t){var e=t.state,n=t.getters,i=t.commit,o=t.dispatch,a=e.postData,s=void 0===a?{}:a;n.discountActivity&&"goodsScan"===n.discountActivity.type&&(s=Object.assign({},s,e.activityInfo));var c=function(t){var e=ws(t),n=e.goodsData,i=e.commonData,o=[];Object.keys(t.cartMessages).forEach((function(e){o.push(t.cartMessages[e])}));var r=Object(On.invokeHook)("goods","afterFormatBuyData",n);return Object.assign({},r,i,{propertyIds:JSON.stringify(r.propertyIds),messages:JSON.stringify(o)})}(s),u=Object(On.invokeHook)("goods","beforeAddCart",c);return o("beforeAddCart",c).catch((function(t){return xs("saas:before-add-cart",t),i("postDataFinished"),Promise.reject(t)})).then((function(t){return kt.a.post({url:"/wscshop/trade/cart/goods.json",data:Object.assign({},u,t)}).then((function(){"youzanmars"===n.platform&&n.version>="1.6.2"||Object(St.default)("已成功添加到"+n.cartText),function(t){var e=t.kdtId,n=t.goodsId,i=t.skuId,o=JSON.parse(bs.a.getItem("current-chosen")||"[]"),r=e+"-"+n+"-"+i;-1===o.indexOf(r)&&o.push(r),bs.a.setItem("current-chosen",JSON.stringify(o))}(s),Cs({type:"addToCart",skuData:s,goods:e.goods}),o("refreshCartCount"),i("postDataFinished")}),(function(t){if(40015===t.code){var e=Object(r.c)("/trade/wxlogin","wap",n.kdtId),i=r.b.add(e,{cart_key:t.data.cart_key,kdt_id:n.kdtId,redirect_url:location.href});return Object(r.o)(i)}throw new Error(t)})).catch((function(t){return Object(St.default)(t.message||"网络错误，请稍后重试"),xs("add-cart","addCart"),i("postDataFinished"),Promise.reject(t)}))}))},checkAutoShowSku:function(t){var e=t.state,n=t.dispatch,i=e.env,o=i.isMobile,r=i.showSku,a=e.user.isAdmin,s=e.display.showForbidBuyBtn;!r||a&&!o||s||n("showDefaultSku")},showDefaultSku:function(t){for(var e=t.getters,n=t.dispatch,i=e.bigButtonsData,o=void 0===i?[]:i,r=e.skuSceneByState,a=e.skuSceneByBtn,s=function(t){var e=o[t]||{};if(r&&(e=Object.assign({},e,{skuScene:r})),a&&(e=Object.assign({},e,{skuScene:a})),Pr.o.has(e.skuScene)||e.skuScene===Pr.n.ACT_BUY||Pr.p.has(e.skuScene))return setTimeout((function(){n("triggerSku",e)}),0),"break"},c=o.length-1;c>=0;c--){if("break"===s(c))break}},customBtnClick:function(t){var e=t.getters;(0,t.dispatch)("handleBigButtonClick",e.customSkuBtn)},updatedCurrentSku:function(t,e){var n,i=t.commit,o={};e.ks&&e.id&&e.stockNum>0&&((n={})[e.ks]=e.id,n.selectedNum=1,o=n);i("updateInitialSku",o)}},mutations:Ns},{state:{followInfo:{title:"关注店铺",subTitle:"",qrcodeImg:"",weixinNickname:"",qrcodeWeixinFetched:!1},commonFollowInfo:null,benefitFollowInfo:null},actions:{doPageFollow:function(t,e){void 0===e&&(e={}),(0,t.commit)("showFollowPopup",e)},fetchQrcodeWeixinImg:function(t){var e=t.commit,n=t.state,i=t.getters,o=n.commonFollowInfo,a=n.goods,s=n.mpData;if(o)return e("fetchQrcodeWeixinImgSuccess",o),Promise.resolve();var c=i.kdtId,u=Object(r.i)(n,"mpData.account.id",0);return kt.a.post({url:Object(r.c)("/wscgoods/detail-api/weixin-temp-qr.json","h5",c),headers:{"content-type":"application/json"},data:{mpId:u,kdtId:c,channel:"goods",content:{url:window.location.href,title:a.title,digest:a.subTitle,coverAttachmentUrl:a.picture}}}).then((function(t){return t.qrcodeUrl&&e("fetchQrcodeWeixinImgSuccess",Object.assign({},t,{nickname:Object(r.i)(s,"account.nickname","")})),Promise.resolve()})).catch((function(t){return Object(St.default)("获取店铺二维码失败"),Promise.resolve()}))}},mutations:{showFollowPopup:function(t,e){void 0===e&&(e={}),t.displayPop.followPopShow=!0,t.followInfo=Object.assign({},t.followInfo,{title:e.title||"",subTitle:e.subTitle||""})},fetchQrcodeWeixinImgSuccess:function(t,e){var n=e.qrcodeUrl,i=e.nickname;t.commonFollowInfo=e,t.followInfo.weixinNickname=i||"",t.followInfo.qrcodeImg=n},fetchBenefitWeixinImgSuccess:function(t,e){t.benefitFollowInfo=e,t.followInfo.weixinNickname="",t.followInfo.qrcodeImg=e}}},{getters:{isNeedShowMobileAuth:function(t){var e=t.user,n=t.appConfig,i=e.mobileOneClickLoginData,o=void 0===i?{}:i,r=n.tradeAuthorizeAccount;return void 0!==r&&r&&2===o.authType},mobileAuthInfo:function(t,e){var n=t.user,i=t.shop,o=t.oneclickLoginInfo,r=n.mobileOneClickLoginData,a=n.appName,s=void 0===a?"":a,c=i.logo,u=i.name,l=i.kdtId,d=i.rootKdtId;return e.isNeedShowMobileAuth?{visible:r.needLogin&&o.showDialog,phone:r.mobile,kdtId:d||l,shopName:u,imageShopUrl:c,appName:s}:null}},actions:{doSuccess:function(t,e){var n=t.commit,i=t.dispatch;return void 0===e&&(e={}),n("successLogin",e),i("fetchSkuData").then((function(){return n("showSkuPop")}))},doClose:function(t,e){void 0===e&&(e={}),(0,t.commit)("closeLogin",e)},popOneClickLogin:function(t,e){void 0===e&&(e={}),(0,t.commit)("popOneClickLogin",e)},doRenderOneClickLogin:function(t,e){void 0===e&&(e={}),(0,t.commit)("doRenderOneClickLogin",e)}},mutations:{closeLogin:function(t){t.oneclickLoginInfo.showDialog=!1},successLogin:function(t){t.oneclickLoginInfo.showDialog=!1,t.oneclickLoginInfo.needShowOneclickLogin=!1},popOneClickLogin:function(t){t.oneclickLoginInfo.showDialog=!0},doRenderOneClickLogin:function(t){t.oneclickLoginInfo.needShowOneclickLogin=!0}},state:{oneclickLoginInfo:{showDialog:!1,needShowOneclickLogin:!1}}},{state:{tradeCarousel:{fixedTop:40}},getters:{showBuyRecordListStyle:function(t,e){return e.parsedGoodsDetailBuyRecord.indexOf(0)>-1},showBuyRecordFloatStyle:function(t,e){return e.parsedGoodsDetailBuyRecord.indexOf(1)>-1},parsedGoodsDetailBuyRecord:function(t){var e=Object(r.i)(t,"shopConfig.goodsDetailBuyRecord",null),n=t.shopConfig.showBuyRecord?[0,1]:[];if(e)try{n=JSON.parse(e)||n}catch(t){}return n}},actions:{getTradeRecordsV2:function(t){var e=t.commit,n=t.state,i=t.getters,o=(t.dispatch,Object(r.i)(n,"goods.id","")),a=Object(r.i)(n,"shop.rootKdtId","");o&&i.showBuyRecordFloatStyle&&kt.a.get({url:"/wscgoods/getTransactionRecords.json",data:{goodsId:o,rootKdtId:a},options:{useCdn:!0}}).then((function(t){t&&t.length&&e("UPDATE_TRADE_RECORDS",t)})).catch((function(t){}))}},mutations:{UPDATE_TRADE_RECORDS:function(t,e){void 0===e&&(e=[]),t.tradeRecordsV2=e.map((function(t){return t.show=!1,t.avatar=Gs(),t}))},setTradeCarouselTop:function(t,e){t.tradeCarousel.fixedTop=e.top}}},{state:{},getters:{previewList:function(t,e){var n=t.previewImageData,i=e.goodsPictures,o=e.goodsMainPictures,r=e.skuPictures,a=e.showGoodsVideo,s=[].concat(o),c=[].concat(i);switch(a&&(s.shift(),c.shift()),n.type){case Bi:return s;case ji:return r;case Di:return c}return s},previewImages:function(t,e){return e.previewList.map((function(t){return t.url}))},previewStartPosition:function(t){return t.previewImageData.index},previewFooterBtnList:function(t,e){var n=t.goods.isVirtual,i=t.pageType,o=e.bigButtonList;return n||i?[]:o.filter((function(t){return Pr.i.has(t.skuScene)}))}},actions:{previewImage:function(t,e){var n=t.commit,i=t.getters,o=t.dispatch,r=e.index,a=e.type,s=e.uiType;i.showGoodsVideo&&a!==ji&&r--,n("updatePreviewImageData",{index:Math.max(r,0),type:a,uiType:s}),o("updatePreviewImage",!0)},updatePreviewImage:function(t,e){(0,t.commit)("updatePreviewImagePop",e)},onFooterBtnClick:function(t,e){var n=t.getters,i=t.dispatch,o=e.btn,r=e.index;i("updatedCurrentSku",n.previewList[r]),i("updatePreviewImage",!1),i("handleBigButtonClick",o)}},mutations:{updatePreviewImageData:function(t,e){t.previewImageData=e},updatePreviewImagePop:function(t,e){t.displayPop=Object.assign({},t.displayPop,{showImagePreview:e})}}}].reduce((function(t,e){return vr(t,e)}),{}),qs={state:{saas:{showVirtualTicketIntro:Rs.a.showVirtualTicketIntro.call(!0),submitBlock:{showGoodsBottom:Rs.a.showGoodsBottom.call(!0)},shopBlock:{showOldShopBadge:Rs.a.showPldShopBadge.call(!0),showMultiStoreInfo:Rs.a.showMultiStoreInfo.call(!0)},baseInfoBlock:{showPrice:Rs.a.showPrice.call(!0),showShareIcon:Rs.a.showShareIcon.call(!0),showFollowShopIcon:Rs.a.showFollowShopIcon.call(!0),showGuaranteeBar:Rs.a.showGuaranteeBar.call(!0)},detailBlock:{showTab:Rs.a.showTab.call(!0)},groupBlock:{showServiceBar:Rs.a.showServiceBar.call(!0)}}}},Hs={state:{},getters:{},actions:{doPageLogin:function(t,e){var n=t.dispatch,i=t.commit;void 0===e&&(e={});var o=e.hideSku;void 0!==o&&o&&i("hideSkuPop"),Object(Fa.b)().then((function(t){n("afterLogin",t)}))},afterLogin:function(t){var e=t.state,n=t.commit,i=t.dispatch,o=e.skuConfig.submitType;n("setSkuConfig",{isAjaxing:!0}),n("updateUserLoginStatus",!0),e.marketActivity.helpCut||e.orderActivity.fansBenefit?window.location.reload():i(o)}},mutations:{updateUserLoginStatus:function(t,e){t.user.logined=e}}},Vs=[],zs=0;zs<33;zs++)Vs.push(zs);var Ys={0:["每天送达","工作日送达","周末每天送达","隔天送达"],1:["","每周一","每周二","每周三","每周四","每周五","每周六","每周日"],2:Vs.map((function(t){return 32===t?"每月最后一天":"每月"+t+"号"}))},Ks={0:"每天",1:"每周",2:"每月"},Qs={state:{},getters:{periodbuyActivity:function(t){return Object(r.i)(t,"goodsActivity.periodbuy",{})},isPeriodbuy:function(t){return!!Object(r.i)(t,"goodsActivity.periodbuy",null)},isPeriodbuyItemSelected:function(t,e){return"number"==typeof e.periodbuyActivity.deliverTimeId},periodbuySkuExtraList:function(t,e){var n=e.periodbuyActivity,i=n.deliveryTimeList,o=void 0===i?[]:i,r=n.period,a=void 0===r?0:r;return o.map((function(t){return{id:t,name:Ys[a][t]}}))},periodbuyNum:function(t,e){var n=Object(r.i)(e,"periodbuyActivity.periodSku",[]);if(1===n.length)return n[0].num;var i="",o=t.skuManager.infos.id,a=void 0===o?0:o;return!a||n.length<1||n.some((function(t){return t.skuId===a&&(i=t.num,!0)})),i},periodbuyDeliverTimeStr:function(t,e){var n=e.periodbuyActivity.period,i=e.periodbuyNum;return i?Ks[n]?Ks[n]+"配送一次，共"+i+"次":"共"+i+"次":""}},actions:{selectPeriodbuySkuItem:function(t,e){(0,t.commit)("selectPeriodbuySkuItem",e)}},mutations:{selectPeriodbuySkuItem:function(t,e){t.goodsActivity.periodbuy.deliverTimeId=e}}},Zs={state:{},getters:{pointsActivity:function(t){return Object(r.i)(t,"marketActivity.points",{})},isPointsExchange:function(t){return!!Object(r.i)(t,"marketActivity.points",null)},showPointsButtonStatus:function(t){return Object(r.i)(t,"marketActivity.points.status",0)},isSupportWish:function(t,e){return e.isPointsExchange},pointsActivityInfo:function(t,e){return{activityAlias:"",activityId:e.pointsActivity.activityId||206404,activityType:5}}},actions:{},mutations:{}},Js=1,Xs=2,tc=1,ec=function(t){var e=t.payText,n=void 0===e?"付款":e,i=t.activity,o=void 0===i?{}:i,a=t.isShipAfterPay,s=t.isShipInnerPay,c=o.shipDelayDays,u=o.shipBeforeDays,l=o.shipStartTime;return a?""+n+c+"天后发货":s?""+n+u+"天内发货":Object(r.e)(l,"MM.DD")+"开始发货"},nc={getters:{presaleActivity:function(t){return Object(r.i)(t,"orderActivity.presale",{})},isPresale:function(t){return!!Object(r.i)(t,"orderActivity.presale",null)},isShipAfterPay:function(t,e){return e.presaleActivity.shipType===Js},isShipInnerPay:function(t,e){return e.presaleActivity.shipType===Xs},isDepositPresale:function(t,e){return 1===e.presaleActivity.type},isPresaleLongPeriod:function(t,e){return+e.presaleActivity.period===tc},isDepositPresaleLongPeriod:function(t,e){return e.isDepositPresale&&e.isPresaleLongPeriod},isDepositPresaleOver:function(t,e){var n=e.presaleActivity;return!e.isDepositPresaleLongPeriod&&(!e.isDepositPresaleHelpNotJoin&&e.isHelpDepositPresale?e.isTailPayOver:n.preEndTime<+new Date)},presaleCountdown:function(t,e){var n=e.presaleActivity;if(!n)return null;if(e.isDepositPresaleLongPeriod)return{desc:"活动进行中",end:""};var i=n.preStartTime,o=n.preEndTime,r=n.payEndTime,a=o;if(!i&&!o)return null;!e.isDepositPresaleHelpNotJoin&&e.isHelpDepositPresale&&(a=r);var s=t.clientTimestamp,c=t.serverDeltaTime,u=i-c,l=a-c;return u>s?{desc:"距开始仅剩",end:u}:l>s?{desc:"距结束仅剩",end:l}:{desc:"活动已结束",end:s}},presaleTimeDesc:function(t,e){if(!e.isPresale)return"";var n=e.presaleDesc(!0)||{};return n.desc+" "+n.subDesc},presaleDesc:function(t,e){return function(t){if(void 0===t&&(t=!1),!e.isPresale)return null;var n=e.presaleActivity,i=e.isDepositPresaleHelpStart,o=e.isShipAfterPay,a=e.isShipInnerPay,s=n.preEndTime,c=n.payStartTime,u={activity:n,isShipAfterPay:o,isShipInnerPay:a},l="",d="";if(e.isDepositPresale){var p=ec(Object.assign({payText:"尾款支付"},u)),f="预售结束",h=s;i&&(f="活动结束",h=c),e.isPresaleLongPeriod?l=p:(l=""+Object(r.e)(h,"MM.DD HH:mm:ss")+f+(t?",":""),d=p)}else{var m=ec(Object.assign({payText:"付款"},u));e.isPresaleLongPeriod?l=m:n.activityEnd?(l=Object(r.e)(n.activityEnd,"MM.DD HH:mm:ss")+"活动结束"+(t?",":""),d=m):l=m}return{desc:l,subDesc:d}}},presaleStatus:function(t,e){var n=e.presaleActivity,i=n.preStartTime,o=n.payStartTime,r=n.shipStartTime,a=e.isDepositPresaleHelpStart,s=e.isTailPayStart,c=e.isDepositPresaleHelpPayed,u=+new Date;return c?4:s?3:a?2:i<u?1:o<u?2:r<u?3:0},depositPrice:function(t,e){var n=e.presaleActivity,i=n.minDeposit,o=n.maxDeposit;return o===i?Object(r.g)(i):Object(r.g)({min:i,max:o}," - ")},depositPaymentTime:function(t,e){var n=e.presaleActivity||{},i=n.payStartTime,o=n.payEndTime,a=n.payStartDay,s=n.payEndDay,c="";return c="支付尾款: "+Object(r.e)(i,"YYYY.MM.DD HH:mm:ss")+" - "+Object(r.e)(o,"YYYY.MM.DD HH:mm:ss"),e.isDepositPresaleLongPeriod&&(c="支付尾款: 定金支付"+a+"天后开始支付，"+s+"天内完成支付"),c},depositOfferMap:function(t,e){var n=e.presaleActivity.depositSkuList;return(void 0===n?[]:n).reduce((function(t,e){var n;return Object.assign({},t,((n={})[e.skuId]=e,n))}),{})},presaleOffsetPriceRange:function(t,e){if(!e.skuMinMaxOffer)return"";if(e.skuMinMaxOffer){var n=e.skuMinMaxOffer,i=n.offerMinOffset,o=n.offerMaxOffset,a=e.isHelpDepositPresale,s=a?"最高可抵":"可抵";return i===o||a?s+"¥"+Object(r.g)(o):s+"¥"+Object(r.g)(i)+" - "+Object(r.g)(o)}},skuMinMaxOffer:function(t,e){var n=e.presaleActivity.depositSkuList,i=void 0===n?[]:n;if(i.length>0){var o=0,a=0;if(e.isHelpDepositPresale){var s=i[0].depositOffer;o=i.reduce((function(t,e){return Math.min(t,Math.min.apply(Math,e.helpOffer))}),s),a=i.reduce((function(t,e){return Math.max(t,Math.max.apply(Math,e.helpOffer))}),s)}else o=Object(r.t)(i,(function(t){return t.depositOffer})).depositOffer,a=Object(r.s)(i,(function(t){return t.depositOffer})).depositOffer;return{offerMinOffset:o,offerMaxOffset:a}}return null},presaleOffsetPriceMin:function(t,e){var n=e.skuMinMaxOffer,i=e.isHelpDepositPresale;if(!n)return i?"定金膨胀":"定金预售";var o=n.offerMinOffset;return o===n.offerMaxOffset?(i?"最高可抵":"可抵")+"¥"+Object(r.g)(o):"抵¥"+Object(r.g)(o)+"起"},presaleSkuPriceTag:function(t,e){var n=e.isHelpDepositPresale,i=e.presaleActivity.depositSkuList;if((void 0===i?[]:i).length>0){var o=t.skuExtraData.selectedSkuComb;if(o&&o.id){var a=e.depositOfferMap[o.id],s=0;if((s=n?Math.max.apply(Math,a.helpOffer)||0:a.depositOffer||0)>0)return""+(n?"最高可抵":"可抵")+Object(r.g)(s)}return e.presaleOffsetPriceRange}return"定金预售"},depositPresaleSkuData:function(t,e){var n=t.originNormalSku,i=e.presaleActivity,o=i.depositRatio/100,r=i.minDeposit,a=i.maxDeposit;if(n.list){var s=i.skuDeposit,c=void 0===s?null:s,u=i.deposit,l=void 0===u?null:u,d=dr(n.price,o);return l?d=dr(l):c&&c.length&&(d=dr(c[0].deposit)),Object.assign({},n,{list:n.list.map((function(t){var e=null;if(c)for(var n=0;n<c.length;n++)if(c[n].skuId===t.skuId){e=c[n];break}var i=e?dr(e.deposit):dr(t.price,o);return Object.assign({},t,{oldPrice:t.price,price:i})})),oldPrice:n.price,price:d,minPrice:r,maxPrice:a})}return Object.assign({},n)},isHelpDepositPresale:function(t,e){var n=Object(r.i)(e,"presaleActivity.depositType");return e.isDepositPresale&&"help"===n},isDepositPresaleHelpNotJoin:function(t,e){var n=Object(r.i)(e,"presaleActivity.helpDepositExpansion.joinActivityStatus","");return e.isHelpDepositPresale&&0==+n},isDepositPresaleHelpStart:function(t,e){var n=Object(r.i)(e,"presaleActivity.helpDepositExpansion.joinActivityStatus","");return e.isHelpDepositPresale&&1==+n},isTailPayStart:function(t,e){var n=e.presaleActivity.payStartTime,i=Object(r.i)(t,"presaleActivity.helpDepositExpansion.joinActivityStatus","");return e.isDepositPresaleHelpStart&&n<+new Date||2===i},isDepositPresaleHelpPayed:function(t,e){var n=Object(r.i)(e,"presaleActivity.helpDepositExpansion.joinActivityStatus","");return e.isHelpDepositPresale&&3===n},isTailPayOver:function(t,e){var n=e.presaleActivity.payEndTime;return n&&n<new Date},presaleTitle:function(t,e){return e.isHelpDepositPresale?"定金膨胀流程":"预售流程"},helpDepositPresaleButtons:function(t,e){var n={text:"支付定金",primary:!0},i=e.isHelpDepositPresale,o=e.isDepositPresaleHelpNotJoin,a=e.isDepositPresaleHelpStart,s=e.isTailPayStart,c=e.isDepositPresaleHelpPayed,u=e.homepageUrl,l=e.isDepositPresaleOver,d=e.presaleActivity,p=e.kdtId;if(i){var f=d.helpDepositExpansion,h=void 0===f?{}:f,m=h.voucherId,g=h.activityId,v=h.orderNo;o&&v||(a||s?(n.text=s?"支付尾款":"继续膨胀",n.url=Object(r.c)("/wscump/handsel-expand?voucherId="+m+"&kdt_id="+p+"&activityId="+g,"h5",p)):c&&(n.leftText="",n.leftSub="",n.text="已完成购买，看看其他商品",n.url=u,n.forbid=!0))}return l&&(n.disabled=!0,n.text="已结束",n.forbid=!0),n.url||n.disabled||(n=Object.assign({},n,{skuScene:Pr.n.ACT_BUY,accountUnionScene:Pr.a.NORMAL_BUY})),[n]}}},ic={state:{retail:{show:!1,address:""}},getters:{isRetailShop:function(t){return 7===t.shop.shopType},retailAddressContent:function(t){return t.retail.address||""}},actions:{getRetailShopInfo:function(t){var e=t.getters,n=t.commit;kt.a.get({url:"/v2/showcase/goods/retailSellingShops.json",data:{alias:e.alias}}).then((function(t){t.length>0&&n("getRetailShopInfoSuccess",t[0])})).catch((function(t){}))}},mutations:{getRetailShopInfoSuccess:function(t,e){t.retail={show:e.stock_num>0,address:e.address}}}},oc=null,rc={actions:{fetchSkuData:function(t){var e=t.state,n=t.dispatch,i=Object(r.i)(e,"skuConfig.skuScene",""),o=Promise.resolve();return i===Pr.n.NORMAL_BUY||i===Pr.n.ADD_CART||i===Pr.n.SEL_SKU||i===Pr.n.GIFT_BUY||i===Pr.n.ADD_WISH||Pr.p.has(i)?o=n("fetchNormalSkuData"):i===Pr.n.POINTS_BUY?o=n("fetchPointsSkuData"):i===Pr.n.ACT_BUY&&(o=n("fetchActivitySkuData")),o.then((function(){return n("startSkuJob")}))},fetchNormalSkuData:function(t){var e=t.state,n=t.commit;return n("updateSkuLimit",e.goods.limit),n("updateSkuData",e.originNormalSku),Promise.resolve()},fetchActivitySkuData:function(t){var e=t.state,n=t.getters,i=t.commit,o=Object.assign({},e.goods.limit);if(n.isPresent)o={quota:0,quotaUsed:0,quotaCycle:0};else{var r=n.currentActivity.limit;r&&(r.quota>0||r.singleQuota>0)&&(o=Object.assign({},o,r))}return i("updateSkuLimit",o),i("updateSkuData",Object.assign({},e.originNormalSku,e.originActivitySku)),Promise.resolve()},fetchPointsSkuData:function(t){var e=t.state,n=t.getters,i=t.commit;return i("updateSkuLimit",n.pointsActivity.limit),i("updateSkuData",Object.assign({},e.originNormalSku,e.originPointsSku)),Promise.resolve()},refreshCartCount:function(t){var e=t.state,n=t.commit;e.shopConfig.hideShoppingCart||e.pageSwitch["cart-count"]&&kt.a.get({url:"/wscgoods/detail-api/cart-count.json"}).then((function(t){n("refreshCartCount",t)}))},updateSelectedSkuAndProp:function(t,e){var n=t.state,i=t.getters,o=t.dispatch,r=t.commit;void 0===e&&(e={});var a=i.skuData,s=void 0===a?{}:a;if(s.collectionId){var c=e.selectedSkuComb,u=void 0===c?null:c;u&&s.noneSku&&(u.oldPrice=s.oldPrice,u.pointsPrice=s.pointsPrice),r("setSkuExtraData",Object.assign({},e,{selectedSkuComb:u})),n.isFastBuy&&!n.isFastBuySplit?o("doConfirm"):o("startSkuJob")}}},mutations:{updateSkuData:function(t,e){void 0===e&&(e={}),oc!==e&&(oc=e,t.skuData=Object.assign({},e))},updateSkuLimit:function(t,e){void 0===e&&(e={}),t.limit=Object.assign({},t.limit,e)},refreshCartCount:function(t,e){"number"==typeof e&&(t.cartInfo.count=e)},setCouponDisabled:function(t,e){if(void 0===e&&(e={}),e.type===Pr.e.OPTIMAL){var n=Object(r.i)(t,"orderActivity.coupon",{});if(n){var i=n.optimalCouponList.map((function(t){return t.id===e.id&&(t.disabled=!0),t}));Object.assign(t.orderActivity,{coupon:Object.assign({},n,{optimalCouponList:i})})}}else e.type===Pr.e.UMP&&(t.umpCouponList=t.umpCouponList.map((function(t){return t.id===e.id&&(t.disabled=!0),t})))}}},ac={getters:{timelimitedDiscountActivity:function(t){return Object(r.i)(t,"orderActivity.timelimitedDiscount",{})},isTimelimitedDiscount:function(t){return!!Object(r.i)(t,"orderActivity.timelimitedDiscount",null)},isSupportWish:function(t,e){return e.isTimelimitedDiscount},isTimelimitedDiscountNotStart:function(t,e){var n=e.timelimitedDiscountActivity;return e.isTimelimitedDiscount&&!n.isStarted},timelimitTimeDesc:function(t,e){var n=e.timelimitedDiscountActivity,i=n.discountType,o=n.discount,a=n.decrease,s=n.price,c=n.startTime,u="";return u+={1:"¥"+s+" ",2:(10*o).toFixed(1).replace(/\.0/,"")+"折",3:"减"+Object(r.u)(a,!0,!1)+" "}[i]+"起 ",u+=Object(r.e)(c,"MM.DD HH:mm:ss")+" 开始"},timelimitedDiscountCountdown:function(t,e){var n=e.timelimitedDiscountActivity,i=n.endAt,o=n.startAt,r=n.isStarted;return i?r?{desc:"距结束仅剩",end:i}:{desc:"距开始仅剩",end:o}:null}}},sc={state:{virtualTicket:null},getters:{ecardRules:function(t){var e=t.goodsActivity.virtualTicket||{},n=e.validityType,i=e.effectType,o=e.effectDelayTime,a=e.validityDays,s=e.startDate,c=e.endDate,u=e.isHolidaysAvailable,l=e.instructions,d=[],p=["永久有效",a+"天内使用有效",Object(r.e)(s,"YYYY年MM月DD日")+" - "+Object(r.e)(c,"YYYY年MM月DD日")+"内使用有效","在所选使用日期内当天有效"];d.push(p[n]||"");var f=["立即生效",o+"小时后生效","次日生效"];d.push(f[i]?"购买后"+f[i]:""),d.push("节假日"+(0===u?"不":"")+"可用");var h=t.refund,m=h.isSupport,g=h.type,v=h.interval;if(m){if(0===g)d.push("未使用卡券随时可申请退款");else if(1===g){var y=Math.floor(v/24/60/60/1e3),b=v%864e5,_=Math.floor(b/60/60/1e3),k=y?y+"天":"",w=_?_+"小时":"";d.push("未使用卡券在过期前"+(k+w)+"随时可以申请退款")}}else d.push("不支持申请退款");return l&&d.push(l||""),d},ruleLables:function(t){var e=t.refund.type;return null===(void 0===e?null:e)?["有效期","生效时间","节假日","其他说明"]:["有效期","生效时间","节假日","售后服务","其他说明"]},ecardInstructions:function(t,e){var n=[].concat(e.ecardRules),i=n.pop(),o=n.join("，");return i?[o,"其他说明："+i]:[o]},dateListQuery:function(t){var e=t.goods,n=t.activityInfo,i=t.shop,o=t.goodsActivity.virtualTicket,a=new Date;a.setMonth(a.getMonth()+4),a.setDate(0);var s={alias:e.alias,kdtId:i.kdtId,activityType:n.activityType||0,activityAlias:n.activityAlias,itemId:e.id,beginDate:Object(r.e)(new Date,"YYYY-MM-DD"),endDate:Object(r.e)(a,"YYYY-MM-DD")};return o.itemPreOrderTime&&Object.assign(s,{itemPreOrderTime:o.itemPreOrderTime}),s},virtualCoupon:function(t){return Object(r.i)(t,"goodsActivity.virtualCoupon",{})},skuCouponExtraItem:function(t,e){var n=e.getReadySkuId;return n?Object(r.i)(e,"virtualCoupon.skuExtraModels",[]).filter((function(t){return t.skuId===n}))[0]:null}},actions:{fetchNearDateList:function(t){t.state;var e=t.commit,n=t.getters;return kt.a.get({url:"/wscgoods/getNearDateList.json",data:n.dateListQuery}).then((function(t){void 0===t&&(t={});var n=t.nearlyFourDayMarketableDate,i=void 0===n?[]:n;i=i.map((function(t){var e=new Date(t.stockDate),n=e.getMonth()+1;n=n>9?n:"0"+n;var i=e.getDate();return Object.assign({},t,{day:n+"-"+(i>9?i:"0"+i),price:"¥"+Object(r.u)(Object(r.w)(t.activityPrice,t.originPrice))})})),e("setPriceBarList",i)}))},fetchVirtualDateList:function(t,e){var n=t.state,i=t.commit,o=t.getters,r=e||0;if(n.priceCalendarData[r])return i("updateCalendarActiveSkuId",r),n.priceCalendarData[r];var a=o.dateListQuery;return a.itemSkuId=r,kt.a.get({url:"/wscshop/goods-api/list-date.json",data:a}).then((function(t){var e=wr(t);return i("updateCalendarData",{skuId:r,calendarData:e}),n.priceCalendarData[r]}))}},mutations:{setPriceBarList:function(t,e){t.priceCalendarData.priceBarList=e}}},cc={},uc=function(t,e,n,i){cc[t]&&(clearTimeout(cc[t].timer),cc[t].cancel&&cc[t].cancel(),delete cc[t]),cc[t]={timer:setTimeout((function(){n&&n()}),e),cancel:i}},lc={},dc=[{key:3,val:"0.00"},{key:6,val:"0.00"},{key:12,val:"0.00"}],pc={getters:{isInstallment:function(t){return t.payWays.instalment},isFreeInterest:function(t){return t.payWays.isFreeInterest},installmentList:function(t,e){var n=t.skuExtraData.stepperCount||1,i=(lc[t.installmentCacheKey]||{}).instalmentPrices;if(!i||!e.showInstallmentBar)return dc;var o=[];return Object.keys(i).forEach((function(t){o.push({key:+t,val:Number((i[t]*n).toFixed(2))})})),o.sort((function(t,e){return t.key-e.key}))}},actions:{skuInstallentCheck:function(t,e){var n=t.state,i=t.commit,o=t.getters;t.dispatch;if(o.showInstallmentBar){var r={goodsId:n.goods.id,kdtId:o.kdtId};e.isPreReady?r.price=e.price:r.price=e.minPrice;var a=r.price;i("REST_INSTALLMENT_COUNT");var s,c=Promise.resolve(lc[a]);return lc[a]||(c=(s="installment",new Promise((function(t,e){uc(s,500,(function(){t()}),(function(){e("debounce cancel")}))}))).then((function(){return kt.a.get({url:"/wscshop/sku/installment-price.json",data:r})})).then((function(t){return lc[a]=t,t}))),c.then((function(t){var e=t.installmentRate,n=t.isGrey;i("SET_INSTALLMENT_ORDER",void 0!==n&&n),i("setSkuExtraData",{installmentRate:e}),i("SET_INSTALLMENT_CACHE_KEY",a)}))}}},mutations:{SET_INSTALLMENT_COUNT:function(t,e){var n=t.skuExtraData.selectedInstallmentPeriod===e;t.skuExtraData=Object.assign({},t.skuExtraData,{selectedInstallmentPeriod:n?0:e})},REST_INSTALLMENT_COUNT:function(t){t.skuExtraData=Object.assign({},t.skuExtraData,{installmentRate:0,selectedInstallmentPeriod:0})},SET_INSTALLMENT_ORDER:function(t,e){t.noInstallmentOrder=e},SET_INSTALLMENT_CACHE_KEY:function(t,e){t.installmentCacheKey=e}},state:{installmentCacheKey:"",noInstallmentOrder:!0}},fc=n("iIFF");function hc(){return wt.a.get("floatingNav").then((function(t){return t.vm}))}var mc={getters:{wishActionSheetConfig:function(t){var e=[{id:0,name:"加入心愿单"},{id:1,name:"请TA来买单"}];return e[0].name=t.wish.added?"移出心愿单":"加入心愿单",e}},actions:{initWishProcess:function(t){var e=t.dispatch,n=t.commit,i=t.state,o=t.getters;o.isSupportWish&&i.wish.isOpen&&e("checkIsWishAdded"),hc().then((function(t){t.$on("btn:click",(function(t){if(3===t.navType){if(i.wish.isOpen&&o.isSupportWish)return n("SET_WISH_LIST_URL",t.linkUrl),n("UPDATE_ACTION_SHEET",!0);Object(Ma.h)(t.linkUrl)}}))}))},clickWishButton:function(t){var e=t.state,n=t.commit,i=t.dispatch,o=e.goods.id,r=e.shop.kdtId;e.wish.added?kt.a.delete({url:"/v2/trade/wish/list.json?kdt_id="+r,data:{goods_id:o},cache:!1,timeout:15e3}).then((function(){Object(St.default)("取消成功"),n("UPDATE_WISH_BUTTON_STATUS",{added:!1})})).catch((function(t){Object(St.default)(t.msg)})):i("triggerSku",{isAddWish:!0,skuScene:Pr.n.ADD_WISH,accountUnionScene:Pr.a.NORMAL_BUY,type:"addWish"})},addWish:function(t){var e=t.state,n=t.commit,i=e.shop.kdtId,o=e.postData,r=Ss(void 0===o?{}:o),a=r.goodsList,s=r.common,c=Object.assign({},a[0],s);kt.a.post({url:"/v2/trade/wish/add.json?kdt_id="+i,data:c}).then((function(){n("UPDATE_WISH_BUTTON_STATUS",{added:!0}),n("postDataFinished"),fc.a.$emit("wish:add",!0)}),(function(t){if(13021===t.code)return Object(Ma.h)(t.data.redirectUrl);n("postDataFinished"),Object(St.default)(t)}))},checkIsWishAdded:function(t){var e=t.state,n=t.commit,i=(t.getters,e.goods.id),o=e.shop.kdtId;kt.a.post({url:"/v2/trade/wish/isAdded.json?kdt_id="+o,data:{goods_ids:[i]}}).then((function(t){void 0===t&&(t={});var e=(t[i]||{}).isWishAdded;n("UPDATE_WISH_BUTTON_STATUS",{added:void 0!==e&&e})})).catch((function(t){}))}},mutations:{SET_WISH_LIST_URL:function(t,e){t.wish.listUrl=e},UPDATE_ACTION_SHEET:function(t,e){t.wish.showWishActions=e},UPDATE_WISH_BUTTON_STATUS:function(t,e){t.wish=Object.assign({},t.wish,e),fc.a.$emit("wish:add",e.added),hc().then((function(t){return t.$emit("wishStateChange",{like:e.added})}))}},state:{wish:{isOpen:!1,showWishActions:!1,added:!1,listUrl:"https://trade.youzan.com/wxpay/wish?kdt_id=491391"}}},gc={getters:{couponActivity:function(t){return Object(r.i)(t,"orderActivity.coupon",{})},hasCouponActivity:function(t,e){return!!Object(r.i)(t,"orderActivity.coupon",null)},optimalCouponList:function(t,e){return(e.couponActivity.optimalCouponList||[]).slice(0,20)},preferentialPrice:function(t,e){return e.couponActivity.preferentialPrice||""},preferentialPriceTag:function(t,e){return e.hasCouponActivity?br(e.preferentialPrice):null}},actions:{},mutations:{},state:{}},vc=window._global||{};function yc(t){void 0===t&&(t={}),vc.copy_info=Go()(vc.copy_info,t)}function bc(t){void 0===t&&(t={}),vc.poster_info=Go()(vc.poster_info,t)}function _c(t){void 0===t&&(t={}),t&&"object"==typeof t&&wt.a.emit("wxsdk:setShareData",t)}function kc(t){if("function"!=typeof t)return!1;var e=window.__shareHooks||[];e.push(t),window.__shareHooks=e}var wc,Sc={state:{},getters:{},actions:{beforeSetGlobalShare:function(){return Promise.resolve()},beforeSetWxShare:function(){return{}},beforeSetCopyLinkShare:function(){return{}},beforeSetPosterShare:function(){return{}},setGlobalShare:function(t){var e=t.dispatch;return e("beforeSetGlobalShare").then((function(){return Promise.all([e("beforeSetWxShare"),e("beforeSetCopyLinkShare"),e("beforeSetPosterShare")])})).then((function(t){var e=t[0],n=t[1],i=t[2];_c(e),yc(n),bc(i)}))}},mutations:{}},Cc=function(){function t(t,e,n){var i=this;void 0===e&&(e=null),void 0===n&&(n=500),this.config=[],this.cacheData={"-1":this.cloneObject(e)},this.jobId=0,(t||[]).forEach((function(t,e){i.cacheData[e]=null,i.config.push(Object.assign({},t))})),this.debounceTime=n,this.resetCurrent()}var e=t.prototype;return e.setStartData=function(t){this.cacheData[-1]=t},e.resetCurrent=function(){this.current={step:-1,resolve:null,reject:null}},e.start=function(t){var e=this,n=0;if(t&&-1===(n=this.config.findIndex((function(e){return e.name===t}))))return Promise.reject({error:"没有找到对应任务"});var i=this.current,o=i.step,r=i.reject;if(o>-1){if(o<n)return Promise.reject({cancel:"有更高优先级任务在跑"});r({cancel:"有新高优先级任务"})}return new Promise((function(t,i){e.current={step:n,resolve:t,reject:i},e.jobId+=1,e.runJob()}))},e.cloneObject=function(t){return t?JSON.parse(JSON.stringify(t)):null},e.runJob=function(){var t=this,e=this.current,n=e.step,i=e.reject,o=this.config[n],r=this.cloneObject(this.cacheData[n-1]),a=this.jobId;try{var s=o.func?o.func(r):r;if("function"==typeof s){var c=setTimeout((function(){a===t.jobId&&(t.current.reject=i,s().then((function(e){a===t.jobId&&(t.cacheData[n]=e,t.next())})).catch((function(e){a===t.jobId&&t.error(e)})))}),this.debounceTime);this.current.reject=function(){clearTimeout(c),i.apply(void 0,arguments)}}else this.cacheData[n]=s,this.next()}catch(t){this.error(t)}},e.next=function(){var t=this.current,e=t.step,n=t.resolve;if(e<0||e>=this.config.length)throw new Error("未知错误");e===this.config.length-1?(n(this.cacheData[e]),this.resetCurrent()):(this.current.step+=1,this.runJob())},e.error=function(t){var e=this.current.reject;e&&e(t),this.resetCurrent()},t}(),Pc=["pointsPriceText","minPrice","maxPrice","pointsPrice","oldMinPrice","oldMaxPrice","price","oldPrice"],xc=[Pr.m.LadderGroupOn,Pr.m.PriceCalendar,Pr.m.PropPrice,Pr.m.Commit,Pr.m.AfterCommit],Oc=((wc={})[Pr.m.LadderGroupOn]=function(t,e){t.dispatch;var n=t.commit,i=t.getters,o=t.state,a=o.skuConfig.skuScene;if(!i.isLadderGroupOn||a!==Pr.n.ACT_BUY)return e;var s=i.currentActivity.ladderList,c=o.skuExtraData.selectedScale,u=e.id&&c?{price:-1,isPreReady:!0}:{priceRangeTypeStart:!0,isPreReady:!1,minPrice:-1,maxPrice:-1},l=e.isPreReady&&e.id?e.id:0;return n("SET_LADDER_PRICES",s[l].map((function(t){return u.priceRangeTypeStart?(u.minPrice=u.minPrice<0?t.skuPrice:Math.min(u.minPrice,t.skuPrice),u.maxPrice=u.maxPrice<0?t.skuPrice:Math.max(u.maxPrice,t.skuPrice)):c===t.scale&&(u.price=t.skuPrice),Object.assign({},t,{price:Object(r.g)(t.skuPrice)+(l||t.minPrice===t.maxPrice?"":"起")})}))),Object.assign({},e,u)},wc[Pr.m.PriceCalendar]=function(t,e){var n=t.dispatch,i=t.commit,o=t.getters,a=t.state;if(!o.isPriceCalendar)return e;var s=e.isPreReady&&e.id?e.id:0,c=a.priceCalendarData,u=c.activeSkuId,l=c.selected;return u!==s?(i("clearSelectedCalendar"),a.priceCalendarData[s]?(i("updateCalendarActiveSkuId",s),e):s?function(){return n("fetchVirtualDateList",s).then((function(){return e}))}:(i("updateCalendarData",{skuId:s,calendarData:_r(e.minPrice)}),e)):(s&&l&&(void 0!==l.activityPrice?(e.price=l.activityPrice,e.oldPrice=l.originPrice):e.price=l.originPrice,e.price=Object(r.w)(l.activityPrice,l.originPrice)),e)},wc[Pr.m.PropPrice]=function(t,e){t.dispatch,t.commit;var n=t.getters,i=t.state,o=e.isPreReady&&e.id?e.id:0;return!o||e.propertyPrice<=0?e:(e.oldPrice>-1&&(e.oldPrice+=e.propertyPrice),n.isPropSync?function(){return kt.a.post({url:"/wscgoods/detail-api/calculate-price.json",data:{itemId:i.goods.id,kdtId:i.shop.kdtId,skuId:o,itemSalePropList:JSON.stringify(e.properties),activity:JSON.stringify(n.activityInfoForPrice)}}).then((function(t){return!t||void 0===t.umpTotalPrice&&void 0===t.pointNum||(e.price=t.umpTotalPrice||0),Promise.resolve(e)}))}:(e.price+=e.propertyPrice,e))},wc[Pr.m.Commit]=function(t,e){var n=t.state,i=(t.dispatch,t.commit),o=(t.getters,gr(e,n.goods.pointsName)),r=o.showPrice,a=o.showOldPrice,s=Object.assign({},e,{showPrice:r,showOldPrice:a});return i("SET_SKU_MANAGER_INFO",s),s},wc[Pr.m.AfterCommit]=function(t,e){var n=t.dispatch;t.commit,t.getters;return n("skuInstallentCheck",e),e},wc),Tc=[mc,Hs,Qs,Zs,nc,ic,rc,ac,sc,qs,pc,gc,Sc,{state:{},actions:{startSkuJob:function(t,e){var n=t.state.skuManager.job,i=t.getters,o=i.selectedSkuAndProp,r=i.skuData,a=i.selectedSkuAndPropTree,s=Object.assign({},a);o?Object.assign(s,Object.assign({},o,{isPreReady:!0})):(s.isPreReady=!1,Pc.forEach((function(t){void 0!==r[t]&&(s[t]=r[t])}))),n?n.setStartData(s):(n=new Cc(xc.map((function(e){return{name:e,func:function(n){return Oc[e](t,n)}}})),s),t.commit("INIT_JOB_MANAGER",n)),n.start(e)}},getters:{selectedSkuAndProp:function(t,e){return e.baseSelectedSkuAndProp},baseSelectedSkuAndProp:function(t,e){var n=t.skuExtraData,i=t.goods.itemSalePropList,o=void 0===i?[]:i,r=e.skuData,a=void 0===r?{}:r,s=n.selectedSkuComb,c=void 0===s?null:s,u=a.noneSku;return c||(u&&o.length<1?{id:a.collectionId,price:a.price,oldPrice:a.oldPrice,pointsPrice:a.pointsPrice,pointsPriceText:a.pointsPriceText,stockNum:a.stockNum,propertyPrice:0}:null)},selectedSkuAndPropTree:function(t,e){var n=t.skuExtraData,i=n.selectedSku,o=void 0===i?{}:i,a=n.selectedProp,s=void 0===a?{}:a,c=[],u=[];return Object(r.i)(e,"skuData.tree",[]).forEach((function(t){o[t.kS]?t.v.some((function(e){return e.id===o[t.kS]&&(c.push(e.name),!0)})):u.push(t.k)})),Object(r.i)(t,"goods.itemSalePropList",[]).forEach((function(t){if(s[t.kId]&&s[t.kId].length>0){var e={};s[t.kId].forEach((function(t){return e[t]=1})),(t.v||[]).forEach((function(t){e[t.id]&&c.push(t.name)}))}else u.push(t.k)})),{selected:c,unselected:u}},isPropSync:function(t,e){var n=e.selectedSkuAndProp;if(n&&n.propertyPrice>0){var i=t.skuConfig,o=void 0===i?{}:i,r=t.orderActivity,a=void 0===r?{}:r,s=o.skuScene||"",c=a.timelimitedDiscount,u=a.discount;if(s===Pr.n.ACT_BUY||s===Pr.n.POINTS_BUY||c||u)return!0}return!1},getReadySkuId:function(t){var e=t.skuManager.infos,n=e.id,i=void 0===n?0:n;return e.isPreReady?i:0}},mutations:{INIT_JOB_MANAGER:function(t,e){t.skuManager.job=e},SET_SKU_MANAGER_INFO:function(t,e){t.skuManager.infos=e||{}}}},{state:{shareBenefit:{shareTag:""}},getters:{shareBenefitActivity:function(t){return Object(r.i)(t,"orderActivity.shareBenefit",{})},hasShareBenefitActivity:function(t){return!!Object(r.i)(t,"orderActivity.shareBenefit",null)}},actions:{beforeSetGlobalShare:function(t){var e=t.dispatch;return kc((function(){return e("setShareBenefitTag")})),Promise.resolve()},setShareBenefitTag:function(t){var e=t.state,n=t.getters,i=t.dispatch,o=n.hasShareBenefitActivity,a=Object(r.i)(e,"shareBenefit.shareTag","");return o&&Object(Fa.a)()&&!a?i("getShareBenefitTag").then((function(t){if("object"==typeof t){var e=r.b.add(Object(r.i)(window,"_global.share.link",""),t),n=Object(r.i)(window,"_global.poster_info.more.url","")||location.href;_c({link:e}),yc({query:t}),bc({more:{url:r.b.add(n,t)}})}})):Promise.resolve()},getShareBenefitTag:function(t){var e=t.getters,n=t.commit,i=e.shareBenefitActivity.activityAlias;return kt.a.get({url:"/wscgoods/activity-api/get-share-tag.json",data:{activityAlias:i,kdtId:e.kdtId}}).then((function(t){var e=(t||{}).alias;return n("setShareTag",e),{shareTag:e}})).catch((function(t){return console.error(t),t}))}},mutations:{setShareTag:function(t,e){t.shareBenefit.shareTag=e}}}].reduce((function(t,e){return vr(t,e)}),{});o.default.use(lr.default);var Ic=[{state:La,getters:Qa,actions:Ka,mutations:Na},Tc,$s].reduce((function(t,e){return vr(t,e)}),{}),Ac=new lr.default.Store(Object.assign({},{state:{},getters:{},actions:{},mutations:{}})),Bc=vr({},Ic),jc=_global.design,Dc=["image-block","base-info-block"];function Ec(){var t=[],e=function(t){return-1!==Dc.indexOf(t.type)};if(Array.isArray(jc))t=jc.filter(e);else{var n=jc.pic,i=void 0===n?[]:n,o=jc.main;t=[].concat(i,void 0===o?[]:o).filter(e)}return t}var Lc,Nc,Mc,Fc,Rc={components:{"image-block":Mi,"base-info-block":ur},data:function(){return{allowBlocks:Ec()}},beforeCreate:function(){this.$store.registerModule(["page"],Bc)}},Uc=Object(Rn.default)(Rc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.allowBlocks,(function(e){return n(e.type,t._b({key:e.type,tag:"component",attrs:{"first-page":!0}},"component",e.extra,!1))})),1)}),[],!1,null,null,null).exports,Wc={name:"GoodsBottomRisk",components:{"van-notice-bar":vo.default},getters:["shopRisk"]},Gc=Object(Rn.default)(Wc,(function(){var t=this.$createElement,e=this._self._c||t;return this.shopRisk.match?e("van-notice-bar",{attrs:{text:this.shopRisk.note,mode:"","left-icon":"",background:"#fbe6e9",color:"#666"}}):this._e()}),[],!1,null,null,null).exports,$c=(n("esGP"),n("RFmq"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["cap-countdown","cap-countdown--"+t.timeStyle]},[t._t("default",[!t.hideZeroDay||t.hasDay?[n("span",{staticClass:"cap-countdown__day"},[t._v(t._s(t.day))]),t._v(" "),n("span",{staticClass:"cap-countdown__time-text"},[t._v(t._s(t.dayUnit))])]:t._e(),t._v(" "),!t.hideZeroHour||t.hasHour?[n("span",{staticClass:"cap-countdown__hour"},[t._v(t._s(t.hour))]),t._v(" "),n("span",{staticClass:"cap-countdown__time-text"},[t._v(t._s(t.hourUnit))])]:t._e(),t._v(" "),n("span",{staticClass:"cap-countdown__minute"},[t._v(t._s(t.minute))]),t._v(" "),n("span",{staticClass:"cap-countdown__time-text"},[t._v(t._s(t.minuteUnit))]),t._v(" "),n("span",{staticClass:"cap-countdown__second"},[t._v(t._s(t.second))]),t._v(" "),n("span",{staticClass:"cap-countdown__time-text"},[t._v(t._s(t.secondUnit))]),t._v(" "),t.supportMs?[n("span",{staticClass:"cap-countdown__ms"},[t._v(t._s(t.ms))]),t._v(" "),n("span",{staticClass:"cap-countdown__time-text"},[t._v(t._s(t.msUnit))])]:t._e()])],2)},staticRenderFns:[],name:"cap-countdown",props:{start:{type:[Date,Number],default:function(){return new Date}},end:{type:[Date,Number],default:function(){return new Date}},preventInit:{type:Boolean,default:!1},hideZeroDay:{type:Boolean,default:!1},hideZeroHour:{type:Boolean,default:!1},timeSeparator:{type:Array,default:function(){return[":",":",":","",""]}},timeStyle:{type:String,default:"black"},supportMs:{type:Boolean,default:!1}},data:function(){return{now:null,ended:!1,started:!1,countdown:{day:0,hour:0,minute:0,second:0},timer:null}},computed:{hasDay:function(){return 0!==this.countdown.day},hasHour:function(){return 0!==this.countdown.hour},day:function(){return this.leftPad(this.countdown.day)},hour:function(){return this.leftPad(this.countdown.hour)},minute:function(){return this.leftPad(this.countdown.minute)},second:function(){return this.leftPad(this.countdown.second)},ms:function(){return this.countdown.ms?this.leftPad(this.countdown.ms):"00"},dayUnit:function(){return this.getUnit(0)},hourUnit:function(){return this.getUnit(1)},minuteUnit:function(){return this.getUnit(2)},secondUnit:function(){return this.getUnit(3)},msUnit:function(){return this.getUnit(4)||""}},watch:{now:function(){this.updateCountdown()},countdown:function(t){this.$emit("timechange",t)},start:function(){this.initCountdown()},end:function(){this.initCountdown()}},created:function(){this.preventInit||this.initCountdown()},methods:{leftPad:function(t){var e=+t;return isNaN(e)?t:e>9?e:"0"+e},getUnit:function(t){return this.timeSeparator[t]},initCountdown:function(){var t=this;this.timer&&clearInterval(this.timer);var e=this.supportMs?10:1e3;this.now=new Date,this.timer=setInterval((function(){t.now=new Date(t.now.getTime()+e)}),e)},updateCountdown:function(){this.now<this.start?this.countdown=this.getCountdown(this.now,this.start):this.now<this.end?(this.started||(this.started=!0,this.$emit("countdown-started")),this.countdown=this.getCountdown(this.now,this.end)):this.setCountdownOver()},getCountdown:function(t,e){var n=parseInt((e-t)%1e3/10,10),i=parseInt((e-t)/1e3,10),o=i%60,r=(i=parseInt(i/60,10))%60,a=(i=parseInt(i/60,10))%24;return{day:parseInt(i/24,10),hour:a,minute:r,second:o,ms:n}},setCountdownOver:function(){clearInterval(this.timer),this.ended=!0,this.countdown={day:0,hour:0,minute:0,second:0},this.$emit("countdown-ended")}}}),qc=n("x7Zg"),Hc={name:"MultiStoreBar",getters:["availableStores"],components:(Lc={},Lc[qc.a.name]=qc.a,Lc),data:function(){return{show:!1,text:"该门店商品已售罄，你可以去其他门店购买"}},mounted:function(){var t=this;this.$nextTick((function(){t.show=!0}))},methods:{showPop:function(){this.show=!0},hidePop:function(){this.show=!1}}},Vc=(n("AnG/"),Object(Rn.default)(Hc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"goods-bottom-bar goods-bottom-bar--space-between"},[t._v("\n    "+t._s(t.text)+"\n    "),n("span",{on:{click:t.showPop}},[t._v("\n      去看看\n      "),n("van-icon",{attrs:{name:"arrow"}})],1)]),n("content-pop",{attrs:{"show-button":!1},on:{close:t.hidePop},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"available-store__title",attrs:{slot:"title"},slot:"title"},[n("h5",{staticClass:"available-store__title-text"},[t._v("\n        "+t._s(t.text)+"\n      ")]),n("van-icon",{staticClass:"available-store__title-icon",attrs:{size:"22",name:"cross"},on:{click:t.hidePop}})],1),n("div",{staticClass:"available-store__list"},t._l(t.availableStores,(function(e){return n("a",{key:e.id,staticClass:"available-store__item",attrs:{href:e.link}},[n("p",{staticClass:"available-store__item-name"},[t._v(t._s(e.name))]),e.distance?n("p",{staticClass:"available-store__item-distance"},[n("van-icon",{attrs:{name:"location-o"}}),t._v("\n          距离\n          "+t._s(t._f("formatDistance")(e.distance))+"\n        ")],1):t._e()])})),0)])],1)}),[],!1,null,null,null).exports),zc={name:"GoodsBottomBar",state:["clientTimestamp","goodsActivity"],getters:["waitToSoldCountdown","isSupportFCodeBuy","showAvailableStores","hideAvailableStores","goodsBottomBarTip"],components:(Nc={},Nc[Vc.name]=Vc,Nc[$c.name]=$c,Nc),data:function(){return{now:+new Date,fCodeLink:"//h5.youzan.com/wscump/fcode/detail"}},computed:{isMoreDay:function(){return!!this.waitToSoldCountdown&&this.waitToSoldCountdown.end-this.clientTimestamp>864e5},moreDayText:function(){return this.isMoreDay?"商品将在 "+Lo()(this.goodsActivity.waitToSold.startSoldTime,"YYYY-MM-DD HH:mm:ss")+" 开售":""}}},Yc=(n("AmKA"),Object(Rn.default)(zc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showAvailableStores&&!t.hideAvailableStores?n("multi-store-bar"):t.goodsBottomBarTip.text?n("p",{staticClass:"goods-bottom-bar"},[n("a",{staticClass:"goods-bottom-bar__text",class:{diabled:!t.goodsBottomBarTip.url},attrs:{href:t.goodsBottomBarTip.url}},[t._v("\n      "+t._s(t.goodsBottomBarTip.text)+"\n    ")])]):t.waitToSoldCountdown?n("p",{staticClass:"goods-bottom-bar goods-bottom-bar__countdown"},[t.isMoreDay?n("span",[t._v("\n      "+t._s(t.moreDayText)+"\n    ")]):t.waitToSoldCountdown?[t._v("\n      距离开售还剩\n      "),n("cap-countdown",{staticClass:"activity-banner__countdown-detail",attrs:{end:t.waitToSoldCountdown.end,"hide-zero-day":!0,"time-separator":["天","时","分","秒"]},on:{"countdown-ended":function(e){t.$dispatch("countdownEnded")}}})]:t._e()],2):t._e()],1)}),[],!1,null,null,null).exports),Kc={name:"GoodsPlusBtns",state:["displayPop"],props:{buttons:Array}},Qc=(n("lFcI"),Object(Rn.default)(Kc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-popup",{class:["plus-buttons",{"plus-buttons--show":t.displayPop.miniMorePopShow}],attrs:{"lock-scroll":!1,position:"bottom"},model:{value:t.displayPop.miniMorePopShow,callback:function(e){t.$set(t.displayPop,"miniMorePopShow",e)},expression:"displayPop.miniMorePopShow"}},[n("ul",{staticClass:"plus-buttons__list"},t._l(t.buttons,(function(e){return n("van-goods-action-icon",{key:e.type,staticClass:"plus-buttons__item",attrs:{text:e.text,icon:e.icon,info:e.info},on:{click:function(n){t.$dispatch("handleMiniButtonClick",e)}}})})),1)])}),[],!1,null,null,null).exports),Zc={name:"GoodsBottomBtns",getters:["miniButtonsData","plusButtonsData","bigButtonList"],components:(Mc={},Mc[Qc.name]=Qc,Mc)},Jc=(n("MAVt"),Object(Rn.default)(Zc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-goods-action",{staticClass:"goods-buttons"},[n("div",{staticClass:"goods-buttons__mini"},[t._l(t.miniButtonsData,(function(e){return n("van-goods-action-icon",{key:e.type,class:[e.className],attrs:{text:e.text,icon:e.icon,info:e.info},on:{click:function(n){t.$dispatch("handleMiniButtonClick",e)}}})})),t.plusButtonsData.length>0?n("goods-plus-btns",{attrs:{buttons:t.plusButtonsData}}):t._e()],2),t._l(t.bigButtonList,(function(e){return n("van-goods-action-button",{key:e.skuScene,class:["goods-buttons__big",e.share?"js-open-share":"",e.primary?"theme__button--main":"theme__button--vice",e.disabled?"goods-buttons--disabled":""],attrs:{text:e.text,primary:e.primary},on:{click:function(n){t.$dispatch("handleBigButtonClick",e)}}},[e.leftText?n("div",{staticClass:"goods-buttons__big-col",class:{"goods-buttons__font-sm":e.leftText.length>10}},[n("p",{class:{"goods-buttons__font-xl":!e.leftSub}},[t._v("\n        "+t._s(e.leftText)+"\n      ")]),e.leftSub?n("p",[t._v(t._s(e.leftSub))]):t._e()]):t._e(),n("div",{staticClass:"goods-buttons__big-col"},[n("p",{class:{"goods-buttons__font-xl":!e.sub}},[t._v(t._s(e.text))]),e.sub?n("p",{class:{"goods-buttons__font-s":e.sub.length>12}},[t._v("\n        "+t._s(e.sub)+"\n      ")]):t._e()])])}))],2)}),[],!1,null,null,null).exports),Xc={name:"GoodsBottomGrouponTip",state:["shop","activityInfo"],getters:["grouponGoingList","kdtId"],data:function(){return{avatarPlaceHolder:"https://b.yzcdn.cn/public_files/7143018bfc43039e852fb01459585d7b.png"}},computed:{joinUrl:function(){var t=this.firstGrouponGoing,e=this.kdtId,n=t.groupAlias,i=void 0===n?"":n,o=(this.activityInfo||{}).activityType,a=void 0===o?4:o;return Object(r.c)("/wscump/collage/groupon/detail?kdt_id="+e+"&alias="+i+"&type="+a,"h5",e)},firstGrouponGoing:function(){var t=this.grouponGoingList,e=void 0===t?[]:t;return e.length?e[0]:{}}}},tu=(n("7QPm"),Object(Rn.default)(Xc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.grouponGoingList.length>0?n("van-cell",{staticClass:"goods-buttom-groupon-tip",attrs:{url:t.joinUrl,value:"快速凑团","title-class":"goods-buttom-groupon-tip__title","is-link":"",center:""}},[n("template",{slot:"title"},[n("aside",{staticClass:"goods-buttom-groupon-tip__title-avatars"},[n("img",{staticClass:"goods-buttom-groupon-tip__title-avatar-up",attrs:{src:t.firstGrouponGoing.fansPicture}}),n("img",{staticClass:"goods-buttom-groupon-tip__title-avatar",attrs:{src:t.avatarPlaceHolder}})]),n("p",{staticClass:"goods-buttom-groupon-tip__title-desc"},[t._v("\n      "+t._s(t.firstGrouponGoing.fansNickname)+"的团只差\n      "),n("b",{},[t._v(t._s(t.firstGrouponGoing.remainJoinNum))]),t._v(" 人\n    ")])])],2):t._e()}),[],!1,null,null,null).exports);function eu(t,e,n){var i=void 0===n?{}:n,o=i.tryTime,r=void 0===o?2:o;i.useLoading;return function(){return function(){for(var e=t();r;)e=e.catch((function(e){return t()})),r--;return e}().catch((function(t){return Object(yt.c)(e+" 组件加载失败",{error:t}),{render:function(t){return t("div")}}}))}}var nu,iu=eu((function(){return n.e(36).then(n.bind(null,"gCal"))}),"./components/InSourcingFissionTip"),ou={name:"GoodsBottom",state:["env","shopConfig","hideFastBuyBottom","saas"],getters:["isGroupOn","isVerified","isShowInSourcingFissionTip"],components:(Fc={},Fc[Gc.name]=Gc,Fc[Yc.name]=Yc,Fc[Jc.name]=Jc,Fc[tu.name]=tu,Fc.InSourcingFissionTip=iu,Fc)},ru=(n("sANG"),Object(Rn.default)(ou,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.shopConfig.isCloseBusiness||t.hideFastBuyBottom||!t.isVerified?t._e():n("div",{staticClass:"goods-bottom content"},[n("goods-bottom-risk"),n("goods-bottom-bar"),t.isShowInSourcingFissionTip?n("in-sourcing-fission-tip"):t._e(),t.isGroupOn?n("goods-bottom-groupon-tip"):t._e(),t.saas.submitBlock.showGoodsBottom.value?n("goods-bottom-btns"):t._e(),t._t("default")],2)}),[],!1,null,null,null).exports),au={name:"SubmitBlock",components:(nu={},nu[ru.name]=ru,nu),state:["env"]},su=Object(Rn.default)(au,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.env.hideGoodsBottom?this._e():e("goods-bottom",[this._t("default")],2)],1)}),[],!1,null,null,null).exports,cu=n("bqcR"),uu=n.n(cu),lu=n("A/2y"),du=n.n(lu),pu=Object(r.i)(window._global,"safeLinkPath",[]);function fu(t){du()(t).on("click","a",(function(t){if(Object(Ot.c)()){if(function(t){var e=Object(En.d)(t.getAttribute("href"));if(""===e||0===e.indexOf("#")||0===e.indexOf("javascript:;")||Object(En.c)(t,"js-no-follow"))return!1;return!0}(this)){var e=this.getAttribute("href");try{var n=new uu.a(e);if(0===pu.filter((function(t){return 0===n.pathname.indexOf(t)})).length)return t.preventDefault(),t.stopPropagation(),console.log("[快手拦截非安全 path 的跳转]"),!1}catch(t){}}}}))}var hu,mu,gu=n("4pfj"),vu=n("ZqTd"),yu=(n("+t4G"),n("D+nY")),bu={model:{prop:"visible",event:"change"},props:{visible:{required:!0,type:Boolean},closeOnClickOverlay:{type:Boolean,default:!1}},methods:{onClickOverlay:function(){this.closeOnClickOverlay&&this.handleClose()},handleClose:function(){this.$emit("close"),this.$emit("change",!1)}}},_u=(n("ShtI"),{name:"MobileOneclickLoginBlock",state:["oneclickLoginInfo"],getters:["mobileAuthInfo","isNeedShowMobileAuth"],components:{"cap-mobile-auth":{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-popup",{staticClass:"cap-mobile-auth",attrs:{value:t.visible,"close-on-click-overlay":t.closeOnClickOverlay},on:{"click-overlay":t.onClickOverlay}},[n("van-icon",{staticClass:"cap-mobile-auth__close",attrs:{name:"cross",color:"#999"},on:{click:t.handleClose}}),t._v(" "),n("h3",{staticClass:"cap-mobile-auth__title"},[t._v("\n    手机号授权\n  ")]),t._v(" "),n("img",{staticClass:"cap-mobile-auth__logo",attrs:{src:t.imgShopUrl,width:"36",height:"36"}}),t._v(" "),n("div",{staticClass:"cap-mobile-auth__name"},[t._v("\n    "+t._s(t.nameShop)+"\n  ")]),t._v(" "),n("div",{staticClass:"cap-mobile-auth__hr"}),t._v(" "),t.nameApp?n("div",{staticClass:"cap-mobile-auth__desc"},[t._v("\n    申请获取你在"+t._s(t.nameApp)+"绑定的手机号\n  ")]):n("div",{staticClass:"cap-mobile-auth__desc"},[t._v("\n    申请获取你的手机号\n  ")]),t._v(" "),n("div",{staticClass:"cap-mobile-auth__mobile"},[t._v("\n    "+t._s(t.phoneToString.slice(0,3)+"****"+t.phoneToString.slice(7,t.phoneToString.length))+"\n  ")]),t._v(" "),n("van-button",{staticClass:"cap-mobile-auth__button",attrs:{size:"large",type:"primary"},on:{click:t.handleConfirm}},[t._v("\n    确认授权\n  ")]),t._v(" "),n("div",{staticClass:"cap-mobile-auth__extra"},[t._v("\n    授权即代表同意 "),n("a",{attrs:{href:"https://www.youzan.com/intro/rule/detail?alias=4f234e2f&pageType=rules"}},[t._v("用户协议")]),t._v("、"),n("a",{attrs:{href:"https://www.youzan.com/intro/rule/detail?alias=132atyi19&pageType=rules"}},[t._v("隐私政策")])])],1)},staticRenderFns:[],name:"cap-mobile-auth",components:{"van-icon":je.default,"van-popup":rn.default,"van-button":nn.default},mixins:[bu],props:{visible:{required:!0,type:Boolean},phone:{required:!0,type:[String,Number]},imgShopUrl:{required:!0,type:String},nameShop:{required:!0,type:String},nameApp:{type:String,default:""},kdtId:{required:!0,type:Number,default:0}},computed:{phoneToString:function(){return Object(yu.f)(this.phone)}},methods:{handleConfirm:function(){var t=this,e={mobile:this.phoneToString,kdtId:this.kdtId};return Object(Uo.default)({method:"POST",data:e,url:"https://passport.youzan.com/mobile-authentication/mobile-auth.json",withCredentials:!0,options:{rawResponse:!0}}).then((function(e){0===e.code?t.$emit("success"):Object(St.default)(e.msg)})).catch((function(t){var e=t.code||"",n=t.msg||t.message||"";Object(St.default)(e+" "+n)}))}}}},methods:{doLoginSuccess:function(){this.$dispatch("doSuccess")},doClose:function(){this.$dispatch("doClose")}},created:function(){this.isNeedShowMobileAuth&&this.$dispatch("doRenderOneClickLogin")}}),ku=Object(Rn.default)(_u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.oneclickLoginInfo.needShowOneclickLogin?n("cap-mobile-auth",{attrs:{visible:t.mobileAuthInfo.visible,phone:t.mobileAuthInfo.phone,"kdt-id":t.mobileAuthInfo.kdtId,"img-shop-url":t.mobileAuthInfo.imageShopUrl,"name-shop":t.mobileAuthInfo.shopName,"name-app":t.mobileAuthInfo.appName},on:{success:t.doLoginSuccess,close:t.doClose}}):t._e()}),[],!1,null,null,null).exports,wu={name:"fixed-bottom-block",components:(hu={},hu[gu.default.name]=gu.default,hu[su.name]=su,hu[vu.default.name]=vu.default,hu[ku.name]=ku,hu),state:["displayPop"]},Su=(n("fqLD"),Object(Rn.default)(wu,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"module-bottom",class:this.displayPop.maskShow?"module-bottom-upper":""},[e("recommend-block",{attrs:{position:"bar"}}),e("submit-block",[this._t("default")],2),e("sku-block"),e("mobile-oneclick-login-block")],1)}),[],!1,null,"54cf8616",null).exports),Cu={name:"banner-block",components:(mu={},mu[vo.default.name]=vo.default,mu),state:["showVerifyBanner","goods"],computed:{bannerNoticeText:function(){return(+this.goods.verifyStatus||Pr.r.VERIFIED)===Pr.r.HOLDING?"当前商品可能存在风险，需人工审核通过后消费者才能看到商品。":"当前商品部分信息存在风险，需编辑并重新发布，审核通过后消费者才能看到商品。"}}},Pu=Object(Rn.default)(Cu,(function(){var t=this.$createElement,e=this._self._c||t;return this.showVerifyBanner?e("div",[e("van-notice-bar",{attrs:{text:this.bannerNoticeText}})],1):this._e()}),[],!1,null,null,null).exports,xu=n("DzJC"),Ou=n.n(xu),Tu=eu((function(){return n.e(25).then(n.bind(null,"oSYN"))}),"@goods/containers/goods-fixed-info/Index"),Iu=eu((function(){return n.e(37).then(n.bind(null,"Qxi3"))}),"@goods/containers/trade-carousel/Index"),Au=eu((function(){return n.e(20).then(n.bind(null,"QO7n"))}),"@goods/containers/fast-buy/PayForm"),Bu=eu((function(){return n.e(21).then(n.bind(null,"oBLu"))}),"@goods/containers/fast-buy/Pay"),ju=eu((function(){return n.e(31).then(n.bind(null,"Eggo"))}),"@goods/containers/promotion-block/Index"),Du=eu((function(){return n.e(18).then(n.bind(null,"sZoR"))}),"@goods/containers/activity-block/Index"),Eu=eu((function(){return n.e(38).then(n.bind(null,"6yU6"))}),"@goods/containers/ump-extra-block/Index"),Lu=eu((function(){return n.e(28).then(n.bind(null,"dLm5"))}),"@goods/containers/group-block/Index"),Nu=eu((function(){return n.e(27).then(n.bind(null,"sIh7"))}),"@goods/containers/goods-review-block/Index"),Mu=eu((function(){return n.e(19).then(n.bind(null,"gHci"))}),"@goods/containers/buyer-show-block/Index"),Fu=eu((function(){return n.e(35).then(n.bind(null,"VBmK"))}),"@goods/containers/shop-note-block/Index"),Ru=eu((function(){return n.e(34).then(n.bind(null,"/smM"))}),"@goods/containers/shop-block/Index"),Uu=eu((function(){return n.e(29).then(n.bind(null,"3YHJ"))}),"@goods/containers/multi-store-block/Index"),Wu=eu((function(){return n.e(23).then(n.bind(null,"65Qw"))}),"@goods/containers/goods-detail-block/Index"),Gu=eu((function(){return Promise.resolve().then(n.bind(null,"4pfj"))}),"@goods/containers/recommend-block/Index"),$u=eu((function(){return Promise.resolve().then(n.bind(null,"ZqTd"))}),"@goods/containers/sku-block/Index"),qu=eu((function(){return n.e(24).then(n.bind(null,"fE6h"))}),"@goods/containers/goods-extra-block/Index"),Hu={PromotionBlock:ju,ActivityBlock:Du,UmpExtraBlock:Eu,GroupBlock:Lu,GoodsReviewBlock:Nu,BuyerShowBlock:Mu,ShopNoteBlock:Fu,ShopBlock:Ru,MultiStoreBlock:Uu,GoodsDetailBlock:Wu,RecommendBlock:Gu,SkuBlock:$u,FollowBlock:eu((function(){return n.e(22).then(n.bind(null,"zOce"))}),"@goods/containers/follow-block/Index"),GoodsExtraBlock:qu,WishActionSheet:eu((function(){return n.e(17).then(n.bind(null,"fwyP"))}),"@goods/containers/WishActionSheet/Index"),GoodsFixedInfo:Tu,TradeCarousel:Iu,PayForm:Au,Pay:Bu,RecommendPluginBlock:eu((function(){return n.e(32).then(n.bind(null,"01eI"))}),"@goods/containers/recommend-plugin-block/Index"),NavBarBlock:eu((function(){return n.e(30).then(n.bind(null,"ypof"))}),"@goods/containers/nav-bar-block/Index"),GoodsRankingBlock:eu((function(){return n.e(26).then(n.bind(null,"tTDK"))}),"@goods/containers/goods-ranking-block/Index"),ShareBlock:eu((function(){return n.e(33).then(n.bind(null,"9Jro"))}),"@goods/containers/share-block/Index")},Vu={state:{submitBlock:{showGoodsBottom:!0},shopBlock:{showOldShopBadge:!0,showMultiStoreInfo:!0},baseInfoBlock:{showPrice:!0,showShareIcon:!0,showFollowShopIcon:!0,showGuaranteeBar:!0},groupBlock:{showServiceBar:!0},showVirtualTicketIntro:!0,isActivityBannerShow:null}};function zu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Yu=[["#f44","#f44","#fff","#f85","#fff","#FF6060","#FF4444"],["#ff5e15","#ff5e15","#fff","#ff9300","#fff","#FF8717","#FF5E16"],["#ff547b","#ff547b","#fff","#ffe6e8","#ff547b","#FF73AB","#FF5179"],["#f44","#f44","#fff","#555","#fff","#FF4F8D","#FF4444"],["#fcc600","#fcc600","#fff","#1d262e","#fff","#EABE00","#FFAA00"],["#65c4aa","#65c4aa","#fff","#ddf2ec","#65c4aa","#00D6B9","#00C291"],["#09bb07","#09bb07","#fff","#333","#fff","#56C700","#09BB07"],["#6cbe72","#6cbe72","#fff","#e1f4e3","#6cbe72","#77D330","#5BB161"],["#4a90e2","#4990e2","#fff","#dbe9f9","#4990e2","#0DA6F3","#0080FF"],["#c3a769","#c3a769","#fff","#f3eee1","#c3a769","#D9BC3D","#C3A769"],["#2f2f34","#2f2f34","#fff","#ebecf2","#2f2f34","#4a4d52","#333"],["#9a875f","#9a875f","#fff","#f6edec","#9a875f","#CFB67F","#B8A06F"],["#884cff","#884cff","#fff","#efe6ff","#884cff","#9673ff","#884cff"],["#EE0A24","#EE0A24","#fff","#FFB31E","#fff","#FF6034","#EE0A24"]],Ku=n("yENu");function Qu(){var t,e=Object(E.c)(),n=window._global||{},i=n.buyer||{},o=n.yz_user||{},r=((t=+n.themeType||0)>=Yu.length&&(t=1),Yu[t]);e.setData("shop",{kdtId:n.kdt_id||0}),e.setData("user",{gender:i.gender||"",avatar:o.avatar||"",mobile:o.mobile||"",nickName:o.nickname||"",userOpenId:n.user_open_id||"",verifyWeixinOpenid:o.verify_weixin_openid||""}),e.setData("theme",{general:r[0],mainBgColor:r[1],mainTextColor:r[2],viceBgColor:r[3],viceTextColor:r[4]}),e.setProcess("login",(function(){return void 0===t&&(t={authTypeList:["mobile"]}),Ku.a.open(Object.assign({},t));var t}))}function Zu(t,e){return window.YzPageLogger?window.YzPageLogger.log({et:"click",ei:"ext_"+t,en:t,params:{args:[e]}}):Promise.reject()}var Ju=Symbol("state"),Xu=function(){function t(t){this[Ju]=t}var e=t.prototype;return e.hideGoodsBottomBtns=function(){Zu("hideGoodsBottomBtns"),this[Ju].submitBlock.showGoodsBottom=!1},e.showGoodsBottomBtns=function(){Zu("showGoodsBottomBtns"),this[Ju].submitBlock.showGoodsBottom=!0},t}(),tl=function(){function t(t){this[Ju]=t}var e=t.prototype;return e.hideOldShopBadge=function(){Zu("hideOldShopBadge"),this[Ju].shopBlock.showOldShopBadge=!1},e.showOldShopBadge=function(){Zu("showOldShopBadge"),this[Ju].shopBlock.showOldShopBadge=!0},e.hideMultiStoreInfo=function(){Zu("hideMultiStoreInfo"),this[Ju].shopBlock.showMultiStoreInfo=!1},t}(),el=function(){function t(t){this[Ju]=t}var e=t.prototype;return e.isActivityBannerShow=function(){return Zu("isActivityBannerShow"),this[Ju].isActivityBannerShow&&this[Ju].isActivityBannerShow.value},e.hidePrice=function(){Zu("hidePrice"),this[Ju].baseInfoBlock.showPrice=!1},e.showPrice=function(){Zu("showPrice"),this[Ju].baseInfoBlock.showPrice=!0},e.hideShareIcon=function(){Zu("hideShareIcon"),this[Ju].baseInfoBlock.showShareIcon=!1},e.hideFollowShopIcon=function(){Zu("hideFollowShopIcon"),this[Ju].baseInfoBlock.showFollowShopIcon=!1},e.showShareIcon=function(){Zu("showShareIcon"),this[Ju].baseInfoBlock.showShareIcon=!0},t}(),nl=function(){function t(t){this[Ju]=t}return t.prototype.showServiceBar=function(){Zu("showServiceBar"),this[Ju].GroupBlock.showServiceBar=!0},t}(),il=function(){function t(t){this[Ju]=t}var e,n,i;return e=t,(n=[{key:"SubmitBlock",get:function(){return new Xu(this[Ju])}},{key:"ShopBlock",get:function(){return new tl(this[Ju])}},{key:"BaseInfoBlock",get:function(){return new el(this[Ju])}},{key:"GroupBlock",get:function(){return new nl(this[Ju])}}])&&zu(e.prototype,n),i&&zu(e,i),t}();var ol=n("UQhv"),rl=n.n(ol);function al(t,e,n){if(void 0===n&&(n={}),!t)return n;var i,o=e.split("."),r=t;return o.forEach((function(t){var e;e=r[t],r=null!=e?r[t]:{}})),i=r,"[object Object]"!==Object.prototype.toString.call(i)||Object.keys(i).length?r:n}var sl=function(t,e,n){t[rl()(e)]=n},cl=function(t,e,n){var i=(e?al(t,e):t)||{},o={};return n.forEach((function(t){return sl(o,t,i[t])})),o},ul=function(t){var e=t.state,n=cl(e.page,"goods",["alias","title","picture","sellPoint","origin","isVirtual","isVirtualTicket","isDisplay","buyLimitType","waitToSoldTime","buyWay","buyUrl","forbidBuyReason","isSupportFCode","isGoodsCollected","isInstallment","soldNum","sellPoint","subTitle","price","oldPrice"]);return n.limitBuy=1===n.buyLimitType,sl(n,"risk",cl(e,"goods.risk",["match","note"])),n},ll=function(t){var e=t.state;return cl(e.page,"refund",["isSupport","type","interval"])},dl=function(t){var e=t.state;return cl(e.page,"multistore",["name"])},pl=function(t){var e=t.state;return cl(e.page,"shop",["logo","name","url","certType"])},fl=function(t){var e=t.state;return cl(e,"shopConfig",["isShowBuyBtn","isSecuredTransactions","showRecommendGoods","showBuyRecord","showCustomerReviews","showBuyerShows","showPersonalRecommendGoods","isSimplifiedWsc","supportFreightInsurance","hideShoppingCart","hasPhysicalStore"])},hl=function(t){var e=t.state;return cl(e.page,"guarantee",["on","style"])},ml=function(t){var e=t.state;return cl(e.page,"distribution",["postage","supportExpress","supportSelfFetch","supportLocalDelivery","expressFee","localDeliveryFee"])},gl=function(t){return t.getters.bigButtonsData.map((function(t){return t.skuScene}))},vl=function(t){return t.getters.goodsDetailTabs.map((function(t){return Object.assign({},t)}))};var yl=new E.a,bl=new E.a,_l=new E.a,kl=E.a.prototype.on,wl=function(t,e){t.on=function(){Zu(e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];kl.call.apply(kl,[t].concat(i))}};function Sl(t){return function(){return t.trigger.apply(t,arguments)}}function Cl(t,e){var n=function(t){return function(e,n,i){if(void 0===i&&(i=!1),!al(t,e+".isHook"))throw new Error("不存在 "+e+" hook");t[e].tap("diy",n)}}(t);n("showPrice",(function(t){return t&&e.baseInfoBlock.showPrice})),n("showShareIcon",(function(t){return t&&e.baseInfoBlock.showShareIcon})),n("showGuaranteeBar",(function(t){return t&&e.baseInfoBlock.showGuaranteeBar})),n("showFollowShopIcon",(function(t){return t&&e.baseInfoBlock.showFollowShopIcon})),n("showPldShopBadge",(function(t){return t&&e.shopBlock.showPldShopBadge})),n("showMultiStoreInfo",(function(t){return t&&e.shopBlock.showMultiStoreInfo})),n("showGoodsBottom",(function(t){return t&&e.submitBlock.showGoodsBottom})),n("showVirtualTicketIntro",(function(t){return t&&e.showVirtualTicketIntro})),n("showServiceBar",(function(t){return t&&e.groupBlock.showServiceBar})),n("beforeCartSubmit",Sl(yl)),n("afterBuy",Sl(bl)),n("detailTabClick",Sl(_l))}function Pl(t){Qu();var e,n,i,o=window.youzanyunbridge,r=new lr.Store(Vu),a=new il(r.state);(e=Object(E.c)()).setEvent("beforeCartSubmit",yl),e.setEvent("afterBuy",bl),e.setEvent("detailTabClick",_l),n=t,Object(E.c)().setPageDataContext(n,{user:function(){return _global.user},goodsItem:ul,refund:ll,multistore:dl,shop:pl,shopConfig:fl,guarantee:hl,distribution:ml,buttons:gl,detailTabs:vl}),i=t.hooks,r.state.isActivityBannerShow=i.showActivityBanner.call(!1),Cl(t.hooks,r.state),function(t,e){var n=Object(E.c)();n.setProcess("showIM",(function(){return Zu("showIM"),t.navToIm.call()})),n.setProcess("showSKU",(function(e){return Zu("showSKU",e),t.showSku.call(e)})),n.setProcess("addCart",(function(e){return Zu("addCart",e),t.addCart.call(e)})),n.setProcess("accountAuthorize",(function(e){return Zu("accountAuthorize",e),t.checkAction.call(e)})),t.showTab.tap("diy",(function(t,e){n.setProcess("hideTabs",(function(){Zu("hideTabs"),e(!1)}))})),n.setProcess("setActiveTab",(function(e){return Zu("setActiveTab",e),t.activeTab.call(e)})),t.setDetailTabs.tap("diy",(function(t,e){n.setProcess("setTabs",(function(t){if(Zu("setTabs",t),Array.isArray(t))return t.length>5&&(console.warn("长度超出 5，超出部分被截取"),t=t.slice(0,5)),t=t.map((function(t){var e=t.desc,n=void 0===e?"":e,i=t.type;return{desc:n,type:void 0===i?"":i}})),e(t);throw new Error("tabs 必须是一个数组")}))})),n.setProcess("hideVirtualTicketIntro",(function(){Zu("hideVirtualTicketIntro"),e.showVirtualTicketIntro=!1})),n.setProcess("showGoodsBottom",(function(){Zu("showGoodsBottom"),e.submitBlock.showGoodsBottom=!0})),n.setProcess("hideGoodsBottom",(function(){Zu("hideGoodsBottom"),e.submitBlock.showGoodsBottom=!1})),n.setProcess("showShareIcon",(function(t){Zu("showShareIcon"),e.baseInfoBlock.showShareIcon=!!t})),n.setProcess("showGuaranteeBar",(function(t){Zu("showGuaranteeBar",t),e.baseInfoBlock.showGuaranteeBar=t})),n.setProcess("setPageShareParams",(function(e){Zu("setPageShareParams",e),t.setShareParams.call(e)})),n.setProcess("showServiceBar",(function(t){Zu("showServiceBar"),e.groupBlock.showServiceBar=!!t}))}(t.hooks,r.state),o.componentApi=a,o.jsBridge=Ra.action,Object(E.b)()}wl(bl,"afterBuyEvent"),wl(_l,"detailTabClickEvent"),wl(yl,"beforeCartSubmitEvent"),Object(E.d)(window,{enableLogger:!1,appName:"wsc-h5-goods"}),o.default.use(lr.default);n("RmI7");var xl,Ol,Tl=n("KKL4"),Il={name:"NormalCover",getters:["previewFooterBtnList"],components:(xl={},xl[nn.default.name]=nn.default,xl),props:{index:Number,currentSkuNav:Object},methods:{onClick:function(t){this.$dispatch("onFooterBtnClick",{btn:t,index:this.index})}}},Al=(n("BCYM"),Object(Rn.default)(Il,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"normal-cover"},[n("div",{staticClass:"image-preview__title van-ellipsis"},[t._v("\n    "+t._s(t.currentSkuNav.name)+"\n  ")]),n("div",{staticClass:"image-preview__action"},[n("div",{staticClass:"image-preview__price"},[n("span",{staticClass:"image-preview__unit"},[t._v("¥")]),n("span",{staticClass:"van-ellipsis"},[t._v(t._s(t.currentSkuNav.priceStr))])]),t.previewFooterBtnList.length>0?n("div",{staticClass:"image-preview__btns"},t._l(t.previewFooterBtnList,(function(e){return n("van-button",{key:e.skuScene,staticClass:"image-preview__btn",class:{"image-preview__btn--plain":!e.primary},attrs:{text:e.text,disabled:e.disabled,plain:!e.primary,round:""},on:{click:function(n){t.onClick(e)}}},[t._v("\n        "+t._s(e.text)+"\n      ")])})),1):t._e()])])}),[],!1,null,null,null).exports),Bl={name:"SkuCover",state:["goods"],getters:["previewList"],props:{index:Number,currentSkuNav:Object},computed:{preSkuNav:function(){var t=this.index,e=this.goods,n=this.previewList;return t>0?n[t-1].name||e.title:""},nextSkuNav:function(){var t=this.index,e=this.goods,n=this.previewList;return t<n.length-1?n[t+1].name||e.title:""},isCurrentSoldOut:function(){return!1},isCurrentSku:function(){return!!this.currentSkuNav.ks}},methods:{toPre:function(){this.$emit("swipe",{index:this.index-1})},toNext:function(){this.$emit("swipe",{index:this.index+1})}}},jl=(n("93B1"),Object(Rn.default)(Bl,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sku-cover",class:{"sku-cover__gray":t.isCurrentSoldOut}},[n("div",{staticClass:"sku-cover__title"},[n("div",{class:{"sku-cover__border":t.isCurrentSku}},[t.isCurrentSku&&!t.isCurrentSoldOut?n("van-icon",{staticClass:"sku-cover__icon",attrs:{name:"success"}}):t._e(),n("div",{staticClass:"sku-cover__name"},[t._v(t._s(t.currentSkuNav.name))])],1)]),n("div",{staticClass:"sku-cover__price"},[n("span",{staticClass:"sku-cover__unit"},[t._v("¥")]),t._v("\n    "+t._s(t.currentSkuNav.priceStr)+"\n  ")]),t.preSkuNav?n("div",{staticClass:"sku-cover__pre",on:{click:t.toPre}},[n("div",{staticClass:"sku-cover__name"},[t._v(t._s(t.preSkuNav))])]):t._e(),t.nextSkuNav?n("div",{staticClass:"sku-cover__after",on:{click:t.toNext}},[n("div",{staticClass:"sku-cover__name"},[t._v(t._s(t.nextSkuNav))])]):t._e()])}),[],!1,null,null,null).exports);o.default.use(Tl.default);var Dl,El={name:"ImagePreview",state:["displayPop","goods","previewImageData"],getters:["previewList","previewImages","previewStartPosition"],components:(Ol={},Ol[Al.name]=Al,Ol[jl.name]=jl,Ol),data:function(){return{index:0,scale:0}},computed:{currentSkuNav:function(){var t=this.index,e=this.goods,n=Object.assign({},this.previewList[t]);return n.name=n.name||this.goods.title||"",n.priceStr=n.priceStr||e.price||"",n},isUiTypeSku:function(){return this.previewImageData.uiType===Li}},watch:{previewStartPosition:function(t){this.index=t}},methods:{onScale:function(t){var e=t.scale;this.scale=e},onChange:function(t){this.index=t},onClose:function(){this.isUiTypeSku&&this.$dispatch("updatedCurrentSku",this.currentSkuNav),this.$dispatch("updatePreviewImage",!1)},onSwipe:function(t){void 0===t&&(t={}),this.$refs.imagePreview&&t.index>-1&&t.index<this.previewList.length&&this.$refs.imagePreview.swipeTo(t.index)}}},Ll=(n("z6+S"),Object(Rn.default)(El,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-image-preview",{ref:"imagePreview",staticClass:"image-preview",attrs:{images:t.previewImages,"start-position":t.previewStartPosition,"overlay-class":"image-preview__overlay image-preview__overlay-bg",closeable:""},on:{scale:t.onScale,change:t.onChange,close:t.onClose},model:{value:t.displayPop.showImagePreview,callback:function(e){t.$set(t.displayPop,"showImagePreview",e)},expression:"displayPop.showImagePreview"}},[n("div",{staticClass:"image-preview__footer",class:{"image-preview__footer--out":t.scale>1.3},attrs:{slot:"cover"},on:{click:function(t){t.stopPropagation()}},slot:"cover"},[n(t.isUiTypeSku?"sku-cover":"normal-cover",{tag:"component",attrs:{index:t.index,"current-sku-nav":t.currentSkuNav},on:{swipe:t.onSwipe}})],1)])}),[],!1,null,null,null).exports),Nl={addCart:Pr.a.ADD_CART,normalBuy:Pr.a.NORMAL_BUY,pointsBuy:Pr.a.POINTS_BUY,grouponBuy:Pr.a.GROUP_BUY};var Ml,Fl,Rl,Ul,Wl,Gl,$l,ql,Hl,Vl=["buyer-shop-block"],zl={name:"detail-base",components:Object.assign({ImageBlock:Mi,BaseInfoBlock:ur,SubmitBlock:su},Hu,(Dl={},Dl[Pu.name]=Pu,Dl[Su.name]=Su,Dl[Ll.name]=Ll,Dl)),getters:["kdtId"],state:["design","displayPop","isFastBuy","isFastBuySplit","wish","appConfig"],data:function(){return{bottomFixedHeight:0}},computed:{layoutTop:function(){return this.design.top?this.design.top.filter((function(t){return!t.notShow})):[]},layoutPic:function(){return this.design.pic?this.design.pic.filter((function(t){return!t.notShow})):[]},layoutMain:function(){return this.design.main?this.design.main.filter((function(t){return!t.notShow})):[]},useFullDesign:function(){return Array.isArray(this.design)},layoutMainDesign:function(){return(this.useFullDesign?this.design.filter((function(t){return!t.notShow&&"fixed-bottom-block"!==t.type})):[].concat(this.layoutTop,this.layoutPic,this.layoutMain)).filter((function(t){return-1===Vl.indexOf(t.type)}))},showFixedBottomBlock:function(){return!this.useFullDesign||this.design.filter((function(t){return"fixed-bottom-block"===t.type&&!t.notShow})).length>0},bottomComponents:function(){var t=this.design.bottom,e=[];return this.useFullDesign?this.design.forEach((function(t){"fixed-bottom-block"===t.type&&t.components&&e.push.apply(e,t.components)})):t.forEach((function(t){t.components&&e.push.apply(e,t.components)})),e}},beforeCreate:function(){var t=this;this.hooks=Rs.a,this.$dispatch("updateGoodsStaticData").then((function(){return t.$dispatch("updateGoodsAsyncData")})).then((function(){return t.$dispatch("initPageState")})).then((function(){t.$dispatch("setGlobalShare").then((function(){return t.$dispatch("setSalemanData")})).catch((function(){return t.$dispatch("setSalemanData")})),t.$dispatch("initWishProcess"),"youzanwxd"===t.$store.getters.platform&&t.$dispatch("initWxd")})).catch((function(){})).then((function(){return e=t.$store,Rs.a.showSku.tap("goods",(function(t){var n=e.getters.bigButtonsData.filter((function(e){return e.skuScene===t})).pop();return n?e.dispatch("triggerSku",n):Promise.reject("不支持展示该类型SKU")})),Rs.a.navToIm.tap("goods",(function(t){Va(e.getters.imData,t)})),Rs.a.showActivityBanner.tap("goods",(function(){return e.getters.showActivityBanner})),Rs.a.setShareParams.tap("goods",(function(t){var e=t.atrPs,n=t.isvExt,i={};e&&(i.atr_ps=e),n&&(i.isv_ext=n),Object(Bn.setShareData)(Object.assign({},_global.share,{linkParams:i}))})),Rs.a.checkAction.tap("goods",(function(t){var n=Nl[t];return n?e.dispatch("actionCheck",{accountUnionScene:n}):Promise.reject("不支持的授权场景")})),void Rs.a.addCart.tap("goods",(function(t){var n=t.goodsId,i=t.num,o=void 0===i?1:i,r=t.messages,a=void 0===r?[]:r,s=t.sku,c=void 0===s?{}:s,u=c.price,l=c.id,d=c.properties,p=void 0===d?[]:d,f=[];return n!==e.state.page.goods.id?Promise.reject(new Error("仅支持添加当前商品到购物车")):(!n&&f.push("goodsId 必须"),!l&&f.push("sku.id 必须"),!Array.isArray(p)&&f.push("sku.properties 必须是一个数组"),!Array.isArray(a)&&f.push("messages 必须是一个数组"),f.length?Promise.reject(f):e.dispatch("handleAddCart",{goodsId:n,selectedNum:o,cartMessages:a,selectedSkuComb:{price:u,id:l,properties:p}}))}));var e})).then((function(){return Pl(t)}))},mounted:function(){var t=this;fu(this.$el),this.$nextTick((function(){t.isFastBuy&&document.addEventListener("scroll",Ou()(t.handleScroll,100)),t.pollBottomHeight()}))},methods:{handleScroll:function(){this.$emit("scroll",this.$refs)},pollBottomHeight:function(){var t=this;if(this.$refs.moduleBottom){var e=this.$refs.moduleBottom.$el;setInterval((function(){t.bottomFixedHeight=e.clientHeight+"px"}),500)}}}},Yl=zl,Kl=(n("Y4a0"),Object(Rn.default)(Yl,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["page-goods",{"page-goods__fast-buy":t.isFastBuy}]},[n("div",{ref:"goodsMain",staticClass:"module-main"},[t._l(t.layoutMainDesign,(function(e){return n(e.type,t._b({key:e.type,tag:"component"},"component",e.extra,!1),[t._l(e.components||[],(function(e){return n(e.name,t._b({key:e.name,tag:"component"},"component",e.extra,!1))})),"activity-block"===e.type?t._t("activity-block"):t._e()],2)})),n("div",{attrs:{id:"custom-footer"}})],2),t.showFixedBottomBlock?n("fixed-bottom-block",{ref:"moduleBottom"},t._l(t.bottomComponents||[],(function(e){return n(e.name,t._b({key:e.name,tag:"component"},"component",e.extra,!1))})),1):t._e(),n("div",{style:{paddingBottom:t.bottomFixedHeight}}),n("follow-block"),t.displayPop.maskShow?n("div",{staticClass:"module-mask",on:{click:function(e){t.$dispatch("hideRecommendBottom")}}}):t._e(),n("div",{attrs:{id:"module-popup"}}),t.wish.isOpen?n("wish-action-sheet"):t._e(),n("image-preview"),n("share-block")],1)}),[],!1,null,null,null)),Ql=Kl.exports,Zl=vr(Ic,{state:{},getters:{isSupportWish:function(){return!0}},actions:{},mutations:{}}),Jl=Zl,Xl={components:{"detail-base":Ql},beforeCreate:function(){this.$store.registerModule(["page"],Jl)}},td=Xl,ed=Object(Rn.default)(td,(function(){var t=this.$createElement;return(this._self._c||t)("detail-base")}),[],!1,null,null,null),nd=ed.exports,id={name:"GrouponGoingListItem",getters:["isLadderGroupOn"],state:["activityInfo"],components:(Ml={},Ml[$c.name]=$c,Ml),props:{alias:String,kdtId:Number,title:String,gapNum:Number,thumbUrl:String,remainTime:Number},data:function(){return{endTime:+new Date+this.remainTime}},computed:{joinUrl:function(){var t=this.activityInfo.activityType,e="/wscump/collage/groupon/detail?alias="+this.alias+"&kdt_id="+this.kdtId;return t&&(e+="&type="+t),Object(r.c)(e,"h5",this.kdtId)}}},od=id,rd=(n("Xsw2"),Object(Rn.default)(od,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"van-cell groupon-going-item"},[n("img",{staticClass:"groupon-going-item__img",attrs:{src:t._f("formatImage")(t.thumbUrl,"!120x0.jpg"),alt:"头像"}}),n("div",{staticClass:"groupon-going-item__content"},[n("p",{staticClass:"groupon-going-item__title"},[t._v(t._s(t.title))]),n("div",{staticClass:"groupon-going-item__desc"},[t._v("\n      还差\n      "),n("span",{staticClass:"groupon-going-item__gap-num"},[t._v(t._s(t.gapNum))]),t._v("\n      人成团，剩余\n      "),n("cap-countdown",{attrs:{end:t.endTime,"hide-zero-day":!0,"time-separator":["天",":",":",""],"time-style":"white"}})],1)]),n("van-button",{staticClass:"theme__background theme__border groupon-going-item__button",attrs:{href:t.joinUrl,tag:"a",type:"danger",text:"去凑团",size:"small"}})],1)}),[],!1,null,null,null)),ad=rd.exports,sd={name:"GrouponGoingList",state:["shop"],getters:["grouponGoingList","grouponGoingPath"],components:(Fl={},Fl[ad.name]=ad,Fl)},cd=sd,ud=(n("aKc7"),Object(Rn.default)(cd,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.grouponGoingList&&t.grouponGoingList.length>0?n("div",{staticClass:"van-cell-group"},[n("van-cell",{staticClass:"groupon-going-list__header",attrs:{"is-link":!!t.grouponGoingPath,title:"以下小伙伴正在发起拼团，你可以直接参加"},on:{click:function(e){t.$dispatch("gotoPage",t.grouponGoingPath)}}}),n("van-cell-group",{staticClass:"groupon-going-list__content van-hairline--bottom",attrs:{border:!1}},t._l(t.grouponGoingList,(function(e){return n("groupon-going-list-item",{key:e.groupAlias,attrs:{alias:e.groupAlias,"kdt-id":t.shop.kdtId,title:e.fansNickname,"thumb-url":e.fansPicture,"gap-num":e.remainJoinNum,"remain-time":+e.remainTime}})})),1)],1):t._e()}),[],!1,null,null,null)),ld=ud.exports,dd=n("bE3m"),pd={name:"GrouponIntroBar",components:(Rl={},Rl[dd.a.name]=dd.a,Rl),getters:["grouponIntroUrl","grouponActivityIntro","groupOnActivityTitle"]},fd=pd,hd=(n("qqam"),Object(Rn.default)(fd,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("common-cell",{attrs:{border:!1,title:t.groupOnActivityTitle,"is-link":"","value-class":"groupon-value","title-class":"groupon-title"},on:{click:function(e){t.$dispatch("gotoPage",t.grouponIntroUrl)}}}),n("div",{staticClass:"groupon-activity-intro"},[t._v(t._s(t.grouponActivityIntro))])],1)}),[],!1,null,null,null)),md=hd.exports,gd={isGroupOn:function(){return!0},isLadderGroupOn:function(t,e){return e.isGroupOn&&"ladderGroupOn"===e.currentActivity.subType},activityNotStart:function(){return!1},currentActivity:function(t){return Object(r.i)(t,"marketActivity.groupOn",{})},showActivityBlock:function(){return!0},showActivityBanner:function(){return!0},hideSkuOriginPrice:function(){return!1},isSkuBarDisabled:function(){return!0},isSupportFCodeBuy:function(){return!1},goodsPriceTag:function(t,e){var n=e.currentActivity;return e.isLadderGroupOn?"人多更优惠":1===n.groupType?"老带新"+e.currentActivity.joinNum+"人团":e.currentActivity.joinNum+"人拼团价"},ladderGrouponSkuExtraList:function(t){return t.ladderGroupOn.showPrices},activitySkuPriceTags:function(t,e){var n=t.skuConfig.skuScene;return e.isLadderGroupOn&&n===Pr.n.ACT_BUY?["拼团价"]:[e.goodsPriceTag]},activityStockNumText:function(t){var e=t.goods.soldNum,n=void 0===e?0:e;return n>99999?"10W+":n>9999?"1W+":n>999?"999+":""+n},ladderMinPrice:function(t,e){var n=e.currentActivity,i=n.ladderMinPrice,o=n.ladderMaxPrice;return{priceString:Object(r.g)(i)+(i===o?"":"起"),price:i}},countdown:function(t,e){var n=t.marketActivity.groupOn;if(!n)return null;var i,o,r=t.clientTimestamp,a=n.startAt,s=n.endAt;return a-r>0?(i="距开始仅剩",o=a):s-r>0?(i="距结束仅剩",o=s):(i="活动已结束",o=r),{showProgress:!1,desc:i,end:o}},groupOnActivityTitle:function(t,e){var n=e.currentActivity;return e.isLadderGroupOn?"拼团玩法-阶梯拼团":1===n.groupType?"拼团玩法-老带新拼团":"拼团玩法"},grouponActivityIntro:function(t,e){var n=e.currentActivity,i="支付开团邀请"+(n.joinNum-1)+"人参团，人数不足自动退款。";if(1===n.groupType&&(i="支付开团邀请"+(n.joinNum-1)+"名新用户参团，人数不足自动退款。"),e.isLadderGroupOn){var o=n.ladderList[0].reduce((function(t,e){return t.push(e.scale+"人团￥"+Object(r.g)(e.minPrice)+(e.minPrice<e.maxPrice?"起":"")),t}),[]);o.push("先选择参团人数，支付后开团邀请好友参团，人数不足自动退款。"),i=o.join("，")}return i},grouponIntroUrl:function(t,e){var n=e.currentActivity,i=r.b.add("/wscump/groupon/guide",{kdt_id:e.kdtId,groupType:n.groupType,activityType:t.activityInfo.activityType||""});return Object(r.c)(i,"h5",e.kdtId)},allGrouponUrl:function(t,e){var n=e.isLadderGroupOn?26:4;return Object(r.c)("/wscump/groupon/list?kdt_id="+e.kdtId+"&activityType="+n,"h5",e.kdtId)},grouponGoingList:function(t,e){return e.currentActivity.ongoingGroup||[]},grouponGoingPath:function(t,e){var n=t.activityInfo,i=n.activityId,o=n.activityType;return Object(r.c)(r.b.add("/wscump/collage/groupon/join-groups",{kdtId:e.kdtId,activityId:i,activityType:o}),"h5",e.kdtId)},bigButtons:function(t,e){if(e.isBigButtonForbidBuy)return e.commonBigButtons;var n=e.currentActivity,i={text:"加入"+e.cartText,skuScene:Pr.n.ADD_CART,accountUnionScene:Pr.a.ADD_CART},o={sub:"￥"+(e.isLadderGroupOn?e.ladderMinPrice.priceString:Object(r.g)(t.goods.minPrice,2)),text:"立即开团",primary:!0,skuScene:Pr.n.ACT_BUY,accountUnionScene:Pr.a.GROUP_BUY},a={sub:"￥"+Object(r.g)(t.goods.oldMinPrice,2),text:"单独购买",skuScene:e.isPresale?Pr.n.NORMAL_BUY:Pr.n.SEL_SKU,accountUnionScene:Pr.a.NORMAL_BUY},s=r.b.add("/wscump/collage/groupon/detail",{alias:n.groupAlias,type:t.activityInfo.activityType,kdt_id:e.kdtId}),c={text:"查看我的团",url:Object(r.c)(s,"h5",e.kdtId),primary:!0},u=n.buttonType;if(n.groupAlias&&4!==u)return[a,c];var l=[].concat(e.commonBigButtons);switch(u){case 0:case 2:l.push(a),l.push(o);break;case 1:l.push(a),l.push(c);break;case 3:o.text="我要参团",l.push(o);break;case 4:l.push(a),c.text="￥"+Object(r.g)(t.goods.minPrice,2)+"参团",l.push(c);break;case 5:l.push(i),a.primary=!0,l.push(a)}return l},showGoodsCoupon:function(){return!1}},vd=null,yd={getRecommendGoods:function(t){var e=t.state,n=t.getters,i=t.dispatch,o=t.commit;vd||(o("getRecommendGoods"),vd=kt.a.get({url:"/wscshop/goods-api/recommend-groupon-goods.json",data:{bizName:"goods_detail",goodsId:e.goods.id,alias:n.alias,storeId:e.multistore.id,itemSize:10,pageSize:10},errorMsg:"获取拼团推荐商品错误"}).then((function(t){var a=t.map((function(t,i){var o="g."+e.goods.id+"~recommend_fixed~"+(i+1)+"~"+Object(r.p)(8),a={goods_id:t.id+"",item_id:t.id,item_type:"groupon",banner_id:o,component:"recommend_fixed",recommend_name:"更多精选商品",component_id:"",alg:t.algs||""};return(t=Object(r.q)(t)).url=Object(r.c)("/wscgoods/detail/"+t.alias,"h5",n.kdtId),t.url=r.b.add(t.url,{banner_id:o,alg:a.alg}),t.price=(+t.minPrice/100).toFixed(2),t.joinNum&&(t.showTitleTag=!0,t.titleTagText=t.joinNum+"人拼团价"),Object.assign({},t,{loggerParams:a,imageUrl:Object(r.h)(t.imageUrl,"!520x0.jpg")})}));a.length,o("getRecommendGoodsSuccess",a),i("toggleGoodsMask",n.showNoStockRecommendGoods&&n.hasRecommendGoods)})).catch((function(t){o("getRecommendGoodsFail",t)})))}},bd=vr(Ic,{state:{ladderGroupOn:{showPrices:[]}},getters:gd,actions:yd,mutations:{SET_LADDER_PRICES:function(t,e){t.ladderGroupOn.showPrices=e}}}),_d=bd,kd={components:(Ul={"detail-base":Ql},Ul[ld.name]=ld,Ul[md.name]=md,Ul),beforeCreate:function(){this.$store.registerModule(["page"],_d)}},wd=kd,Sd=Object(Rn.default)(wd,(function(){var t=this.$createElement,e=this._self._c||t;return e("detail-base",[e("div",{attrs:{slot:"activity-block"},slot:"activity-block"},[e("groupon-going-list"),e("groupon-intro-bar")],1)])}),[],!1,null,null,null).exports,Cd={name:"FollowPopup",state:["seckillDisplayPop","shop"],getters:["currentActivity"],methods:{handleClick:function(){var t=this;this.$dispatch("fetchQrcodeWeixinImg").then((function(){t.$dispatch("doPageFollow",{subTitle:"需要关注公众号才可预约秒杀"}),t.$dispatch("hideSeckillPopup","follow")}))}}},Pd=(n("fH54"),Object(Rn.default)(Cd,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentActivity.useFollow?n("van-popup",{staticClass:"follow__popup",attrs:{round:""},model:{value:t.seckillDisplayPop.showFollowPop,callback:function(e){t.$set(t.seckillDisplayPop,"showFollowPop",e)},expression:"seckillDisplayPop.showFollowPop"}},[n("h3",{staticClass:"follow__header"},[t._v("关注后才能预约哦")]),n("div",{staticClass:"follow__block"},[n("p",{staticClass:"img-wrap"},[n("img",{attrs:{src:"https://img.yzcdn.cn/upload_files/2016/07/15/Fo-n7NG0BJkjjZ2iMlyTstZfPxux.png",width:"100",height:"90"}})]),n("p",{staticClass:"shop-wrap"},[t._v(t._s(t.shop.name))])]),n("p",{staticClass:"follow__btn js-follow-shop",on:{click:function(e){return e.preventDefault(),t.handleClick(e)}}},[t._v("\n    关注店铺\n  ")])]):t._e()}),[],!1,null,null,null).exports),xd=(n("Td2N"),n("nxST")),Od=(n("pEwz"),n("4nyr")),Td={name:"QuestionPopup",components:(Wl={},Wl[Od.default.name]=Od.default,Wl[xd.default.name]=xd.default,Wl),state:["seckillDisplayPop","seckillQuestion"],getters:["currentActivity"],data:function(){return{selectedKey:""}},methods:{submitAnswer:function(){this.selectedKey===this.seckillQuestion.answerKey?this.$dispatch("bookSeckill"):Object(St.default)("哎呀，答案不对哦")}}},Id=(n("xTCO"),Object(Rn.default)(Td,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentActivity.useQuestion?n("van-popup",{staticClass:"question__popup",model:{value:t.seckillDisplayPop.showQuestionPop,callback:function(e){t.$set(t.seckillDisplayPop,"showQuestionPop",e)},expression:"seckillDisplayPop.showQuestionPop"}},[n("h3",{staticClass:"question__header"},[t._v("答对问题，完成预约！")]),n("div",{staticClass:"question__block"},[n("h4",{staticClass:"question__title"},[t._v(t._s(t.seckillQuestion.title))]),n("van-radio-group",{model:{value:t.selectedKey,callback:function(e){t.selectedKey=e},expression:"selectedKey"}},t._l(t.seckillQuestion.itemList,(function(e){return n("van-radio",{key:e.key,staticClass:"question__item",attrs:{name:e.key,"checked-color":"#07c160"}},[n("span",{staticClass:"question__item-text"},[t._v(t._s(e.content))])])})),1)],1),n("p",{staticClass:"question__btn",on:{click:t.submitAnswer}},[t._v("答完提交")])]):t._e()}),[],!1,null,"28b73fa2",null).exports),Ad=vr(Ic,{state:{seckillQuestion:{title:"",itemList:[],wrongKey:"",selectedKey:"",answerKey:"",isBookLoading:!1},seckillAccount:{showBindPhoneNumber:!1,bindTips:""},seckillDisplayPop:{showFollowPop:!1,showQuestionPop:!1}},getters:{customStock:function(){return!0},currentActivity:function(t){return Object(r.i)(t,"marketActivity.seckill",{})},showActivityBlock:function(t,e){return e.activityRules.label},showActivityBanner:function(){return!0},isSupportFCodeBuy:function(){return!1},goodsPriceTag:function(t,e){return e.currentActivity.tag||"秒杀价"},activitySkuPriceTags:function(t,e){return[e.goodsPriceTag]},activityNotStart:function(t,e){var n=e.currentActivity,i=+new Date;return n.startAt-i>0},activityHasFinish:function(t,e){var n=e.currentActivity,i=+new Date;return n.endAt-i<0},countdown:function(t,e){var n=t.marketActivity.seckill;if(!n)return null;var i,o,a=n.startAt,s=n.endAt,c=+new Date,u=!1;e.activityHasFinish?(i="活动已结束",o=c):e.activityNotStart?(i="距活动开始仅剩",o=a):e.activityHasFinish||(i="距结束仅剩",o=s,u=!0);var l=Object(r.i)(t,"goods.stockNum",0);return{showProgress:u,progressNum:e.leftStockNumProgress,progressDesc:"仅剩"+l+"件",desc:i,end:o}},activityRules:function(t,e){var n=e.currentActivity,i=n.isCheckRight,o=n.cancelTime,a=n.bookingNumText,s=void 0===a?"0":a,c=n.serverStartAt,u=void 0===c?0:c,l=Object(r.i)(n,"limit.quota",0),d=i,p="",f=[];if(u&&e.activityNotStart){var h=Object(r.e)(u,"MM.DD HH:mm:ss");f.push("预计 "+h+" 活动开始。")}return d&&f.push("只有预约成功后才有资格参加秒杀，已有"+s+"人预约成功。"),p+=l?"每人限购"+l+"件。":"",(p+=o?"订单"+o+"分钟内未支付将被取消。":"")&&f.push(p),{label:f.join(" "),rules:f}},goodsBottomBarTip:function(t,e){var n=e.currentActivity,i=n.isCheckRight,o=n.isPassCheck;if(e.activityHasFinish)return{text:"秒杀活动已结束"};if(e.activityNotStart&&!i)return{text:"秒杀活动尚未开始"};if(e.activityNotStart&&i&&o)return{text:"您已成功预约，活动暂未开始，也可零售价购买哦"};if(!e.activityNotStart&&i&&!o)return{text:"你未预约此活动，无法参加秒杀，下次记得预约哦"};var r=e.goodsBottomDisabledTip;return r.text?r:{text:""}},bigButtons:function(t,e){if(e.isBigButtonForbidBuy)return e.commonBigButtons;var n=Object(r.c)("/wscgoods/detail/"+t.goods.alias+window.location.search,"h5",e.kdtId);n=r.b.remove(n,"ump_type"),n=r.b.remove(n,"ump_alias"),n=r.b.remove(n,"activityType");var i={forbid:!0,text:"零售价购买",url:n=r.b.remove(n,"activityId")};if(e.activityHasFinish)return i.primary=!0,[i];var o=e.currentActivity,a=o.isCheckRight,s=o.isPassCheck,c=[];return e.activityNotStart?(c.push(i),a&&!s&&c.push({text:"立即预约",skuScene:Pr.n.RESERVATION,accountUnionScene:Pr.a.NORMAL_BUY})):!a||s?c.push({text:"立即拿下",skuScene:Pr.n.ACT_BUY,accountUnionScene:Pr.a.NORMAL_BUY}):c.push(i),c[c.length-1].primary=!0,c},showGoodsCoupon:function(){return!1},activityInfoForPrice:function(){return{type:"seckill",identification:r.b.get("ump_alias")}}},actions:{makeReservation:function(t){var e=t.state,n=t.commit,i=t.dispatch;n("setSkuConfig",{submitType:"orderSeckill",isAjaxing:!0}),i("checkIsNeedLogin").then((function(t){n("setSkuConfig",{isAjaxing:!1}),!t||e.env.redirectLoginByPlatform?i("orderSeckill"):i("doPageLogin",{hideSku:!0})}))},orderSeckill:function(t){var e=t.getters,n=t.commit,i=t.dispatch,o=e.currentActivity,r=o.useFollow||!1,a=o.useQuestion||!1,s=o.questionId||"",c=o.activityId||0;a?kt.a.get({url:"/v2/showcase/question/item.json",data:{question_id:s}}).then((function(t){n("updateSeckillQuestion",{wrongKey:"",title:t.title,itemList:t.options||[],answerKey:t.answer_key}),n("showSeckillPopup","question")})).catch((function(){Object(St.default)("获取预约问题失败"),i("hideSeckillPopup","question")})):r?kt.a.post({url:"/v2/ump/seckill/followBook.json",data:{kdt_id:e.kdtId,seckill_id:c}}).then((function(t){t&&window.location.reload()})).catch((function(t){t&&i("fetchQrcodeWeixinImg").then((function(){i("doPageFollow",{subTitle:"需要关注公众号才可预约秒杀"})}))})):i("bookSeckill")},bookSeckill:function(t){var e=t.dispatch,n=t.getters,i=n.currentActivity;Object(St.default)("数据提交中..."),kt.a.post({url:"/v2/ump/seckill/book.json",data:{kdt_id:n.kdtId,seckill_id:i.activityId,type:"question"}}).then((function(t){t&&window.location.reload(),e("hideSeckillPopup","question")})).catch((function(){Object(St.default)("预约失败"),e("hideSeckillPopup","question")}))},hideSeckillPopup:function(t,e){(0,t.commit)("hideSeckillPopup",e)}},mutations:{showSeckillPopup:function(t,e){switch(e){case"follow":t.seckillDisplayPop.showFollowPop=!0;break;case"question":t.seckillDisplayPop.showQuestionPop=!0}},hideSeckillPopup:function(t,e){switch(e){case"follow":t.seckillDisplayPop.showFollowPop=!1;break;case"question":t.seckillDisplayPop.showQuestionPop=!1}},updateSeckillQuestion:function(t,e){void 0===e&&(e={});var n=t.seckillQuestion;t.seckillQuestion=Object.assign({},n,e)},updateSeckillAccount:function(t,e){void 0===e&&(e={});var n=t.seckillAccount;t.seckillAccount=Object.assign({},n,e)}}}),Bd={components:(Gl={"detail-base":Ql},Gl[Pd.name]=Pd,Gl[Id.name]=Id,Gl),beforeCreate:function(){this.$store.registerModule(["page"],Ad)}},jd=Object(Rn.default)(Bd,(function(){var t=this.$createElement,e=this._self._c||t;return e("detail-base",[e("div",{attrs:{slot:"activity-block"},slot:"activity-block"},[e("follow-popup"),e("question-popup")],1)])}),[],!1,null,null,null).exports,Dd=vr(Ic,{state:{},getters:{customStock:function(){return!0},currentActivity:function(t){return Object(r.i)(t,"marketActivity.helpCut",{})},showActivityBlock:function(){return!0},showActivityBanner:function(){return!0},goodsPriceTag:function(){return"砍价享"},activitySkuPriceTags:function(t,e){return[e.goodsPriceTag]},activityNotStart:function(t,e){var n=e.currentActivity,i=+new Date;return n.startAt-i>0},activityHasFinish:function(t,e){var n=e.currentActivity,i=+new Date;return n.endAt-i<0},hasJoinActivity:function(t,e){return e.currentActivity.status>1},activityUrl:function(t,e){var n=r.b.get("ump_alias"),i=e.currentActivity;return r.b.add(t.url.h5+"/wscump/bargain_purchase",{umpAlias:n,sponsorId:i.sponsorId,umpActivityId:i.activityId,kdtId:t.shop.kdtId})},countdown:function(t,e){var n=t.marketActivity.helpCut;if(!n)return null;var i,o,a=n.startAt,s=n.endAt,c=+new Date;e.activityNotStart?(i="距开始仅剩",o=a):e.activityHasFinish?(i="活动已结束",o=c):(i="距结束仅剩",o=s);var u=Object(r.i)(t,"goods.stockNum",0);return{showProgress:!0,progressNum:e.leftStockNumProgress,progressDesc:"仅剩"+u+"件",desc:i,end:o}},activityRules:function(t,e){var n=t.shop.name,i=(e.activityPrice.showPrice||[]).join(".");return{label:"邀请好友砍价, 超低价购买心仪产品!",rules:["1. 活动期间消费者可邀请好友帮忙砍价，好友砍到底价 "+i+" 元后，即可按 "+i+" 元购买商品；","2. 好友帮忙砍到底价 "+i+" 元后，消费者须在有效期内购买砍价商品，逾期商品将恢复零售价；","3. 同一商品，同一用户仅可享受一次优惠价格；","4. 同一商品，同一用户仅能帮好友砍价一次；","5. 砍价商品数量有限。商品售罄后，商品将无法购买，即使你已经发起砍价；","6. 若系统判断用户为恶意刷单，"+n+"针对已下单的商品有权不予发货；对于刷单金额较大或行为较为恶劣者，"+n+"有权追究用户的法律责任。"]}},goodsBottomBarTip:function(t,e){if(e.activityNotStart)return{text:"活动即将开始"};if(e.activityHasFinish&&!e.hasJoinActivity)return{text:"砍价活动已结束，去看看其他商品吧"};var n=e.goodsBottomDisabledTip;return n.text?n:{text:""}},bigButtons:function(t,e){if(e.isBigButtonForbidBuy)return e.commonBigButtons;if(e.activityHasFinish&&!e.hasJoinActivity)return[{forbid:!0,text:"查看店铺其他商品",url:e.homepageUrl,primary:!0}];var n=e.currentActivity,i=[{sub:"￥"+Object(r.g)(t.goods.oldMinPrice,2),text:"单独购买",skuScene:Pr.n.SEL_SKU,accountUnionScene:Pr.a.NORMAL_BUY}],o=null;if(!e.activityNotStart)switch(n.status){case 2:o={forbid:!0,text:"已砍价购买",disabled:!0};break;case 3:o={text:"正在砍价",url:e.activityUrl,primary:!0};break;default:o={sub:"￥"+Object(r.g)(t.goods.minPrice,2),text:"立即砍价拿",primary:!0,skuScene:Pr.n.START_CUT,accountUnionScene:Pr.a.GROUP_BUY}}return o&&i.push(o),i},showGoodsCoupon:function(){return!1},activityInfoForPrice:function(){return{type:"helpCut",identification:r.b.get("activityId")}}},actions:{startCut:function(t){var e=t.state,n=t.commit,i=t.getters,o=i.currentActivity;return o.activityId?e.skuConfig.isAjaxing?Object(St.default)("正在砍价中"):(n("setSkuConfig",{isAjaxing:!0}),St.default.loading({message:"正在砍价...",forbidClick:!0}),void kt.a.post({url:r.b.add("/wscump/bargain-purchase/create.json",{kdtId:i.kdtId,activityId:o.activityId})}).then((function(t){void 0===t&&(t={}),St.default.clear(),Object(r.o)(r.b.add(i.activityUrl,{sponsorId:t.sponsorId}))})).catch((function(t){n("setSkuConfig",{isAjaxing:!1}),Object(St.default)(t.msg||"发起砍价失败，请重试")}))):Object(St.default)("缺少必要参数")}},mutations:{}}),Ed={components:{"detail-base":Ql},beforeCreate:function(){this.$store.registerModule(["page"],Dd)}},Ld=Object(Rn.default)(Ed,(function(){var t=this.$createElement;return(this._self._c||t)("detail-base")}),[],!1,null,null,null).exports,Nd=n("pGBJ"),Md=n("6vqa"),Fd={name:"TuanIntroRule",getters:["currentActivity","tuanIntroRules","tuanIntroRulesDetail"]},Rd=(n("wjs5"),Object(Rn.default)(Fd,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tuan-popup"},[n("div",{staticClass:"tuan-popup__top-text"},[n("span",{staticClass:"tuan-popup__red"},[t._v("【返现规则】")]),t._v("\n    "+t._s(t.currentActivity.startTime)+"至"+t._s(t.currentActivity.endTime)+"购买该团购商品，你除了能享受到团购折扣价以外，根据售出件数，还将获得以下返现:\n    "),t._l(t.tuanIntroRules,(function(e,i){return n("p",{key:i,staticClass:"tuan-popup__rule-text"},[t._v("\n      售出达"+t._s(e.min)+"件，每件返现"+t._s(t._f("formatPrice")(e.value))+"元\n    ")])}))],2),t._l(t.tuanIntroRulesDetail,(function(e,i){return n("p",{key:i,staticClass:"tuan-popup__bottom-text"},[t._v("\n    "+t._s(e)+"\n  ")])}))],2)}),[],!1,null,null,null).exports),Ud={name:"TuanIntroBar",components:($l={},$l[Nd.a.name]=Nd.a,$l[Rd.name]=Rd,$l[Md.a.name]=Md.a,$l),state:["displayPop"],getters:["currentActivity","tuanIntroBarTitle","tuanIntroTitle","tuanIntroContent"]},Wd=(n("EfCa"),Object(Rn.default)(Ud,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("activity-intro",{attrs:{title:"团购返现玩法"},on:{click:function(e){t.$dispatch("showTuanPop")}}},[n("div",{staticClass:"tuan-intro__content van-hairline--top"},[n("div",{staticClass:"tuan-intro__content-top"},[n("span",[t._v("已售"+t._s(t.currentActivity.soldCount)+"件")]),n("span",[t._v(t._s(t.tuanIntroTitle))])]),n("div",{staticClass:"tuan-intro__progress"},[n("van-progress",{attrs:{"show-pivot":!1,percentage:t.currentActivity.percentage,color:"#ed5050"}}),n("p",{staticClass:"tuan-intro__content-txt"},[t._v(t._s(t.tuanIntroContent))])],1)])]),n("common-pop",{attrs:{title:t.tuanIntroBarTitle},model:{value:t.displayPop.tuanPopShow,callback:function(e){t.$set(t.displayPop,"tuanPopShow",e)},expression:"displayPop.tuanPopShow"}},[n("tuan-intro-rule")],1)],1)}),[],!1,null,null,null).exports),Gd=vr(Ic,{state:{},getters:{currentActivity:function(t){return Object(r.i)(t,"marketActivity.tuan",{})},showActivityBlock:function(t,e){return e.currentActivity.isCash},showActivityBanner:function(){return!0},hideAvailableStores:function(){return!0},isSkuBarDisabled:function(){return!0},isSupportFCodeBuy:function(){return!1},goodsPriceTag:function(t,e){return e.currentActivity.isCash?"团购返现":"团购价"},activitySkuPriceTags:function(t,e){return[e.goodsPriceTag]},activityPrice:function(t,e){var n=t.goods,i=n.minPrice,o=void 0===i?0:i,a=n.maxPrice,s=void 0===a?0:a;return{priceTag:e.goodsPriceTag||"",isRange:o!==s,showPrice:Object(r.g)(o).split("."),originPrice:""}},activityNotStart:function(t,e){var n=e.currentActivity,i=+new Date;return+new Date(n.startAt)-i>0},activityHasFinish:function(t,e){var n=e.currentActivity,i=+new Date;return+new Date(n.endAt)-i<0},activityUrl:function(){return""},countdown:function(t){var e=t.marketActivity.tuan;if(!e)return null;var n,i,o=e.startAt,r=e.endAt,a=e.state,s=+new Date;switch(a){case"on":n="距结束仅剩",i=r;break;case"no":n="距开始仅剩",i=o;break;default:n="活动已结束",i=s}return{showProgress:!1,desc:n,end:i}},tuanIntroTitle:function(t,e){for(var n=e.currentActivity,i=n.returnMoney,o=n.soldCount,a=n.allRules,s=void 0===a?[]:a,c=0,u=0,l=0;l<s.length;l++){var d=s[l],p=d.min,f=d.value;if(o<c)break;c=p,u=f}return o<c?"满"+c+"件每件返"+Object(r.g)(+u,0)+"元":"下单即得团购返现"+Object(r.g)(i,0)+"元"},tuanIntroRules:function(t,e){return(e.currentActivity.allRules||[]).filter((function(t){return t.min>0}))},tuanIntroContent:function(t,e){return e.tuanIntroRules.map((function(t){return"满"+t.min+"件每件返"+Object(r.g)(+t.value,0)+"元"})).join("；")},tuanIntroRulesDetail:function(t,e){var n=e.currentActivity;return 1===n.isCash?["1、通过【微信支付】付款，返现金额将通过 【微信退款】发放，请注意查收；","2、通过【银行卡】付款，返现金额将在3天内，原路发放至银行卡账户；","3、最高返现金额不超过你的现金支付金额；"]:2===n.isCash?["1、订单支付完成"+(0!==n.limitedDays&&n.limitedDays?n.limitedDays+"天":"")+"后，且未发起退款才会收到返现金额；","2、返现金额将发放至储值卡余额，请前往个人中心查看"]:void 0},tuanIntroBarTitle:function(t,e){var n=e.currentActivity;return 1===n.isCash?"团购返现说明":2===n.isCash?"返储值金说明":void 0},goodsBottomBarTip:function(t,e){var n=e.goodsBottomDisabledTip;return n.text?n:e.activityNotStart?{text:"活动即将开始"}:e.activityHasFinish?{text:"活动已结束"}:{text:""}},bigButtons:function(t,e){if(e.isBigButtonForbidBuy)return e.commonBigButtons;if(e.activityHasFinish)return[{forbid:!0,text:"查看店铺其他商品",url:e.homepageUrl,primary:!0}];var n=e.currentActivity,i=[];n.isCash&&i.push({text:"邀请下单返现",share:!0});var o=null;switch(n.state){case"on":o={text:"立即参团",primary:!0,skuScene:Pr.n.ACT_BUY,accountUnionScene:Pr.a.GROUP_BUY};break;default:o={text:"即将开始",primary:!0,disabled:!0}}return o&&i.push(o),i},showGoodsCoupon:function(){return!1}},actions:{showTuanPop:function(t){(0,t.commit)("showTuanPop")}},mutations:{showTuanPop:function(t){t.displayPop.tuanPopShow=!0}}}),$d={components:(ql={"detail-base":Ql},ql[Wd.name]=Wd,ql),getters:["currentActivity"],beforeCreate:function(){this.$store.registerModule(["page"],Gd)}},qd=Object(Rn.default)($d,(function(){var t=this.$createElement,e=this._self._c||t;return e("detail-base",[this.currentActivity.isCash?e("tuan-intro-bar",{attrs:{slot:"activity-block"},slot:"activity-block"}):this._e()],1)}),[],!1,null,null,null).exports,Hd=vr(Ic,{state:{},getters:{isPresent:function(t,e){return!!Object(r.i)(t,"marketActivity.present",!1)},currentActivity:function(t){return Object(r.i)(t,"marketActivity.present",{})},activitySkuPriceTags:function(t,e){return["赠品"]},miniButtons:function(){return[]},goodsHasBeenSoldout:function(t,e){return Object(r.i)(t,"activitySku.list",[]).length>0&&0===e.initialSku.stockNum},showSkuBar:function(t,e){return!e.goodsHasBeenSoldout&&Object(r.i)(t,"activitySku.list",[]).length>1},goodsBottomBarTip:function(t){return{text:""}},initialSku:function(t){var e=Object(r.i)(t,"marketActivity.present.present.skuId");return Object(r.i)(t,"activitySku.list",[]).filter((function(t){return t.id===e})).pop()},bigButtonsData:function(t,e){return[{text:"领取赠品",type:"present",skuScene:Pr.n.ACT_BUY,accountUnionScene:Pr.a.NORMAL_BUY,primary:!0}]},showGoodsCoupon:function(){return!1},startSaleNum:function(){return 1}},actions:{},mutations:{}}),Vd={components:{"detail-base":Ql},beforeCreate:function(){this.$store.registerModule(["page"],Hd)}},zd=Object(Rn.default)(Vd,(function(){var t=this.$createElement;return(this._self._c||t)("detail-base")}),[],!1,null,null,null).exports,Yd=vr(Ic,{state:{},getters:{currentActivity:function(t){return Object(r.i)(t,"marketActivity.luckyDrawGroup",{})},showActivityBlock:function(){return!0},showActivityBanner:function(){return!0},hideSkuStepper:function(){return!0},hideSkuStock:function(){return!0},quota:function(){return 1},hideSkuOriginPrice:function(){return!1},goodsPriceTag:function(){return"0元抽奖"},activitySkuPriceTags:function(t,e){return[e.goodsPriceTag]},activityPrice:function(t,e){return{priceTag:e.goodsPriceTag||"",isRange:!1,showPrice:["0",""],originPrice:t.goods.oldPrice}},activityNotStart:function(t,e){var n=e.currentActivity,i=+new Date;return(n.startAt-i>0||3===n.buttonType)&&!e.activityHasFinish},activityHasFinish:function(t,e){var n=e.currentActivity,i=+new Date;return n.endAt-i<0||4===n.buttonType},activityUrl:function(t,e){var n=e.currentActivity,i=r.b.add(t.url.h5+"/wscump/collage/lottery/detail",{kdt_id:t.shop.kdtId,activity_id:n.activityId});if(n.ownGroup){var o=n.ownGroup,a=o.alias,s=o.orderNo;a&&(i=r.b.add(i,{group_alias:a})),s&&(i=r.b.add(i,{order_no:s}))}return i},countdown:function(t,e){var n=t.marketActivity.luckyDrawGroup;if(!n)return null;var i,o,r=n.buttonType,a=n.startAt,s=n.endAt,c=n.ownGroup,u=+new Date;return 4==+r?(i="活动已结束",o=u):e.activityNotStart?(i="距活动开始",o=a):e.activityHasFinish?(i="活动已结束",o=u):c?(i="距开奖仅剩",o=s):(i="距结束仅剩",o=s),{showProgress:!1,desc:i,end:o}},activityRules:function(t,e){var n=t.goods.title,i=t.shop,o=i.name,r=i.phone,a=e.currentActivity,s=a.joinNum,c=a.couponName,u="拼团未成功不具备抽奖资格，拼团成功后可获得抽奖资格，一等奖为【"+n+"】",l="【"+n+"】在抽奖结束后72小时内发货";c&&(u+="，二等奖为【"+c+"】",l="【"+c+"】在抽奖结束后立即发放，"+l);var d=["活动结束后将从拼团成功的用户中，随机抽取中奖者",u,"同一商品，同一用户仅限作为团员成团一次，但可以作为团长无限发起拼团，成团后，中奖概率叠加",l,"本活动解释权在法律范围内归【"+o+"】所有"].map((function(t,e){return e+1+"、"+t}));return d.unshift("开奖时间：活动结束后立即开奖"),r&&d.push("客服电话：【"+r+"】"),{label:"邀请"+s+"名好友成团，即可获得抽奖资格，重复成团中奖率提升",rules:d}},goodsBottomBarTip:function(t,e){if(e.activityNotStart)return{text:"活动即将开始"};if(e.activityHasFinish){var n=e.currentActivity;return{text:"查看中奖结果",url:r.b.add(t.url.h5+"/wscump/collage/lottery/result",{kdt_id:t.shop.kdtId,activity_id:n.activityId})}}var i=e.goodsBottomDisabledTip;return i.text?i:{text:""}},bigButtons:function(t,e){if(e.isBigButtonForbidBuy)return e.commonBigButtons;if(e.activityHasFinish||e.activityNotStart)return[{forbid:!0,text:"查看店铺其他商品",url:e.homepageUrl,primary:!0}];var n=[],i=null;switch(e.currentActivity.buttonType){case 1:i={text:"立即0元开团",primary:!0,skuScene:Pr.n.ACT_BUY,accountUnionScene:Pr.a.GROUP_BUY};break;case 2:i={text:"查看我的团",url:e.activityUrl,primary:!0};break;default:i={forbid:!0,text:"看看其他商品",url:e.homepageUrl,primary:!0}}return i&&n.push(i),n},showGoodsCoupon:function(){return!1},activityInfoForPrice:function(){return{type:"luckyDrawGroup",identification:r.b.get("activityId")}}},actions:{},mutations:{}}),Kd={components:{"detail-base":Ql},beforeCreate:function(){this.$store.registerModule("page",Yd)}},Qd=Object(Rn.default)(Kd,(function(){var t=this.$createElement;return(this._self._c||t)("detail-base")}),[],!1,null,null,null).exports,Zd={auctionState:{refreshTime:+new Date,count:0,nextEndTime:0},auctionLog:{list:[],page:1,loading:!1,finished:!1}},Jd={customStock:function(){return!0},isAuction:function(t){return!!Object(r.i)(t,"marketActivity.auction",null)},currentActivity:function(t){return Object(r.i)(t,"marketActivity.auction",{})},showActivityBlock:function(){return!0},showActivityBanner:function(){return!0},showSoldNum:function(t){return!1},isSupportFCodeBuy:function(){return!1},hideAvailableStores:function(){return!0},goodsPriceTag:function(){return"降价拍"},activitySkuPriceTags:function(){return["降价拍"]},activityPrice:function(t,e){var n=t.goods,i=n.minPrice,o=void 0===i?0:i,a=n.maxPrice,s=void 0===a?0:a,c=n.oldPrice,u=void 0===c?"":c;return{priceTag:e.goodsPriceTag||"",isRange:o!==s,showPrice:Object(r.g)(o).split("."),originPrice:u}},countdown:function(t,e){if(!e.isAuction)return null;var n=e.currentActivity,i=n.status,o=n.nextCountdown,a=t.auctionState,s=a.nextEndTime,c=a.refreshTime;s||(s=c+o);var u,l,d=+new Date;"SOLD_OUT"===i?(u="已售罄",l=d):"ENDED"===i?(u="活动已结束",l=d):(u="距下次降价",l=s);var p=Object(r.i)(t,"goods.stockNum",0);return{showProgress:!0,progressNum:e.leftStockNumProgress,progressDesc:"仅剩"+p+"件",desc:u,end:l}},activityRules:function(t,e){var n=e.currentActivity,i=n.stepTime,o=n.stepPrice,a=i/1e3;return{label:"降价幅度：每"+(a/60>=1?Math.floor(a/60)+"分钟降":a%60+"秒降")+Object(r.g)(o)+"元",ruleTitle:"抢拍规则",rules:["1. 什么是降价拍？","降价拍是商品价格由高到低依次递减，直至竞买人以自己可承受的价格抢单支付成功，活动结束。","2. 怎样算抢拍成功？","每位竞买人，均有一次抢拍资格，支付成功后算作抢拍成功。若抢拍商品库存小于同时拍下付款用户数，则系统内先付款用户视作抢拍成功，后付款用户抢拍不成功。抢拍失败的客户，商家可对其进行退款。"]}},goodsBottomBarTip:function(t,e){var n=e.goodsBottomDisabledTip;if(n.text)return n;var i="";switch(e.currentActivity.status){case"ENDED":i="活动已结束";break;case"SOLD_OUT":i="已售罄"}return{text:i}},bigButtons:function(t,e){if(e.isBigButtonForbidBuy)return e.commonBigButtons;var n=e.currentActivity.status;if("ENDED"===n||"SOLD_OUT"===n)return[{forbid:!0,text:"查看店铺其他商品",url:e.homepageUrl,primary:!0}];var i=[{text:"立即拿下",skuScene:Pr.n.ACT_BUY,accountUnionScene:Pr.a.NORMAL_BUY}];return i},goodsDetailTabs:function(t,e){var n=t.shopConfig.showBuyRecord,i=[];return i.push({type:"goods",desc:"商品详情"}),n&&i.push({type:"sales",desc:"成交记录"}),i.push({type:"auction",desc:"中拍/超卖"}),i},activeDetailTabIndex:function(t,e){var n=t.goodsDetail.defaultType,i=e.goodsDetailTabs,o="SOLD_OUT"===e.currentActivity.status,a=0;("true"===r.b.get("show_auction_log")||o)&&(n="auction");for(var s=0,c=i.length;s<c;s++)if(i[s].type===n){a=s;break}return a},showGoodsCoupon:function(){return!1}},Xd={updateAuctionState:function(t,e){void 0===e&&(e={});var n=t.auctionState.count,i=e,o=i.price,a=i.nextEndTime;t.goods=Object.assign({},t.goods,{price:Object(r.g)(o),minPrice:o,maxPrice:o}),t.auctionState=Object.assign({},t.auctionState,{count:n+1,nextEndTime:a});var s={price:o,collectionPrice:o,minPrice:o,maxPrice:o};Object.assign(t.originActivitySku,s)},fetchAuctionLog:function(t){t.auctionLog.loading=!0},fetchAuctionLogSuccess:function(t,e){var n=t.auctionLog,i=n.page,o=n.list,r=Object(fs.a)(n,["page","list"]);t.auctionLog=Object.assign({},r,{list:[].concat(e,o),page:i+1,loading:!1,finished:o.length<5})},fetchAuctionLogFail:function(t){t.auctionLog.loading=!1}},tp=n("KaBt"),ep=vr(Ic,{state:Zd,getters:Jd,actions:{countdownEnded:function(t){var e=t.state,n=t.getters,i=t.commit,o=n.currentActivity,r=o.currentPrice,a=o.stepPrice,s=o.endPrice,c=o.nextCountdown,u=o.stepTime,l=e.auctionState,d=l.refreshTime,p=l.count,f=r-p*a,h=d+c+p*u;f<s?window.location.reload():i("updateAuctionState",{price:f,nextEndTime:h})},checkAuctionStock:function(t){var e=t.state,n=t.getters;return Object(tp.b)({method:"get",url:"/wscgoods/auction-api/stock.json",data:{kdtId:e.shop.kdtId,auctionId:n.currentActivity.activityId}})},fetchActivitySkuData:function(t){var e=t.state,n=t.getters,i=t.commit;return(0,t.dispatch)("checkAuctionStock").then((function(t){var o=t.stockNum,r=void 0===o?0:o;return 0===r?(window.location.reload(),Promise.reject("库存不足")):(i("updateSkuData",Object.assign({},e.originActivitySku,{stockNum:r})),i("updateSkuLimit",n.currentActivity.limit),Promise.resolve())})).catch((function(t){void 0===t&&(t={});var e=t.msg||t.message;return Object(St.default)(e),160700150===t.code&&setTimeout((function(){window.location.reload()}),2e3),Promise.reject(e)}))},getAuctionLogs:function(t){var e=t.commit,n=t.state;e("fetchAuctionLog"),kt.a.get({url:"/wscgoods/auction-api/paid-list.json",data:{kdtId:n.shop.kdtId,auctionId:n.marketActivity.auction.activityId,page:n.auctionLog.page,pageSize:5}}).then((function(t){var n=t.map((function(t){return Object.assign({},t,{avatar:Object(r.h)(t.fans_avatar,"!160x160.jpg")})}));e("fetchAuctionLogSuccess",n)})).catch((function(t){e("fetchAuctionLogFail")}))}},mutations:Xd}),np={components:{"detail-base":Ql},beforeCreate:function(){this.$store.registerModule(["page"],ep)}},ip=Object(Rn.default)(np,(function(){var t=this.$createElement;return(this._self._c||t)("detail-base")}),[],!1,null,null,null).exports,op=vr(Ic,{state:{},getters:{isFCode:function(t,e){return Object(r.i)(t,"marketActivity.fCode",!1)},currentActivity:function(t){return Object(r.i)(t,"marketActivity.fCode",{})},activitySkuPriceTags:function(){return["F码"]},showPostage:function(){return!1},showSoldNum:function(){return!1},hideAvailableStores:function(){return!0},isSupportFCodeBuy:function(){return!1},miniButtonsData:function(){return[]},bigButtons:function(t,e){return Object(r.i)(t,"display.showForbidBuyBtn","")?[{forbid:!0,text:"查看店铺其他商品",url:e.homepageUrl,primary:!0}]:[{text:e.bottomBuyBtnTxt,skuScene:Pr.n.ACT_BUY,accountUnionScene:Pr.a.NORMAL_BUY}]}},actions:{},mutations:{}}),rp={components:{"detail-base":Ql},beforeCreate:function(){this.$store.registerModule(["page"],op)}},ap=Object(Rn.default)(rp,(function(){var t=this.$createElement;return(this._self._c||t)("detail-base")}),[],!1,null,null,null).exports,sp=function(){return"AD-Goods-"+Date.now()+"-"+parseInt(1e4*Math.random(),10)},cp=_global.defaultAddress,up=void 0===cp?{}:cp,lp={userName:up.userName||"",tel:up.tel||"",country:up.country||"",province:up.province||"",city:up.city||"",county:up.county||"",areaCode:up.areaCode||"",addressDetail:up.addressDetail||""},dp={isFastBuy:!0,isFastBuySplit:Object(r.i)(_global,"goodsData.fastbuyFeature.isFastBuySplit",!1),openIdParams:Object(r.i)(_global,"weixinPayParams",{}),payWaysInfo:{current:""},address:lp,message:"",payPrice:{price:"",originPostage:"",postage:"",decrease:"",finalPrice:null},skuNum:1,addressPopup:{show:!1},pay:{},order:{orderNo:"",orderNos:[]},buyer:{phone:""},isScrollToPay:!1,skuConfig:{skuComb:{}},confirmError:!1,isWeapp:_global.isWeapp||0,wxPayDiscount:_global.wxPayDiscount||0,hideFastBuyBottom:!1,tradeRecordsV2:[],fastBuyBookKey:sp()},pp=n("W4ar"),fp=window._global.nobody,hp=function(t){return"number"==typeof t?(Math.abs(t)/100).toFixed(2):"0.00"},mp={hasSkuData:function(t,e){return!Object(Ma.e)(e.skuData)},skuData:function(t){return t.originSku},payPriceInfo:function(t){var e=t.payPrice,n=e.price,i=e.postage,o=e.finalPrice,r=e.decrease,a=e.originPostage,s=r||0;return a&&a>i&&(s+=a-i),{price:hp(n),postage:hp(a),decrease:s?hp(s):"",finalPrice:hp(o)}},orderCreated:function(t){var e=t.order.orderNos;return!(!Array.isArray(e)||!e.length)},isShopClosed:function(){return window._global.isCloseBusiness},miniButtons:function(){return[]},bigButtons:function(t,e){return[{text:"立即购买",skuScene:Pr.n.SEL_SKU,accountUnionScene:Pr.a.NORMAL_BUY,primary:!0}]},goodsDetailTabs:function(t,e){var n=e.fastGoodsDetailUrl,i=e.showBuyRecordListStyle,o=[];return o.push({type:"goods",desc:e.isNormalTplStyle?"商品详情":"查看商品详情",url:n}),o.push({type:"faq",desc:"常见问题",url:"#"}),i&&o.push({type:"sales",desc:"本店成交"}),o},goodsSoldNum:function(t){return Object(r.i)(t,"goods.soldNum",0)},isWxPay:function(t){var e=t.payWaysInfo.current,n=void 0===e?"":e;return pp.a.indexOf(n)>-1},isCOD:function(t){var e=t.payWaysInfo.current;return"CASH_ON_DELIVERY"===(void 0===e?"":e)},bottomBarText:function(t,e){var n="",i=e.bigButtonsData;return i&&i[0]&&i[0].tip&&(n=i[0].tip),t.goods.forbidBuyReason||n},showSkuBar:function(){return!1},showCategoryBar:function(){return!1},showDatePickerBar:function(){return!1},showActivityBanner:function(){return!1},isDepositPresale:function(){return!1},isPriceCalendar:function(){return!1},hideAvailableStores:function(){return!1},showShareIcon:function(){return!1},showInstallmentBar:function(){return!1},confirmPostData:function(t){var e=t.shopConfig,n=void 0===e?{}:e;return JSON.stringify({source:{bookKey:t.fastBuyBookKey,kdtSessionId:fp||"",platform:t.env.platform},seller:{kdtId:t.shop.kdtId,storeId:t.multistore.id||0},config:{containsUnavailableItems:!1,paymentExpiry:0,receiveMsg:!0,usePoints:!1,useWxpay:!!t.postData.useWxpay,isFastAdOrder:!0},delivery:{expressType:"express",expressTypeChoice:0,hasFreightInsurance:1==+n.supportFreightInsurance,address:{}},ump:{},items:[]})},isSupportFCodeBuy:function(){return!1},stepperTitle:function(){return"数量"}},gp={UPDATE_ADDRESS:function(t,e){t.address=Object.assign({},t.address,e)},UPDATE_PAY_WAY:function(t,e){t.payWaysInfo.current=e},UPDATE_MESSAGE:function(t,e){t.message=e},CHANGE_ADDRESS_POPUP_STATUS:function(t,e){t.addressPopup.show=e},UPDATE_SKU_NUM:function(t,e){t.skuNum=e},UPDATE_PAY_PRICE:function(t,e){t.payPrice=Object.assign({},e)},SET_ORDER_DATA:function(t,e){t.order.orderNo=e.orderNo,t.order.orderNos=e.orderNos;var n=e.prePaymentPreparation||{};n.scene="GIFT_COMMON",n.orderNo=n.orderNo||e.orderNos[0],t.pay={prepayParams:n,payParams:e.paymentPreparation,extPoint:n.extPointPayResultVO,showPayResult:e.showPayResult}},UPDATE_WITH_DEFAULT_ADDRESS:function(t,e){if(e.areaCode){var n={};Object.keys(t.address).forEach((function(i){n[i]=t.address[i]||e[i]})),t.address=n}},SET_CONFIRM_ERROR:function(t,e){void 0===e&&(e=!1),t.confirmError=e},TOGGLE_FASTBUY_BOTTOM:function(t,e){void 0===e&&(e=!1),t.hideFastBuyBottom=e}},vp=n("Ywrn"),yp=n.n(vp),bp=n("mCOH"),_p=n("+6Oo"),kp=n.n(_p),wp={id_no:"123456789012345",text:"1",tel:"1",email:"1@1.com",date:"2019-03-14",time:"00:00",textarea:"129",mobile:"123456",image:"124"},Sp=function(t,e){return"time"===t.type&&t.datetime>0?"2019-03-14 00:00":wp[t.type]||"1"},Cp=function(t){var e=t.state,n=t.getters,i=t.skuData,o=t.addressData,r=e.originSku,a=e.skuNum,s=e.goods,c=e.shop,u=e.skuExtraData,l=e.address,d=e.message,p=e.payWaysInfo,f=n.confirmPostData,h=u.selectedSkuComb,m=p.current,g={goodsId:s.id,kdtId:c.kdtId,num:a};if(!m)return!1;var v=[];if(h?(g.skuId=h.id,g.price=h.price,v=h.properties||[]):r.noneSku&&(g.skuId=r.collectionId,g.price=r.collectionPrice),!g.skuId)return!1;g.propertyIds=v.reduce((function(t,e){return(e.v||[]).forEach((function(e){t.push(e.id)})),t}),[]);var y=i?function(t,e){return i.messages["message_"+e]||""}:Sp,b=(r.messages||[]).map(y);if(b.length>0&&(g.itemMessage=JSON.stringify(b)),!l.areaCode)return!1;g.dc_ps=kp()("dc_ps")||"";var _=JSON.parse(f);return _.items.push(g),_.delivery.address=Object.assign({},o||l),_.config.buyerMsg=d||"",_.config.preWxPay=pp.a.indexOf(m)>-1?"PRE_WX_PAY":"",_},Pp=vr(Ic,{state:dp,getters:mp,actions:{initIM:function(){},changePayway:function(t,e){var n=t.commit,i=t.dispatch;n("UPDATE_PAY_WAY",e.payWay),i("doConfirm")},getDefaultAddress:function(t){var e=t.commit,n=t.dispatch;kt.a.get({url:"/wscshop/goods-api/user-address.json"}).then((function(t){t&&t.areaCode&&(e("UPDATE_WITH_DEFAULT_ADDRESS",t),n("doConfirm"))})).catch((function(t){}))},scrollToPay:function(t){t.commit;location.href="#fastbuy-pay-form__for-position"},handleBigButtonClick:function(t,e){var n=t.state,i=t.dispatch;if(void 0===e&&(e={}),!e.disabled)return e.url?(Object(Ma.h)(e.url),void(n.goods.isOutlink&&bp.YzPageLogger&&bp.YzPageLogger.log({et:"click",ei:"go_external_buy",en:"点击外链购买按钮",params:{url:e.url}}))):void(n.isFastBuySplit?i("triggerSku",e):(i("scrollToPay"),Object(St.default)({message:"请确认下单信息",duration:"1000"})))},doSubmit:function(t){var e=t.getters,n=t.dispatch,i=e.bigButtonsData[0];i.disabled||(i.url?Io.default.navigate(Object.assign({url:i.url},i.extraInfo||{})):n("checkLoginBeforeDo",{type:"buy"}))},checkLoginBeforeDo:function(t,e){var n=t.state,i=(t.getters,t.commit),o=t.dispatch,r=e.type;o("checkIsNeedLogin").then((function(t){if(t&&!n.env.redirectLoginByPlatform)return i("setSkuConfig",{ajaxType:"getDefaultAddress"}),o("doPageLogin"),void(n.isScrollToPay||o("scrollToPay"));"address"===r?i("CHANGE_ADDRESS_POPUP_STATUS",!0):"buy"===r&&o("doBuy")}))},doBuy:function(t){var e=t.getters,n=e.isCOD,i=e.isWxPay;fc.a.$emit("fastbuyGoods:submit",{isCOD:n,isWxPay:i})},skuNum:function(t,e){var n=t.commit,i=t.dispatch;n("UPDATE_SKU_NUM",e),i("doConfirm")},doRealConfirm:function(t){var e=t.state,n=t.commit,i=t.getters,o=e.display.showForbidBuyBtn,r=i.isOverQuotaLimit;if(!(o||r||i.saleRemainTime)){var a=Cp({state:e,getters:i});a&&kt.a.post({url:"/wscshop/trade/fastbuy/confirm.json",errorMsg:"计算总价失败，请刷新页面",timeout:15e3,contentType:"application/json; charset=utf-8",data:a}).then((function(t){var e=t.tradeConfirmation,i=t.shopItem,o=e||i||{},r=o.unavailableItems,a=void 0===r?[]:r,s=o.orderPayment;a.length>0?n("SET_CONFIRM_ERROR",o.unavailableItems[0].unavailableDesc):s&&(n("SET_CONFIRM_ERROR"),n("UPDATE_PAY_PRICE",{price:s.itemPay||0,originPostage:s.originPostage||0,postage:s.postage||0,decrease:s.decrease||0,finalPrice:s.realPay||0}))})).catch((function(t){}))}},doConfirm:function(t){var e=t.dispatch;uc("doConfirm",500,(function(){e("doRealConfirm")}))},doBill:function(t,e){var n=t.state,i=t.commit,o=t.getters,r=t.dispatch,a=e.skuData,s=e.addressData,c=e.isCOD,u=e.isWxPay;r("doPCCheck").then((function(){var t=o.isOverQuotaLimit,e=o.quotaText,l=o.quotaUsed;if(t)Object(St.default)("该商品"+e+",你之前已经购买"+l+"件");else{var d=n.confirmError;if(d)Object(St.default)(d);else{var p=Cp({state:n,getters:o,skuData:a,addressData:s});p&&(St.default.loading({duration:0,forbidClick:!0,message:"下单中"}),kt.a.post({url:"/wscshop/trade/fastbuy/bill.json",errorMsg:"下单失败，请刷新页面",timeout:15e3,contentType:"application/json; charset=utf-8",data:p}).then((function(t){St.default.clear(),i("SET_ORDER_DATA",t),r("logCreatOrder"),r("refreshBookKey"),r("startPay",{isWxPay:u,isCOD:c})})).catch((function(t){St.default.clear(),Object(St.default)(t||"下单失败，请刷新页面")})))}}}))},refreshBookKey:function(t){t.fastBuyBookKey=sp()},logCreatOrder:function(t){var e=t.state,n=e.order.orderNos,i=(e.pay.prepayParams||{}).prepayId,o=void 0===i?"":i;Array.isArray(n)&&n.forEach((function(t){bp.YzPageLogger.log({et:"custom",ei:"orderCreate",en:"创建订单",params:{type:"normal",prepay_id:o,order_no:t,orders_combine_id:e.order.orderNo}})}))},doPCCheck:function(t){var e=t.state,n=e.user.isAdmin,i=e.env.isMobile;return new Promise((function(t){!n||i?t():Object(St.default)({message:"预览不支持进行购买，实际效果请在手机上进行。",duration:5e3})}))},startPay:function(t,e){var n=t.state,i=t.dispatch,o=(e.isWxPay,e.isCOD),r=n.pay,a=n.isWeapp,s=r.extPoint,c=r.prepayParams,u=void 0===c?{}:c,l=u.prepay,d=u.prepaySuccess;if(s&&s.cashDeskUrl&&s.isOutsidePay&&s.isSuccess)a?Object(St.default)("小程序暂不支持外部收银台"):yp()(s.cashDeskUrl);else if(r.zeroOrder)i("jumpToResult");else if(r.showPayResult)i("jumpToResult");else{if(l)return d?void(o?fc.a.$emit("fastbuyGoods:pay",{isCOD:o}):fc.a.$emit("fastbuyGoods:inlineCashier")):(Object(St.default)("支付失败，需重新支付"),void setTimeout((function(){location.reload()}),200));Object(St.default)("统一下单失败，请稍候")}},jumpToResult:function(t){var e=t.state,n=e.order,i=void 0===n?{}:n,o=i.orderNos&&i.orderNos[0],r=e.pay,a=(void 0===r?{}:r).payParams,s=void 0===a?{}:a;Io.default.navigate({url:s.partnerReturnUrl,weappUrl:"/packages/order/paid/index?order_no="+o,type:"redirectTo"})},hideFastBuyBottom:function(t){var e=t.commit,n=t.state;t.getters.disabledBigButton||n.isFastBuy&&!n.isFastBuySplit&&e("TOGGLE_FASTBUY_BOTTOM",!0)},showFastBuyBottom:function(t){(0,t.commit)("TOGGLE_FASTBUY_BOTTOM",!1)},afterLogin:function(t){var e=t.state,n=t.commit,i=t.dispatch,o=e.skuConfig.ajaxType;n("setSkuConfig",{isAjaxing:!0}),n("updateUserLoginStatus",!0),i(o,{type:o,postData:e.postData})}},mutations:gp}),xp={components:{"detail-base":Ql},beforeCreate:function(){this.$store.registerModule(["page"],Pp)},mounted:function(){this.moveHeader()},methods:{onScroll:function(t){var e=t.fastbuyPayForm,n=t.goodsDetail;e&&this.detectPayForm(e),n&&this.detectGoodsDetail(n)},detectPayForm:function(t){var e=t.$el;this.isTouchEdge(e)?this.$dispatch("hideFastBuyBottom"):this.$dispatch("showFastBuyBottom")},detectGoodsDetail:function(t){var e=t.$el;this.$commit("displayGoodsFixedInfo",this.isTouchEdge(e))},isTouchEdge:function(t){if(!t||!t.getBoundingClientRect)return!1;return t.getBoundingClientRect().top<100},moveHeader:function(){var t=document.querySelector(".header-bar")||document.querySelector("#shop-top-bar"),e=document.querySelector(".module-main");t&&e&&this.$nextTick((function(){e.prepend(t)}))}}},Op=(n("j6nR"),Object(Rn.default)(xp,(function(){var t=this.$createElement;return(this._self._c||t)("detail-base",{on:{scroll:this.onScroll}})}),[],!1,null,null,null).exports),Tp=n("JL3r"),Ip=n.n(Tp),Ap=vr(Ic,{state:{},getters:{isInSourcingFission:function(){return!0},isShowInSourcingFissionTip:function(t,e){return e.isInSourcingFission&&!e.activityNotStart&&!e.activityHasFinish},currentActivity:function(t){return Object(r.i)(t,"marketActivity.inSourcingFission",{})},showActivityBanner:function(){return!0},goodsPriceTag:function(){return"内购价"},activitySkuPriceTags:function(t,e){return[e.goodsPriceTag]},activityNotStart:function(t,e){var n=e.currentActivity,i=+new Date;return n.startAt-i>0},activityHasFinish:function(t,e){var n=e.currentActivity,i=+new Date;return n.endAt-i<0},activityUrl:function(t,e){var n=r.b.get("ump_alias"),i=e.currentActivity;return r.b.add(Ip()("/wscump/in-sourcing-fission/activity","h5",e.kdtId),{umpAlias:n,umpActivityId:i.activityId,kdtId:t.shop.kdtId,activityId:i.activityId,inviterVoucherAlias:i.inviterVoucherAlias})},countdown:function(t,e){var n=t.marketActivity.inSourcingFission;if(!n)return null;var i,o,a=n.startAt,s=n.endAt,c=+new Date;e.activityNotStart?(i="距开始仅剩",o=a):e.activityHasFinish?(i="活动已结束",o=c):(i="距结束仅剩",o=s);var u=Object(r.i)(t,"goods.stockNum",0);return{showProgress:!0,progressNum:e.leftStockNumProgress,progressDesc:"仅剩"+u+"件",desc:i,end:o}},leftStockNumProgress:function(t){var e=Object(r.i)(t,"goods.stockNum",0),n=Math.max(Object(r.i)(t,"originActivitySku.totalActivityStockNum",0),e);return+Math.round(100*e/n)},goodsBottomBarTip:function(t,e){if(e.activityNotStart)return{text:"活动即将开始"};if(e.activityHasFinish)return{text:"活动已结束，去看看其他商品吧"};var n=e.goodsBottomDisabledTip;return n.text?n:{text:""}},bigButtons:function(t,e){if(e.isBigButtonForbidBuy)return e.commonBigButtons;if(e.activityNotStart||e.activityHasFinish)return[{forbid:!0,text:"查看店铺其他商品",url:e.homepageUrl,primary:!0}];var n=[{sub:"￥"+Object(r.g)(t.goods.minPrice,2),text:"内购价购买",primary:!0,skuScene:Pr.n.ACT_BUY,accountUnionScene:Pr.a.NORMAL_BUY}];return e.currentActivity.hasBuyThreshold&&n.unshift({sub:"￥"+Object(r.g)(t.goods.oldMinPrice,2),text:"直接购买",skuScene:Pr.n.NORMAL_BUY,accountUnionScene:Pr.a.NORMAL_BUY}),n},activityInfoForPrice:function(t,e){return{type:"inSourcingFission",identification:t.activityInfo.activityAlias}},isEnoughCoupon:function(t,e){return e.acquireCoupon>=e.needCoupon},currentNeedCoupon:function(t){var e=t.skuExtraData.stepperCount,n=void 0===e?1:e,i=t.skuManager.infos,o=i.isPreReady,r=i.needInSourcingCouponNum,a=void 0===r?0:r;return o&&a?a*n:0},showNotEnoughCouponTip:function(t,e){var n=t.skuConfig,i=e.acquireCoupon,o=e.currentNeedCoupon;return n&&n.skuScene!==Pr.n.ACT_BUY?0:i<o?o:0},acquireCoupon:function(t,e){return e.currentActivity.havingInSourcingCouponNum},needCoupon:function(t){var e=t.originActivitySku;if(!e)return 0;if(0===e.list.length)return e.needInSourcingCouponNum||0;var n=e.list.filter((function(t){return!t.notJoinActivity&&t.stockNum>0})).sort((function(t,e){return t.needInSourcingCouponNum-e.needInSourcingCouponNum}))[0];return n&&n.needInSourcingCouponNum||0},inSourcingFissionBuyText:function(t,e){var n=e.isEnoughCoupon,i=e.needCoupon,o=e.acquireCoupon,r=e.currentActivity;return n?r.hasBuyThreshold?"你有 "+o+" 张内购券，可直接使用内购价购买":"无需内购券，可直接内购价购买":"需使用 "+i+" 张内购券，剩余内购券 "+o+" 张"},showSoldNum:function(){return!1},showGoodsStock:function(){return!1},selectedSkuAndProp:function(t,e){var n=e.skuData,i=void 0===n?{}:n,o=e.baseSelectedSkuAndProp,r=i.noneSku,a=i.needInSourcingCouponNum||0;return o&&r?Object.assign({},o,{needInSourcingCouponNum:a}):o}},actions:{beforeSetWxShare:function(t){var e=t.state,n=t.getters,i=t.dispatch,o="送你"+e.shop.name+"内购福利！享受超低内购价！";return Object(Fa.a)()||kc((function(){return i("dispatchLogin")})),{title:o,link:n.activityUrl}},beforeSetCopyLinkShare:function(t){var e=t.state,n=t.getters,i="送你"+e.shop.name+"内购福利！享受超低内购价！",o=n.currentActivity;return{baseText:i,query:{activityId:o.activityId,inviterVoucherAlias:o.inviterVoucherAlias,type:o.type}}},beforeSetPosterShare:function(t){return{more:{url:t.getters.activityUrl}}},notEnoughCouponHandle:function(t){var e=t.commit,n=t.dispatch;Object(Fa.a)()?e("updateDisplayPopByKey","showInSourcingSharePop"):n("dispatchLogin")},dispatchLogin:function(){return Object(Fa.b)().then((function(t){return t?window.location.reload():Promise.reject(new Error("not login"))}))}},mutations:{}}),Bp={components:{"detail-base":Ql},beforeCreate:function(){this.$store.registerModule(["page"],Ap)}},jp=Object(Rn.default)(Bp,(function(){var t=this.$createElement;return(this._self._c||t)("detail-base")}),[],!1,null,null,null).exports,Dp=(n("LL2K"),n("qywM")),Ep={name:"follow-popup",components:(Hl={},Hl[Dp.default.name]=Dp.default,Hl[er.default.name]=er.default,Hl),state:["showProductLaunchPopup","followInfo"],methods:{onClose:function(){this.$store.commit("closeProductLaunchPopup")}}},Lp=(n("5R5y"),Object(Rn.default)(Ep,(function(){var t=this.$createElement,e=this._self._c||t;return e("van-action-sheet",{staticClass:"follow-popup",attrs:{value:this.showProductLaunchPopup,title:"预约抢购通知"},on:{input:this.onClose}},[e("h3",{staticClass:"follow-title"},[e("van-icon",{attrs:{name:"warning-o",size:"18",color:"#faab0c"}}),e("span",[this._v("关注公众号才能接收通知完成预约")])],1),e("van-image",{staticClass:"follow-img",attrs:{width:"204",height:"204",src:this.followInfo.qrcodeImg}}),e("div",{staticClass:"follow-tip"},[this._v("长按识别二维码关注店铺")])],1)}),[],!1,null,"61a7ae35",null).exports),Np=vr(Ic,{state:{showProductLaunchPopup:!1},getters:{isProductLaunch:function(){return!0},waitToSoldCountdown:function(){return!1},showActivityBanner:function(){return!0},showActivityBlock:function(){return!0},countdown:function(t){var e,n,i=t.goodsActivity.waitToSold;return i?(e="距预约结束仅剩",n=i.startSoldTime):(e="火热开售中",n=Date.now()),{showProgress:!1,desc:e,end:n}},productLaunchButtons:function(){return{primary:!0,text:"立即预约",skuScene:Pr.n.ACT_BUY}}},actions:{productLaunchReservation:function(t,e){var n=t.state,i=t.commit,o=t.dispatch,a=(void 0===e?{}:e).preCheck,s=void 0===a||a,c=Object(r.i)(n,"shop.kdtId",0),u=Object(r.i)(n,"goods.id",0),l=Object(r.i)(n,"marketActivity.productLaunch.activityId","0"),d=Object(r.i)(n,"marketActivity.productLaunch.activityAlias","");!s||Object(Fa.a)()?Object(r.i)(n,"buyConfig.isFans")?Promise.all([kt.a.post({url:"/wscgoods/activity-api/product-launch/reservation.json",data:{goodsId:u,alias:d}}).then((function(){return!0})).catch((function(t){Object(St.default)({message:t||"新品发售预约失败",position:"bottom"})})),o("saleReminderHandle",{preCheck:!1})]).then((function(t){t[0]&&setTimeout((function(){Bn.ZNB.navigate({url:Object(r.c)("/wscindustry/product-launch/"+l+"?kdt_id="+c,"h5",c)})}),300)})):o("fetchQrcodeWeixinImg").then((function(){i("openProductLaunchPopup")})):Object(Fa.b)().then((function(){window._global.user.has_login=!0,o("initSaleReminder").then((function(t){t||o("productLaunchReservation")}))}))}},mutations:{openProductLaunchPopup:function(t){t.showProductLaunchPopup=!0},closeProductLaunchPopup:function(t){t.showProductLaunchPopup=!1}}}),Mp={components:{"detail-base":Ql,"follow-popup":Lp},beforeCreate:function(){this.$store.registerModule(["page"],Np)}},Fp={firstPage:Uc,goods:nd,groupOn:Sd,seckill:jd,helpCut:Ld,tuan:qd,presentExchange:zd,luckyDrawGroup:Qd,fastbuy:Op,auction:ip,fCode:ap,inSourcingFission:jp,productLaunch:Object(Rn.default)(Mp,(function(){var t=this.$createElement,e=this._self._c||t;return e("detail-base",[e("div",{attrs:{slot:"activity-block"},slot:"activity-block"},[e("follow-popup")],1)])}),[],!1,null,null,null).exports},Rp={fetchSuccess:!1,parsedActivities:{},goods:{}},Up={data:function(){return{pageComponent:Fp.firstPage}},created:function(){var t=this;St.default.loading({message:"数据加载中..."}),wt.a.get("goods-detail-user-state").then((function(e){var n=e.success,i=e.data,o="goods";n?(window._asyncUserState=Object.assign({fetchSuccess:!0},i),i.parsedActivities.pageType&&(o=i.parsedActivities.pageType),i.isFastBuy&&(o="fastbuy")):window._asyncUserState=Rp,Fp[o]||Object(yt.c)("user-state.json 数据获取错误",{error:"获取到的信息错误",pageType:o,data:i}),t.$store.unregisterModule(["page"]),t.pageComponent=Fp[o],St.default.clear()})).catch((function(e){t.pageComponent=Fp.goods,St.default.clear(),Object(yt.c)("user-state.json 数据获取失败",{error:e})})).then((function(){t.$store.dispatch("initSaleReminder")}))}},Wp=(n("L2gG"),Object(Rn.default)(Up,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-container"},[this.pageComponent?e(this.pageComponent,{tag:"component"}):e("div")],1)}),[],!1,null,"ed614166",null).exports);o.default.mixin({beforeCreate:function(){var t=this.$store,e=this.$options,n=e.getters||[],i=e.state||{};t&&(this.$commit=function(){return t.commit.apply(t,arguments)},this.$dispatch=function(){return t.dispatch.apply(t,arguments)},i=Array.isArray(i)?i.reduce((function(e,n){return e[n]=function(){return t.state.page[n]},e}),{}):Object.keys(i).reduce((function(t,e){var n=i[e];return t[e]=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return n.apply(this,[t.page].concat(i))},t}),{}),e.computed=Object.assign({},e.computed,Object(lr.mapGetters)(n),Object(lr.mapState)(i)))}}),wt.a.set("goods-floating-nav",{customWishBtn:!0,clickCallback:function(t){if(7===t.navType){var e=document.querySelector(".module-main");vi.a.isAndroid()?e.scrollTo({top:0,behavior:"smooth"}):e.scrollTop=0}},skuBus:fc.a}),wt.a.set("common-floating-nav",{showRecommendShowcase:!0});var Gp=vi.a.isAndroid(),$p={created:function(){var t=this.$options;Gp&&"van-popup"===t.name&&this.$watch("value",(function(t){wt.a.emit("onPopupShow",t)}))}};o.default.mixin($p),new o.default({el:"#app",store:Ac,mounted:function(){Ku.a.init(Ac)},render:function(t){return t(Wp)}})},"2Yqq":function(t,e,n){},"2bMS":function(t,e,n){},"2jwP":function(t,e,n){t.exports=n("oxns")("2jwP")},"33Wh":function(t,e,n){t.exports=n("/g0A")("33Wh")},"3A9y":function(t,e){t.exports=function(t){return this.__data__.has(t)}},"3Akv":function(t,e,n){},"3L66":function(t,e,n){var i=n("MMmD"),o=n("ExA7");t.exports=function(t){return o(t)&&i(t)}},"3N6b":function(t,e,n){var i=n("bZjE");t.exports=function(t,e){var n=i(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},"3OWR":function(t,e,n){var i=n("MrPd"),o=n("juv8"),r=n("LsHQ"),a=n("MMmD"),s=n("6sVZ"),c=n("7GkX"),u=Object.prototype.hasOwnProperty,l=r((function(t,e){if(s(e)||a(e))o(e,c(e),t);else for(var n in e)u.call(e,n)&&i(t,n,e[n])}));t.exports=l},"3WF5":function(t,e,n){var i=n("eUgh"),o=n("ut/Y"),r=n("l9OW"),a=n("Z0cm");t.exports=function(t,e){return(a(t)?i:r)(t,o(e,3))}},"3kFX":function(t,e,n){"use strict";var i={get:function(t,e,n){void 0===n&&(n=!0),t=t.replace(/[[]/,"\\[").replace(/[]]/,"\\]"),e=e?"?"+e.split("#")[0].split("?")[1]:window.location.search;var i=RegExp("[?&]"+t+"=([^&#]*)").exec(e);return i?n?decodeURIComponent(i[1].replace(/\+/g," ")):i[1]:""},remove:function(t,e){var n=t.split("?");if(n.length>=2){for(var i=encodeURIComponent(e)+"=",o=n[1].split("&"),r=(o=o.reduce((function(t,e){return t.concat(e.split(";"))}),[])).length;r-- >0;)-1!==o[r].lastIndexOf(i,0)&&o.splice(r,1);return t=n[0]+"?"+o.join("&")}return t},add:function(t,e){if(!t||0===t.length||0===t.trim().indexOf("javascript"))return"";var n=t.split("#"),i=n[0].split("?"),o={};return i[1]&&i[1].split("&").forEach((function(t){var e;e=t.split("="),o[e[0]]=e.slice(1).join("=")})),Object.keys(e).forEach((function(t){o[t.trim()]=encodeURIComponent(e[t])})),t=i[0]+function(t){var e="";for(var n in t)""!==t[n]&&(e+=n.trim()+"="+t[n]+"&");return e?"?"+e.slice(0,e.length-1):""}(o),n[1]?t+="#"+n[1]:t}};t.exports=i},"3kZ9":function(t,e,n){"use strict";var i=n("4tns");n.n(i).a},"3xkE":function(t,e,n){t.exports=n("/g0A")("3xkE")},"3y2G":function(t,e,n){"use strict";n("qePV"),n("4X9F");var i,o,r=n("IkEG"),a=(n("ilju"),n("5B+z")),s=(n("+2oP"),n("07d7"),n("JfAA"),n("5+UC"),n("05lO")),c=(n("w6Z4"),n("rQYt")),u=(n("vn9c"),n("Vl+Z")),l=(n("ZrlO"),n("tlDm")),d=d||function(t,e){var n={},i=n.lib={},o=function(){},r=i.Base={extend:function(t){o.prototype=this;var e=new o;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var o=0;o<t;o++)e[i+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(i+o)%4*8;else if(65535<n.length)for(o=0;o<t;o+=4)e[i+o>>>2]=n[o>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new a.init(n,e)}}),s=n.enc={},c=s.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new a.init(n,e/2)}},u=s.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new a.init(n,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},d=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,s=o/(4*r);if(e=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*r,o=t.min(4*e,o),e){for(var c=0;c<e;c+=r)this._doProcessBlock(i,c);c=i.splice(0,e),n.sigBytes-=o}return new a.init(c,o)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=d.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}});var p=n.algo={};return n}(Math);o=(i=d).lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp(),t=[];for(var o=0;o<n;o+=3)for(var r=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;4>a&&o+.75*a<n;a++)t.push(i.charAt(r>>>6*(3-a)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,n=this._map;(i=n.charAt(64))&&-1!=(i=t.indexOf(i))&&(e=i);for(var i=[],r=0,a=0;a<e;a++)if(a%4){var s=n.indexOf(t.charAt(a-1))<<a%4*2,c=n.indexOf(t.charAt(a))>>>6-a%4*2;i[r>>>2]|=(s|c)<<24-r%4*8,r++}return o.create(i,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t){function e(t,e,n,i,o,r,a){return((t=t+(e&n|~e&i)+o+a)<<r|t>>>32-r)+e}function n(t,e,n,i,o,r,a){return((t=t+(e&i|n&~i)+o+a)<<r|t>>>32-r)+e}function i(t,e,n,i,o,r,a){return((t=t+(e^n^i)+o+a)<<r|t>>>32-r)+e}function o(t,e,n,i,o,r,a){return((t=t+(n^(e|~i))+o+a)<<r|t>>>32-r)+e}for(var r=d,a=(c=r.lib).WordArray,s=c.Hasher,c=r.algo,u=[],l=0;64>l;l++)u[l]=4294967296*t.abs(t.sin(l+1))|0;c=c.MD5=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,r){for(var a=0;16>a;a++){var s=t[c=r+a];t[c]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}a=this._hash.words;var c=t[r+0],l=(s=t[r+1],t[r+2]),d=t[r+3],p=t[r+4],f=t[r+5],h=t[r+6],m=t[r+7],g=t[r+8],v=t[r+9],y=t[r+10],b=t[r+11],_=t[r+12],k=t[r+13],w=t[r+14],S=t[r+15],C=e(C=a[0],O=a[1],x=a[2],P=a[3],c,7,u[0]),P=e(P,C,O,x,s,12,u[1]),x=e(x,P,C,O,l,17,u[2]),O=e(O,x,P,C,d,22,u[3]);C=e(C,O,x,P,p,7,u[4]),P=e(P,C,O,x,f,12,u[5]),x=e(x,P,C,O,h,17,u[6]),O=e(O,x,P,C,m,22,u[7]),C=e(C,O,x,P,g,7,u[8]),P=e(P,C,O,x,v,12,u[9]),x=e(x,P,C,O,y,17,u[10]),O=e(O,x,P,C,b,22,u[11]),C=e(C,O,x,P,_,7,u[12]),P=e(P,C,O,x,k,12,u[13]),x=e(x,P,C,O,w,17,u[14]),C=n(C,O=e(O,x,P,C,S,22,u[15]),x,P,s,5,u[16]),P=n(P,C,O,x,h,9,u[17]),x=n(x,P,C,O,b,14,u[18]),O=n(O,x,P,C,c,20,u[19]),C=n(C,O,x,P,f,5,u[20]),P=n(P,C,O,x,y,9,u[21]),x=n(x,P,C,O,S,14,u[22]),O=n(O,x,P,C,p,20,u[23]),C=n(C,O,x,P,v,5,u[24]),P=n(P,C,O,x,w,9,u[25]),x=n(x,P,C,O,d,14,u[26]),O=n(O,x,P,C,g,20,u[27]),C=n(C,O,x,P,k,5,u[28]),P=n(P,C,O,x,l,9,u[29]),x=n(x,P,C,O,m,14,u[30]),C=i(C,O=n(O,x,P,C,_,20,u[31]),x,P,f,4,u[32]),P=i(P,C,O,x,g,11,u[33]),x=i(x,P,C,O,b,16,u[34]),O=i(O,x,P,C,w,23,u[35]),C=i(C,O,x,P,s,4,u[36]),P=i(P,C,O,x,p,11,u[37]),x=i(x,P,C,O,m,16,u[38]),O=i(O,x,P,C,y,23,u[39]),C=i(C,O,x,P,k,4,u[40]),P=i(P,C,O,x,c,11,u[41]),x=i(x,P,C,O,d,16,u[42]),O=i(O,x,P,C,h,23,u[43]),C=i(C,O,x,P,v,4,u[44]),P=i(P,C,O,x,_,11,u[45]),x=i(x,P,C,O,S,16,u[46]),C=o(C,O=i(O,x,P,C,l,23,u[47]),x,P,c,6,u[48]),P=o(P,C,O,x,m,10,u[49]),x=o(x,P,C,O,w,15,u[50]),O=o(O,x,P,C,f,21,u[51]),C=o(C,O,x,P,_,6,u[52]),P=o(P,C,O,x,d,10,u[53]),x=o(x,P,C,O,y,15,u[54]),O=o(O,x,P,C,s,21,u[55]),C=o(C,O,x,P,g,6,u[56]),P=o(P,C,O,x,S,10,u[57]),x=o(x,P,C,O,h,15,u[58]),O=o(O,x,P,C,k,21,u[59]),C=o(C,O,x,P,p,6,u[60]),P=o(P,C,O,x,b,10,u[61]),x=o(x,P,C,O,l,15,u[62]),O=o(O,x,P,C,v,21,u[63]);a[0]=a[0]+C|0,a[1]=a[1]+O|0,a[2]=a[2]+x|0,a[3]=a[3]+P|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,o=8*e.sigBytes;n[o>>>5]|=128<<24-o%32;var r=t.floor(i/4294967296);for(n[15+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process(),n=(e=this._hash).words,i=0;4>i;i++)o=n[i],n[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return e},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}}),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),function(){var t,e=d,n=(t=e.lib).Base,i=t.WordArray,o=(t=e.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=(s=this.cfg).hasher.create(),o=i.create(),r=o.words,a=s.keySize,s=s.iterations;r.length<a;){c&&n.update(c);var c=n.update(t).finalize(e);n.reset();for(var u=1;u<s;u++)c=n.finalize(c),n.reset();o.concat(c)}return o.sigBytes=4*a,o}});e.EvpKDF=function(t,e,n){return o.create(n).compute(t,e)}}(),d.lib.Cipher||function(t){var e=(h=d).lib,n=e.Base,i=e.WordArray,o=e.BufferedBlockAlgorithm,r=h.enc.Base64,a=h.algo.EvpKDF,s=e.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,i){return("string"==typeof n?m:f).encrypt(t,e,n,i)},decrypt:function(e,n,i){return("string"==typeof n?m:f).decrypt(t,e,n,i)}}}});e.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=h.mode={},u=function(t,e,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=i[o]},l=(e.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();l.Encryptor=l.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;u.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),l.Decryptor=l.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=t.slice(e,e+i);n.decryptBlock(t,e),u.call(this,t,e,i),this._prevBlock=o}}),c=c.CBC=l,l=(h.pad={}).Pkcs7={pad:function(t,e){for(var n,o=(n=(n=4*e)-t.sigBytes%n)<<24|n<<16|n<<8|n,r=[],a=0;a<n;a+=4)r.push(o);n=i.create(r,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=s.extend({cfg:s.cfg.extend({mode:c,padding:l}),reset:function(){s.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var p=e.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),f=(c=(h.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?i.create([1398893684,1701076831]).concat(t).concat(e):e).toString(r)},parse:function(t){var e=(t=r.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var n=i.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return p.create({ciphertext:t,salt:n})}},e.SerializableCipher=n.extend({cfg:n.extend({format:c}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var o=t.createEncryptor(n,i);return e=o.finalize(e),o=o.cfg,p.create({ciphertext:e,key:n,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),h=(h.kdf={}).OpenSSL={execute:function(t,e,n,o){return o||(o=i.random(8)),t=a.create({keySize:e+n}).compute(t,o),n=i.create(t.words.slice(e),4*n),t.sigBytes=4*e,p.create({key:t,iv:n,salt:o})}},m=e.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:h}),encrypt:function(t,e,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,t.keySize,t.ivSize),i.iv=n.iv,(t=f.encrypt.call(this,t,e,n.key,i)).mixIn(n),t},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),n=i.kdf.execute(n,t.keySize,t.ivSize,e.salt),i.iv=n.iv,f.decrypt.call(this,t,e,n.key,i)}})}(),function(){for(var t=d,e=t.lib.BlockCipher,n=t.algo,i=[],o=[],r=[],a=[],s=[],c=[],u=[],l=[],p=[],f=[],h=[],m=0;256>m;m++)h[m]=128>m?m<<1:m<<1^283;var g=0,v=0;for(m=0;256>m;m++){var y=(y=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&y^99;i[g]=y,o[y]=g;var b=h[g],_=h[b],k=h[_],w=257*h[y]^16843008*y;r[g]=w<<24|w>>>8,a[g]=w<<16|w>>>16,s[g]=w<<8|w>>>24,c[g]=w,w=16843009*k^65537*_^257*b^16843008*g,u[y]=w<<24|w>>>8,l[y]=w<<16|w>>>16,p[y]=w<<8|w>>>24,f[y]=w,g?(g=b^h[h[h[k^b]]],v^=h[h[v]]):g=v=1}var S=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=e.extend({_doReset:function(){for(var t=(n=this._key).words,e=n.sigBytes/4,n=4*((this._nRounds=e+6)+1),o=this._keySchedule=[],r=0;r<n;r++)if(r<e)o[r]=t[r];else{var a=o[r-1];r%e?6<e&&4==r%e&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=S[r/e|0]<<24),o[r]=o[r-e]^a}for(t=this._invKeySchedule=[],e=0;e<n;e++)r=n-e,a=e%4?o[r]:o[r-4],t[e]=4>e||4>=r?a:u[i[a>>>24]]^l[i[a>>>16&255]]^p[i[a>>>8&255]]^f[i[255&a]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,r,a,s,c,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,u,l,p,f,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,o,r,a,s){for(var c=this._nRounds,u=t[e]^n[0],l=t[e+1]^n[1],d=t[e+2]^n[2],p=t[e+3]^n[3],f=4,h=1;h<c;h++){var m=i[u>>>24]^o[l>>>16&255]^r[d>>>8&255]^a[255&p]^n[f++],g=i[l>>>24]^o[d>>>16&255]^r[p>>>8&255]^a[255&u]^n[f++],v=i[d>>>24]^o[p>>>16&255]^r[u>>>8&255]^a[255&l]^n[f++];p=i[p>>>24]^o[u>>>16&255]^r[l>>>8&255]^a[255&d]^n[f++],u=m,l=g,d=v}m=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^n[f++],g=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^n[f++],v=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[f++],p=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^n[f++],t[e]=m,t[e+1]=g,t[e+2]=v,t[e+3]=p},keySize:8});t.AES=e._createHelper(n)}(),d.pad.Iso10126={pad:function(t,e){var n=(n=4*e)-t.sigBytes%n;t.concat(d.lib.WordArray.random(n-1)).concat(d.lib.WordArray.create([n<<24],1))},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}};var p,f=d,h=f.enc.Utf8.parse("youzan.com.aesiv"),m=f.enc.Utf8.parse("youzan.com._key_"),g=function(t){return t=f.enc.Utf8.parse(t),f.AES.encrypt(t,m,{mode:f.mode.CBC,padding:f.pad.Iso10126,iv:h}).toString()},v="https://h5.youzan.com/v2",y=(n("pdiw"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cap-password"},[n("div",{staticClass:"cap-password__header"},[t._v("\n    安全验证\n    "),n("van-icon",{staticClass:"cap-password__close",attrs:{name:"close"},on:{click:t.close}})],1),t._v(" "),n("div",{staticClass:"cap-password__input-container"},[n("p",[t._v("为了保障你的账户安全，请输入手机帐号"+t._s(t.secureAccount)+"的登录密码")]),t._v(" "),n("van-field",{staticClass:"cap-password__input-container__input van-hairline--surround",attrs:{type:"password",placeholder:"请输入登录密码"},on:{blur:t.onFieldBlur},model:{value:t.passwordValue,callback:function(e){t.passwordValue=e},expression:"passwordValue"}})],1),t._v(" "),n("div",{staticClass:"cap-password__action-container"},[n("van-button",{attrs:{block:"",type:"primary",loading:t.loading},on:{click:t.onPayClick}},[t._v("\n      付款\n    ")])],1),t._v(" "),n("div",{staticClass:"cap-password__bottom-tips"},[n("a",{attrs:{href:t.changePasswordUrl}},[t._v("忘记密码?")])])])},staticRenderFns:[],name:"cap-password",components:{"van-button":l.default,"van-field":u.default,"van-icon":c.default},props:{close:{type:Function,default:function(){}},account:{type:String,default:""},payWay:Object,onConfirm:{type:Function,default:function(){}},loading:{type:Boolean,default:!1},changePasswordUrl:{type:String,default:v+"/buyer/auth/changePassword?redirect_uri="+encodeURIComponent(window.location.href)}},data:function(){var t=this.account.toString();return{passwordValue:"",secureAccount:t.slice(0,-8)+"****"+t.slice(-4)}},methods:{onPayClick:function(){if(!this.passwordValue)return Object(s.default)("请输入密码");this.onConfirm(g(this.passwordValue))},onFieldBlur:function(){window.scrollTo(0,0)}}}),b=(n("TeQF"),n("wZRv"),n("d0T1")),_=(n("rB5s"),n("VD6T")),k={WX_H5:{type:"wechat",color:"#44BB00",className:"cap-color--green"},WX_JS:{type:"wechat",color:"#44BB00",className:"cap-color--green"},WX_APP:{type:"wechat",color:"#44BB00",className:"cap-color--green"},WX_APPLET:{type:"wechat",color:"#44BB00",className:"cap-color--green"},ALIPAY_WAP:{type:"alipay",color:"#3388FF",className:"cap-color--blue"}},w=(n("IWB/"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("div",{staticClass:"cap-pay-item"},[n("van-loading",{staticClass:"cap-pay-item__loading"})],1):n("div",{staticClass:"cap-pay-item",class:[{"cap-pay-item--disabled":!t.payWay.available},t.highlightClass],style:{color:t.highlightColor},on:{click:t.onPayClick}},[n("div",{staticClass:"cap-pay-item__wrapper"},[n("p",{staticClass:"cap-pay-item__content"},[t._v(t._s(t.payWayDesc))]),t._v(" "),t.extraDesc?n("p",{staticClass:"cap-pay-item__light"},[t._v("\n      "+t._s(t.extraDesc)+"\n    ")]):t._e()])])},staticRenderFns:[],name:"van-payitem",components:{"van-loading":_.default,"van-cell":b.default},props:{payWay:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!1},onClick:{type:Function,validate:function(t){return"function"==typeof t}}},data:function(){return{payWayDesc:this.payWay.pay_channel_name,extraDesc:this.payWay.available_desc?"（"+this.payWay.available_desc+"）":""}},computed:{highlightColor:function(){return(k[this.payWay.pay_channel]||{}).color||""},highlightClass:function(){var t=k[this.payWay.pay_channel]||{};return this.highlightColor?"":t.className||""}},methods:{onPayClick:function(){this.payWay.available&&this.onClick(this.payWay)}}}),S=(n("EjZl"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cap-pay-list"},t._l(t.displayPayWays,(function(e){return n("cap-payitem",{key:e.pay_channel,attrs:{"pay-way":e,"on-click":t.doPayItemClick,loading:e.pay_channel===t.loadingPayWay.pay_channel}})})),1)},staticRenderFns:[],components:{"cap-payitem":w},props:{loadingPayWay:Object,payWays:{type:Array,required:!0},onPayItemClick:{type:Function,required:!0}},data:function(){return{showAllPayWays:!1}},computed:{displayPayWays:function(){if(this.showAllPayWays)return this.payWays;var t=this.payWays.filter((function(t){return!t.should_wrap}));return t.length!==this.payWays.length&&t.push({pay_channel_name:"更多支付方式",available:!0,pay_channel:"more"}),t}},methods:{doPayItemClick:function(t){"more"!==t.pay_channel?this.onPayItemClick(t):this.showAllPayWays=!0}}}),C=(n("X5xu"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-popup",{staticClass:"cap-qrcode-pay__container",attrs:{value:!0,"close-on-click-overlay":!1,"lock-on-scroll":""}},[n("div",{staticClass:"cap-qrcode-pay__header"},[n("van-icon",{staticClass:"cap-qrcode-pay__close",attrs:{name:"close"},on:{click:t.doHidePopup}}),t._v(" "),n("p",{staticClass:"cap-qrcode-pay__header-row"},[n("van-icon",{staticClass:"cap-qrcode-pay__wechat",attrs:{name:"wechat"}}),t._v("\n      点击确定\n    ")],1),t._v(" "),n("p",{staticClass:"cap-qrcode-pay__header-row"},[t._v("长按图片 识别二维码 支付")])],1),t._v(" "),n("div",{staticClass:"cap-qrcode-pay__content"},[n("img",{staticClass:"cap-qrcode-pay__qrcode",attrs:{src:t.qrcodeUrl},on:{touchstart:t.doShowFooter,click:t.doShowFooter}})]),t._v(" "),t.showFooter?n("div",{staticClass:"cap-qrcode-pay__footer"},[n("van-button",{attrs:{type:"primary",block:""},on:{click:function(e){return t.doBtnClick("finish")}}},[t._v("\n      我已完成支付\n    ")]),t._v(" "),n("van-button",{attrs:{block:""},on:{click:function(e){return t.doBtnClick()}}},[t._v("\n      更换支付方式\n    ")])],1):t._e()])},staticRenderFns:[],components:{"van-popup":a.default,"van-icon":c.default,"van-button":l.default},props:{qrcodeUrl:String,onBtnClicked:Function},data:function(){return{showFooter:!1}},methods:{doHidePopup:function(){this.$emit("input",!1)},doShowFooter:function(){this.showFooter=!0},doBtnClick:function(t){this.onBtnClicked(t)}}}),P=(n("CxD4"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cap-pay-confirm"},[n("div",{staticClass:"cap-pay-confirm__header"},[t._v("\n    "+t._s(t.payWay.pay_channel_name)+"\n    "),t.loading?t._e():n("van-icon",{staticClass:"cap-pay-confirm__close",attrs:{name:"close"},on:{click:t.close}})],1),t._v(" "),n("div",{staticClass:"cap-pay-confirm__content"},[t.loading?[n("van-loading",{staticClass:"cap-pay-confirm__loading"}),t._v(" "),n("p",{staticClass:"cap-pay-confirm__charge"},[t._v("扣款中...")])]:[n("p",{staticClass:"cap-pay-confirm__price"},[t._v("￥"+t._s(t.payWay.pay_amount))]),t._v(" "),n("p",{staticClass:"cap-pay-confirm__tips"},[t._v("该笔交易将会使用卡内余额进行支付")]),t._v(" "),n("van-button",{attrs:{type:"primary",block:"",loading:t.loading},on:{click:t.onConfirm}},[t._v("\n        确认\n      ")])]],2)])},staticRenderFns:[],components:(p={},p[c.default.name]=c.default,p[l.default.name]=l.default,p[_.default.name]=_.default,p),props:{loading:Boolean,close:Function,onConfirm:Function,payWay:Object}});n("0PfK"),e.a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cap-pay"},[n("van-popup",{attrs:{position:"bottom"},model:{value:t.showPayView,callback:function(e){t.showPayView=e},expression:"showPayView"}},[n("cap-paylist",{attrs:{"pay-ways":t.payWays,"loading-pay-way":t.loadingPayWay,"on-pay-item-click":t.onPayItemClick}})],1),t._v(" "),n("van-popup",{staticClass:"cap-pay__password-container",attrs:{"close-on-click-overlay":!1},model:{value:t.showPassword,callback:function(e){t.showPassword=e},expression:"showPassword"}},[n("cap-password",{attrs:{close:t.closePassword,"on-confirm":t.onPasswordConfirm,account:t.account,"pay-way":t.selectedPayWay,loading:t.loadingPayWay.need_password&&t.showPassword}})],1),t._v(" "),n("van-popup",{attrs:{"close-on-click-overlay":!1},model:{value:t.showConfirm,callback:function(e){t.showConfirm=e},expression:"showConfirm"}},[n("cap-confirm",{attrs:{close:t.closeConfirm,"on-confirm":t.onConfirmAccept,"pay-way":t.selectedPayWay,loading:t.loadingPayWay.need_confirm&&t.showConfirm}})],1),t._v(" "),t.showQrcodePay?n("cap-qrcode-pay",{attrs:{"qrcode-url":t.qrcodeUrl,"on-btn-clicked":t.onQrcodeBtnClick},on:{input:t.onCloseQrcodePay}}):t._e()],1)},staticRenderFns:[],name:"cap-pay",components:{"cap-password":y,"cap-paylist":S,"cap-qrcode-pay":C,"cap-confirm":P,"van-popup":a.default},props:{value:Boolean,account:{type:String,default:""},payWays:{type:Array,required:!0},loadingPayWay:{type:Object,default:function(){return{}}},onPayWaySelected:{type:Function,validator:function(t){return"function"==typeof t}},changePasswordUrl:{type:String,default:v+"/buyer/auth/changePassword?redirect_uri="+encodeURIComponent(window.location.href)},showQrcodePay:{type:Boolean,default:!1},qrcodeUrl:{type:String,default:""},onCloseQrcodePay:{type:Function,validator:function(t){return"function"==typeof t},default:function(){return function(){}}},onQrcodeBtnClick:{type:Function,validator:function(t){return"function"==typeof t},default:function(){return function(){}}},showAfterPayConfirm:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showChangePriceConfirm:{type:Boolean,default:!1},changePriceMsg:{type:String,default:""},newPrice:{type:Number,default:-1},payRiskAdvice:{type:Object,default:function(){return{show:!1,riskAdvice:"银行卡支付异常，请更换支付方式。如果有疑问，请联系客服。",contactServiceUrl:"https://help.youzan.com/online/mars/index?from=mars_mp&access_token=",onConfirmClick:function(){},onCancelClick:function(){}}}}},data:function(){return{showConfirm:!1,selectedPayWay:{},showPayView:this.value}},watch:{value:function(t){t&&1===this.payWays.length?(this.$emit("input",!1),this.onPayItemClick(this.payWays[0])):this.showPayView=t},showPayView:function(t){this.$emit("input",t)},showAfterPayConfirm:function(t){t&&this.startShowAfterPayConfirm()},showChangePriceConfirm:function(t){t&&this.startShowChangePriceConfirm()},"payRiskAdvice.show":function(t){t&&this.startShowPayRiskAdviceConfirm()}},methods:{closePassword:function(){this.$emit("update:show-password",!1)},closeConfirm:function(){this.showConfirm=!1},onPayItemClick:function(t){var e=this;this.selectedPayWay=t,t.need_password?this.$emit("update:show-password",!0):t.need_confirm?this.showConfirm=!0:"CASH_ON_DELIVERY"!==t.pay_channel?this.onPayWaySelected({payWay:t}):r.default.confirm({title:"下单提醒",message:this.getCODMessage(t.pay_channel_name)}).then((function(n){e.onPayWaySelected({payWay:t})}),(function(t){console.log(t)}))},getCODMessage:function(t){var e="";switch(t){case"到店付款":e="你正在选择到店付款，下单后请自行到店领取并付款。";break;default:e="你正在选择货到付款，下单后由商家发货，送货上门并收款。"}return e},onPasswordConfirm:function(t){this.onPayWaySelected({payWay:this.selectedPayWay,password:t})},onConfirmAccept:function(){this.onPayWaySelected({payWay:this.selectedPayWay})},startShowAfterPayConfirm:function(){var t=this;r.default.confirm({title:"微信支付确认",message:"若你已付款成功，请点击“已完成支付”；若付款时遇到问题，可选择“其他支付方式”",confirmButtonText:"已完成支付",cancelButtonText:"其他支付方式"}).then((function(e){t.$emit("update:show-after-pay-confirm",!1),t.$emit("confirm:pay-result",e)})).catch((function(e){t.$emit("update:show-after-pay-confirm",!1),t.$emit("cancel:pay-result",e)}))},startShowChangePriceConfirm:function(){var t=this;r.default.confirm({title:"改价提醒",message:this.changePriceMsg}).then((function(e){t.onPayWaySelected({payWay:t.selectedPayWay,accept_price:1,new_price:t.newPrice}),t.$emit("confirm:change-price",e)})).catch((function(e){t.$emit("cancel:change-price",e)}))},startShowPayRiskAdviceConfirm:function(){var t=this;r.default.confirm({message:this.payRiskAdvice.riskAdvice,confirmButtonText:"更换支付方式",cancelButtonText:"联系客服"}).then((function(){t.payRiskAdvice.onConfirmClick(),t.$emit("update:pay-risk-advice-show",!1)})).catch((function(){window.location.href=t.payRiskAdvice.contactServiceUrl,t.$emit("update:pay-risk-advice-show",!1),t.payRiskAdvice.onCancelClick()}))}}}},"4/ic":function(t,e,n){var i=n("ZWtO");t.exports=function(t){return function(e){return i(e,t)}}},"45AG":function(t,e,n){"use strict";n("ma9I"),n("QWBl"),n("FZtP");function i(t,e,n){this.$children.forEach((function(o){o.$options.componentName===t?o.$emit.apply(o,[e].concat(n)):i.apply(o,[t,e].concat([n]))}))}e.a={methods:{dispatch:function(t,e,n){for(var i=this.$parent||this.$root,o=i.$options.componentName;i&&(!o||o!==t);)(i=i.$parent)&&(o=i.$options.componentName);i&&i.$emit.apply(i,[e].concat(n))},broadcast:function(t,e,n){i.call(this,t,e,n)}}}},"47Mi":function(t,e,n){t.exports=n("oxns")("47Mi")},"4Brf":function(t,e,n){"use strict";var i=n("I+eb"),o=n("g6v/"),r=n("2oRo"),a=n("UTVS"),s=n("hh1v"),c=n("m/L8").f,u=n("6JNq"),l=r.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new l(t):void 0===t?l():l(t);return""===t&&(d[e]=!0),e};u(p,l);var f=p.prototype=l.prototype;f.constructor=p;var h=f.toString,m="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(a(d,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:p})}},"4H1b":function(t,e,n){},"4WOD":function(t,e,n){t.exports=n("/g0A")("4WOD")},"4Xet":function(t,e,n){t.exports=n("/g0A")("4Xet")},"4l63":function(t,e,n){var i=n("I+eb"),o=n("wg0c");i({global:!0,forced:parseInt!=o},{parseInt:o})},"4nyr":function(t,e,n){t.exports=n("oxns")("4nyr")},"4pfj":function(t,e,n){"use strict";n.r(e);n("ma9I"),n("oVuX"),n("2B1R"),n("+2oP"),n("zKZe"),n("5+UC");var i,o,r,a=n("05lO"),s=(n("rB5s"),n("VD6T")),c=(n("w6Z4"),n("rQYt")),u=(n("sCQ1"),n("Zyfl")),l=(n("KZT4"),n("K90D")),d=n("JL3r"),p=n.n(d),f=n("asw2"),h=n.n(f),m=n("auL8"),g=n("QumR"),v=n("DIQr"),y=n("b+Si"),b=n("f4ya"),_=n.n(b),k=n("E+oP"),w=n.n(k),S={methods:{setGoodsItemLoggerParams:function(t,e,n,i){var o=n||t.url,r=this.getBannerId(e),a=Object.assign({goods_id:t.id,banner_id:r,item_id:t.id,item_type:"goods"},this.extraLogParams);return t.loggerParams=a,t.url=_.a.add(o,Object.assign({banner_id:r},this.extraLogParams)),t},buyBtnClickLogger:function(t,e){void 0===e&&(e=!0);var n=t.loggerParams,i=void 0===n?{}:n,o=t.url,r=void 0===o?"":o;if(!w()(i)){var a={et:"click",ei:"click_buy",en:"点击购买",params:i};this.logger(a),e&&r&&Object(v.h)(r)}}}},C=n("yENu"),P=n("F+bm"),x=n.n(P),O=n("nPta"),T=n.n(O),I=n("KaBt"),A={GOODS:0,GOODS_LIST:1},B={BIG:0,SMALL:1,BIG1SMALL2:2,DETAIL:3,THREE:5,SWIPE:6},j=n("mwIZ"),D=n.n(j),E={name:"showcase-goods",components:(i={},i[l.default.name]=l.default,i["vm-goods-list"]=u.a,i["van-icon"]=c.default,i["van-loading"]=s.default,i),mixins:[y.a,S],props:{openSwipePagination:{type:Boolean,default:!0},fetchGoodsCallback:Function},data:function(){var t=this.componentData,e=void 0===t?{}:t,n=x()(e),i=n.goods,o=void 0===i?[]:i,r=n.goodsIds,a=void 0===r?[]:r;return{ajaxing:!1,wishAjaxing:!1,curGoodsList:this.mapKeysGoodsList(o),page:1,needLoadMore:!0,loading:!1,loadingMore:!1,moreUrl:n.moreUrl||"",isAdv:D()(window,"_global.is_adv",!1),offlineId:D()(window,"_global.offlineId",0),isShowMore:!1,goodsIds:a,retryCount:0}},computed:{layout:function(){var t=this.camelComponentData,e=t.layout,n=t.wrap,i=e?+e:0;return 4===i&&(i=3),5===i&&0===n&&(i=6),i},camelComponentData:function(){return x()(this.componentData)},uuid:function(){var t=(this.camelComponentData.goods||[]).map((function(t){return String(t.id||"").slice(-2)})).join("");return this.$options.name+"-"+this.componentIndex+"-"+t},isFromGoodsList:function(){var t=this.camelComponentData;return+(void 0===t?{}:t).goodsFrom===A.GOODS_LIST},isOpenSwipePagination:function(){var t=this.openSwipePagination,e=this.curGoodsList,n=this.needLoadMore,i=this.isFromGoodsList,o=this.moreUrl;return t&&0!==e.length&&(n||i&&!!o)},finished:function(){var t=!this.camelComponentData.isAsync||!this.needLoadMore||this.layout===B.SWIPE;return t}},watch:{"componentData.goods":function(t){this.camelComponentData.isAsync||(this.curGoodsList=this.mapKeysGoodsList(t))}},created:function(){this.goodsLongList(this.getComponentLongList())},mounted:function(){C.a.init(this,this.uuid),this.$emit("goods-list-mounted")},methods:{goodsLongList:function(t){var e=t.list,n=void 0===e?[]:e,i=t.page,o=void 0===i?0:i,r=this.camelComponentData,a=r.isAsync,s=r.isComponent;!a||this.isBackForward?a?n.length&&o?(this.curGoodsList=n,this.page=o):this.fetchGoodsList():a||s||this.componentCheckHeight("sync-goods"):this.fetchGoodsList()},fetchGoodsList:function(){var t=this,e=this.camelComponentData,n=void 0===e?{}:e,i=this.page,o=this.layout,r=this.isFromGoodsList,a=this.goodsIds,s=void 0===a?[]:a;if(this.retryCount>2)return this.loading=!1,this.loadingMore=!1,void(this.needLoadMore=!1);var c=n.goodsList,u=void 0===c?{}:c,l=n.isPreview,d=void 0!==l&&l,f=n.goodsFrom,h=n.goodsNumberV2,m=n.goodsNumber,g=u.id,v=u.alias,y=u.url,b=10;o!==B.THREE&&o!==B.BIG1SMALL2||(b=12),d&&!r&&(b=s.length);var _=(i-1)*b,k=s.slice(_,_+b).join(",");if(!r&&0===k.length)return this.loading=!1,void(this.loadingMore=!1);var w=o===B.SWIPE;this.loading=!w,this.loadingMore=!0;var S,C=+(h||m||0),P={tagId:g,page:i,pageSize:C<b?C:b,goodsIds:k,goodsFrom:f,isAdv:this.isAdv?1:0,offlineId:this.offlineId,goodsNumber:C};(S=P,Object(I.a)({url:"/wscshop/showcase/goodsList.json",data:Object.assign({},S,{json:1})}).then((function(t){return t})).catch((function(t){console.warn(t||"商品数据获取失败")}))).then((function(e){var n=e.list,o=e.hasMore,a=D()(window,"_global.kdt_id",0);t.moreUrl=r&&o?v?p()("/wscshop/tag/"+v,"h5",a):y:!r&&w?p()("/wscshop/feature/goods/all?kdt_id="+a,"h5",a):"",d&&w&&1==+i&&(t.curGoodsList=[]),t.curGoodsList=t.mapKeysGoodsList(t.curGoodsList.concat(n||[]));var c,u=i*b,l=s.slice(u,u+b);c=r?C-u>0&&o:0!==l.length,t.isShowMore=0!==t.curGoodsList.length&&r&&""!==t.moreUrl&&!c&&!w,t.page++,t.loading=!1,t.loadingMore=!1,t.needLoadMore=c,t.asyncRequestSuccess(),t.setComponentLongList({list:t.curGoodsList,page:t.page}),t.fetchGoodsCallback&&t.fetchGoodsCallback(Object.assign({},P,e)),t.$nextTick((function(){t.$refs.goodsList.setSwipeStatus({loading:!1,swipeFinished:!c}),w&&n.length<5&&t.needLoadMore&&t.fetchGoodsList()}))})).catch((function(){t.loading=!1,t.loadingMore=!1,t.asyncRequestCatch(),t.retryCount++}))},handleLoadMore:function(){this.loadingMore=!0,this.fetchGoodsList(),this.$emit("load-more")},handleWishBtnClick:function(t,e){var n=this;if(!this.wishAjaxing){var i=t.id,o=t.imageUrl,r=t.buyWay,s=t.isVirtual,c=t.url,u=t.alias,l=t.title,d=t.preSale,p=t.postage,f={title:l,picture:h()(o,"!200x200.jpg")};e?(this.wishAjaxing=!0,g.a.deleteWish(i).then((function(){n.wishAjaxing=!1,Object(a.default)("心愿删除成功")})).catch((function(t){n.wishAjaxing=!1,Object(a.default)(t)}))):Object(m.a)({buyWay:r,url:c})&&(this.wishAjaxing=!0,Object(m.c)({isAddWish:!0,goodsId:i,alias:u,goods:f,postage:p,preSale:d,isVirtual:s}).then((function(){n.wishAjaxing=!1})).catch((function(){n.wishAjaxing=!1})))}},handleBuyBtnClick:function(t){if(!this.ajaxing){var e=this.camelComponentData,n=e.splitRichText,i=e.buyButtonType;n?Object(v.h)(t.url):C.a.open({scene:1===i?"add_shopping_car":"click_buy_now",platformCallback:{uuid:this.uuid,method:"showSku",args:[t]}}).then(this.showSku.bind(this,t))}},showSku:function(t){var e=this,n=t.id,i=t.imageUrl,o=t.buyWay,r=t.isVirtual,a=t.url,s=t.alias,c=t.title,u=t.postage,l=t.preSale,d={title:c,picture:h()(i,"!200x200.jpg")};Object(m.a)({buyWay:o,url:a})&&(this.ajaxing=!0,this.addBuyBtnLoading(n),Object(m.c)({goodsId:n,alias:s,goods:d,postage:u,preSale:l,isVirtual:r}).then((function(){e.ajaxing=!1,e.removeBuyBtnLoading(n)})).catch((function(){e.ajaxing=!1,e.removeBuyBtnLoading(n)}))),this.buyBtnClickLogger(t,!1)},addBuyBtnLoading:function(t){this.$refs.goodsList.setBuyBtnLoading(t,!0)},removeBuyBtnLoading:function(t){this.$refs.goodsList.setBuyBtnLoading(t,!1)},mapKeysGoodsList:function(t){var e=this;return x()(t||[]).map((function(t,n){return t.price=t.activityPrice||t.price,t.originPrice=t.origin,t.loggerParams?t.loggerParams=T()(t.loggerParams||{}):t.id&&(t=e.setGoodsItemLoggerParams(t,n+1)),t}))}}},L=(n("qgx4"),n("KHd+")),N=Object(L.default)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-list-wrapper"},[n("van-list",{attrs:{finished:t.finished,"immediate-check":!1},on:{load:t.fetchGoodsList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("vm-goods-list",{ref:"goodsList",attrs:{list:t.curGoodsList,layout:t.layout,"size-type":t.camelComponentData.sizeType,"show-title":t.camelComponentData.showTitle,"show-sub-title":t.camelComponentData.showSubTitle,"show-price":t.camelComponentData.showPrice,"show-origin-price":t.camelComponentData.showOriginPrice,"show-buy-button":t.camelComponentData.showBuyButton,"buy-button-type":t.camelComponentData.buyButtonType,"buy-btn-express":t.camelComponentData.buyBtnExpress,"button-text":t.camelComponentData.buttonText,"show-corner-mark":t.camelComponentData.showCornerMark,"corner-mark-type":t.camelComponentData.cornerMarkType,"corner-mark-image":t.camelComponentData.cornerMarkImage,"image-ratio":t.camelComponentData.imageRatio,"image-fill-style":t.camelComponentData.imageFillStyle,"page-margin":t.camelComponentData.pageMargin,"goods-margin":t.camelComponentData.goodsMargin,"text-align-type":t.camelComponentData.textAlignType,"text-style-type":t.camelComponentData.textStyleType,"border-radius-type":t.camelComponentData.borderRadiusType,"show-sold-num":t.camelComponentData.showSoldNum,"show-more-button":t.isShowMore,"more-url":t.moreUrl,"open-swipe-pagination":t.isOpenSwipePagination},on:{"wish-btn-click":t.handleWishBtnClick,"buy-btn-click":t.handleBuyBtnClick,"load-more":t.handleLoadMore}})],1),0!==t.curGoodsList.length&&t.isFromGoodsList&&(t.camelComponentData.prevUrl||t.camelComponentData.nextUrl)?[n("div",{staticClass:"custom-pagination-container"},[n("div",{staticClass:"custom-paginations"},[t.camelComponentData.prevUrl?[n("a",{staticClass:"custom-paginations-prev",attrs:{href:t.camelComponentData.prevUrl}},[n("van-icon",{staticClass:"custom-paginations-prev-icon",attrs:{name:"arrow"}}),t._v("\n              "),n("span",{staticClass:"custom-paginations-prev-text"},[t._v("上一页")])],1)]:[n("a",{staticClass:"custom-paginations-prev disabled",attrs:{href:"javascript: void 0;"}},[n("van-icon",{staticClass:"custom-paginations-prev-icon",attrs:{name:"arrow"}}),t._v("\n              "),n("span",{staticClass:"custom-paginations-prev-text"},[t._v("上一页")])],1)],t.camelComponentData.nextUrl?[n("a",{staticClass:"custom-paginations-next",attrs:{href:t.camelComponentData.nextUrl}},[n("span",{staticClass:"custom-paginations-next-text"},[t._v("下一页")]),t._v("  \n            "),n("van-icon",{staticClass:"custom-paginations-next-icon",attrs:{name:"arrow"}})],1)]:[n("a",{staticClass:"custom-paginations-next disabled",attrs:{href:"javascript: void 0;"}},[n("span",{staticClass:"custom-paginations-next-text"},[t._v("下一页")]),t._v("  \n            "),n("van-icon",{staticClass:"custom-paginations-next-icon",attrs:{name:"arrow"}})],1)]],2)])]:t._e()],2)}),[],!1,null,null,null).exports,M=n("icrw"),F=n("p6v6"),R={name:"RecommendGoods",components:{"showcase-goods":N,recommend:Object(F.a)("recommend")},state:["appConfig","isFastBuy","goods"],getters:["isGroupOn","allGrouponUrl","homepageUrl","showRecommendGoods","hasRecommendGoods","recommendGoodsData"],data:function(){return{randomString:M.b,layoutConfig:{show_recommend_tags:!0}}},computed:{more:function(){return{url:this.isGroupOn?this.allGrouponUrl:this.homepageUrl,text:this.isGroupOn?"查看全部拼团商品":"进店逛逛",title:this.isGroupOn?"更多拼团商品":"更多精选商品"}}},methods:{renderSuccess:function(t){this.$commit("getRecommendGoodsSuccess",t)}}},U=(n("u0Mw"),Object(L.default)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.isFastBuy&&t.showRecommendGoods?n("div",{class:t.hasRecommendGoods?"recommend-goods":""},[t.hasRecommendGoods?n("h4",{staticClass:"recommend-goods__title"},[t._v("\n    "+t._s(t.more.title)+"\n  ")]):t._e(),t.isGroupOn&&t.hasRecommendGoods?n("showcase-goods",{staticClass:"goods-list-wrapper",attrs:{"component-data":t.recommendGoodsData}}):t._e(),t.isGroupOn?t._e():n("recommend",{attrs:{"goods-number":20,"biz-name":"g~bottom","custom-recommend-name":"更多精选商品","page-random-number":t.randomString,"layout-config":t.layoutConfig,"extra-params":{goodsIds:t.goods.id}},on:{"render-success":t.renderSuccess}}),!t.appConfig.hideStroll&&t.hasRecommendGoods?n("div",{staticClass:"recommend-goods__btn"},[n("van-button",{attrs:{href:t.more.url,tag:"a",size:"large",block:""}},[t._v("\n      "+t._s(t.more.text)+"\n    ")])],1):t._e()],1):t._e()}),[],!1,null,null,null).exports),W=(n("rB9j"),n("UxlC"),{goods_from:"0",image_ratio:1,layout:6,size_type:0,show_buy_button:!1,buy_button_type:1,buy_btn_express:!1,show_title:!0,show_sub_title:!1,show_price:!0,show_corner_mark:!1,corner_mark_type:0,corner_mark_image:"",default_image_url:"",image_fill_style:2,type:"goods"}),G={name:"RowRecommendGoods",components:{"showcase-goods":N,recommend:Object(F.a)("recommend")},props:{show:{type:Boolean,default:!1}},state:["recommendGoods","goods"],getters:["showRecommendGoods","isGroupOn","showRecommendGoods","showNoStockRecommendGoods","hasRecommendGoods"],data:function(){return{randomString:M.b,layoutConfig:{layout:6,showMoreButton:!0,show_recommend_tags:!0}}},computed:{recommendGoodsData:function(){return Object.assign({},W,{goods:this.recommendGoods.list.map((function(t){var e=Object.assign({},t);return e.loggerParams=Object.assign({},e.loggerParams),e.loggerParams.banner_id=e.loggerParams.banner_id.replace(/recommend_fixed/,"stockout"),e.loggerParams.component="stockout",e.url=e.url.replace(/recommend_fixed/,"stockout"),e}))})}},methods:{renderSuccess:function(t){this.$commit("getRecommendGoodsSuccess",t),this.$dispatch("toggleGoodsMask",this.showNoStockRecommendGoods&&t.length>0)}}},$=(n("+W0v"),Object(L.default)(G,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showRecommendGoods?n("div",{staticClass:"customer-goods"},[t.isGroupOn&&t.hasRecommendGoods?n("showcase-goods",{staticClass:"customer-goods__list",class:t.show?"customer-goods__show":"",attrs:{"component-data":t.recommendGoodsData}}):t._e(),t.isGroupOn?t._e():n("recommend",{staticClass:"customer-goods__list",class:t.show?"customer-goods__show":"",attrs:{"goods-number":20,"extra-params":{goodsIds:t.goods.id},"page-random-number":t.randomString,"layout-config":t.layoutConfig,"biz-name":"g~stackout","custom-recommend-name":"缺货推荐商品"},on:{"render-success":t.renderSuccess}})],1):t._e()}),[],!1,null,null,null).exports),q=n("pZw8"),H={name:"NoStockRecommendGoods",components:(o={},o[$.name]=$,o),state:["display"],getters:["showNoStockRecommendGoods","showRecommendGoodsAddress","hasRecommendGoods"],computed:{showGoodsList:function(){return this.display.showBottomRecommendGoods&&this.hasRecommendGoods>0},noticeText:function(){var t=this.display.showSoldOutButtonType;return["商品已抢完，暂时缺货","已抢空，但还有人未付款，待会儿来看看"][void 0===t?q.l.none:t]},isSoldPending:function(){return+this.display.showSoldOutButtonType===q.l.pending}},created:function(){!this.showNoStockRecommendGoods&&this.$commit("hasBarStyleRecommendGoods")},mounted:function(){this.$dispatch("toggleGoodsShow")},methods:{togglePopUp:function(){this.hasRecommendGoods&&(this.$dispatch("toggleGoodsMask",!this.display.showBottomRecommendGoods),this.$dispatch("toggleGoodsShow"),this.$emit("togglePopUp"))}}},V=(n("fBHo"),Object(L.default)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showNoStockRecommendGoods?n("div",{staticClass:"m-recommend-bottom",class:t.showGoodsList?"top-round":""},[n("div",{class:["m-recommend-bottom__top",t.isSoldPending?"m-recommend-bottom__top--pending":""],on:{click:t.togglePopUp}},[n("h5",{staticClass:"m-recommend-bottom__top-title"},[t._v("\n      "+t._s(t.noticeText)+"\n    ")]),n("p",{staticClass:"m-recommend-bottom__top-desc"},[t._v("店铺还有其他好东西，去看看")]),t.hasRecommendGoods?n("van-icon",{staticClass:"m-recommend-bottom__top-arrow",class:t.showGoodsList?"m-recommend-bottom__top-arrow-reverse":"",attrs:{name:"arrow"}}):t._e()],1),n("row-recommend-goods",{attrs:{show:t.showGoodsList}})],1):t._e()}),[],!1,null,null,null).exports),z={name:"RecommendBlock",components:(r={},r[U.name]=U,r[V.name]=V,r),getters:["showRecommendGoods","showNoStockRecommendGoods"],props:{position:{type:String,default:"flow"}},data:function(){return{show:!1,fetched:!1}},computed:{component:function(){return"bar"===this.position?V.name:U.name}},mounted:function(){var t=this;setTimeout((function(){t.show=!0}),1e3)},methods:{showComponent:function(t,e){if(e||"bar"!==this.position||this.showNoStockRecommendGoods){var n=this.fetched;this.fetched=!0,this.showRecommendGoods&&!n&&this.$dispatch("getRecommendGoods")}}}},Y=(n("PltG"),Object(L.default)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"js-nav-recommend"}},[t.show?n("lazy-component",{on:{show:t.showComponent}},[n(t.component,{tag:"component",on:{"toggle-pop-up":function(){return t.showComponent(null,!0)}}})],1):t._e()],1)}),[],!1,null,null,null));e.default=Y.exports},"4sDh":function(t,e,n){var i=n("4uTw"),o=n("03A+"),r=n("Z0cm"),a=n("wJg7"),s=n("shjB"),c=n("9Nap");t.exports=function(t,e,n){for(var u=-1,l=(e=i(e,t)).length,d=!1;++u<l;){var p=c(e[u]);if(!(d=null!=t&&n(t,p)))break;t=t[p]}return d||++u!=l?d:!!(l=null==t?0:t.length)&&s(l)&&a(p,l)&&(r(t)||o(t))}},"4tns":function(t,e,n){},"4uTw":function(t,e,n){t.exports=n("/g0A")("4uTw")},"5BUu":function(t,e,n){"use strict";n("aO+S"),n("pxog"),n("nXDD"),n("N0PS"),n("Cf6i"),n("GgQP"),n("EUY0"),n("TXUN"),n("47Mi"),n("vBum"),n("sljx"),n("pSY7"),n("gnCh"),n("eG3/"),n("UEu8"),n("vNMD"),n("+2xp"),n("0QqW")},"5DmW":function(t,e,n){var i=n("I+eb"),o=n("0Dky"),r=n("/GqU"),a=n("Bs8V").f,s=n("g6v/"),c=o((function(){a(1)}));i({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(r(t),e)}})},"5R5y":function(t,e,n){"use strict";var i=n("zIKK");n.n(i).a},"5Tg+":function(t,e,n){var i=n("tiKp");e.f=i},"5Tg0":function(t,e,n){t.exports=n("/g0A")("5Tg0")},"5Yz+":function(t,e,n){t.exports=n("/g0A")("5Yz+")},"5hhl":function(t,e){},"5pB8":function(t,e,n){"use strict";var i=n("DV41");n.n(i).a},"5xwR":function(t,e,n){"use strict";n("qePV"),n("rB5s");var i,o=n("VD6T"),r=(n("ZrlO"),n("tlDm")),a=(n("w6Z4"),n("rQYt")),s=n("Ui9T"),c=(n("C1U2"),{3:"马上抢",4:"购买",7:"马上抢",8:"购买"});e.a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cap-goods-layout__buy-btn-wrapper",class:[t.buttonWrapperClass],on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$emit("click",e)}}},[t.isLoading&&9!=+t.buyButtonType?n("div",{staticClass:"cap-goods-layout__buy-btn-loading"},[n("van-loading",{attrs:{type:"circle",size:"20"}})],1):1==+t.buyButtonType?n("van-icon",{class:t.buttonTypeClass,attrs:{name:"cart-circle-o",color:t.getThemeColorWithType("general")}}):2==+t.buyButtonType?n("van-icon",{class:t.buttonTypeClass,attrs:{name:"add-o",color:t.getThemeColorWithType("general")}}):3==+t.buyButtonType||4==+t.buyButtonType||7==+t.buyButtonType||8==+t.buyButtonType?n("van-button",{class:t.buttonTypeClass,style:t.buttonStyle,attrs:{size:"small",type:4==+t.buyButtonType||8==+t.buyButtonType?"default":"danger"}},[t._v("\n    "+t._s(t.goodsButtonText)+"\n    "),4==+t.buyButtonType||8==+t.buyButtonType?n("i",{staticClass:"cap-goods-layout__buy-btn-after",style:t.buttonStyle}):t._e()]):5==+t.buyButtonType?n("van-icon",{class:t.buttonTypeClass,attrs:{name:"add",color:t.getThemeColorWithType("general")}}):6==+t.buyButtonType?n("van-icon",{class:t.buttonTypeClass,attrs:{name:"shopping-cart-o",color:t.getThemeColorWithType("general")}}):9==+t.buyButtonType?n("van-button",{class:t.buttonTypeClass,style:t.buttonStyle,attrs:{type:"primary","bottom-action":""}},[t._v("\n    我要抢购\n  ")]):t._e()],1)},staticRenderFns:[],name:"goods-buy-button",components:(i={},i[a.default.name]=a.default,i[r.default.name]=r.default,i[o.default.name]=o.default,i),mixins:[s.a],props:{buyButtonType:Number,isLoading:Boolean,buttonText:String,buttonSize:{type:String,default:"big"}},computed:{buttonWrapperClass:function(){return[this.buttonSize,"type-"+this.buyButtonType]},goodsButtonText:function(){var t=this.buttonText,e=this.buyButtonType;return t||c[e]},buttonTypeClass:function(){return"cap-goods-layout__buy-btn-"+this.buyButtonType},buttonStyle:function(){var t=this.buyButtonType,e=this.getThemeColorWithType("general");switch(t){case 9:return{backgroundColor:e};case 3:case 7:return{backgroundColor:e,borderColor:e};case 4:case 8:return{color:e,borderColor:e};default:return{}}}}}},"5yqI":function(t,e,n){},"67WC":function(t,e,n){"use strict";var i,o=n("qYE9"),r=n("g6v/"),a=n("2oRo"),s=n("hh1v"),c=n("UTVS"),u=n("9d/t"),l=n("kRJp"),d=n("busE"),p=n("m/L8").f,f=n("4WOD"),h=n("0rvr"),m=n("tiKp"),g=n("kOOl"),v=a.Int8Array,y=v&&v.prototype,b=a.Uint8ClampedArray,_=b&&b.prototype,k=v&&f(v),w=y&&f(y),S=Object.prototype,C=S.isPrototypeOf,P=m("toStringTag"),x=g("TYPED_ARRAY_TAG"),O=o&&!!h&&"Opera"!==u(a.opera),T=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},A=function(t){return s(t)&&c(I,u(t))};for(i in I)a[i]||(O=!1);if((!O||"function"!=typeof k||k===Function.prototype)&&(k=function(){throw TypeError("Incorrect invocation")},O))for(i in I)a[i]&&h(a[i],k);if((!O||!w||w===S)&&(w=k.prototype,O))for(i in I)a[i]&&h(a[i].prototype,w);if(O&&f(_)!==w&&h(_,w),r&&!c(w,P))for(i in T=!0,p(w,P,{get:function(){return s(this)?this[x]:void 0}}),I)a[i]&&l(a[i],x,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_TAG:T&&x,aTypedArray:function(t){if(A(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(h){if(C.call(k,t))return t}else for(var e in I)if(c(I,i)){var n=a[e];if(n&&(t===n||C.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(r){if(n)for(var i in I){var o=a[i];o&&c(o.prototype,t)&&delete o.prototype[t]}w[t]&&!n||d(w,t,n?e:O&&y[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var i,o;if(r){if(h){if(n)for(i in I)(o=a[i])&&c(o,t)&&delete o[t];if(k[t]&&!n)return;try{return d(k,t,n?e:O&&v[t]||e)}catch(t){}}for(i in I)!(o=a[i])||o[t]&&!n||d(o,t,e)}},isView:function(t){var e=u(t);return"DataView"===e||c(I,e)},isTypedArray:A,TypedArray:k,TypedArrayPrototype:w}},"6JNq":function(t,e,n){t.exports=n("/g0A")("6JNq")},"6LWA":function(t,e,n){t.exports=n("/g0A")("6LWA")},"6NA5":function(t,e,n){"use strict";var i={get:function(t,e,n){void 0===n&&(n=!0),t=t.replace(/[[]/,"\\[").replace(/[]]/,"\\]"),e=e?"?"+e.split("#")[0].split("?")[1]:window.location.search;var i=RegExp("[?&]"+t+"=([^&#]*)").exec(e);return i?n?decodeURIComponent(i[1].replace(/\+/g," ")):i[1]:""},remove:function(t,e){var n=t.split("?");if(n.length>=2){for(var i=encodeURIComponent(e)+"=",o=n[1].split("&"),r=(o=o.reduce((function(t,e){return t.concat(e.split(";"))}),[])).length;r-- >0;)-1!==o[r].lastIndexOf(i,0)&&o.splice(r,1);return t=n[0]+"?"+o.join("&")}return t},add:function(t,e){if(!t||0===t.length||0===t.trim().indexOf("javascript"))return"";var n=t.split("#"),i=n[0].split("?"),o={};return i[1]&&i[1].split("&").forEach((function(t){var e;e=t.split("="),o[e[0]]=e.slice(1).join("=")})),Object.keys(e).forEach((function(t){o[t.trim()]=encodeURIComponent(e[t])})),t=i[0]+function(t){var e="";for(var n in t)""!==t[n]&&(e+=n.trim()+"="+t[n]+"&");return e?"?"+e.slice(0,e.length-1):""}(o),n[1]?t+="#"+n[1]:t}};t.exports=i},"6R/c":function(t,e,n){"use strict";var i=n("67WC"),o=n("TWQb").indexOf,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",(function(t){return o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},"6RPb":function(t,e,n){"use strict";t.exports=function(t){var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t=t||10;for(var i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}},"6a90":function(t,e,n){},"6ajc":function(t,e,n){var i=n("XGnz"),o=n("3WF5");t.exports=function(t,e){return i(o(t,e),1)}},"6iCd":function(t,e,n){},"6lTD":function(t,e,n){var i=n("zxkh");t.exports=function(t){return null==t?"":i(t)}},"6s/8":function(t,e,n){"use strict";var i=n("6iCd");n.n(i).a},"6tMj":function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},"6vqa":function(t,e,n){"use strict";var i={name:"CommonPop",mixins:[n("dNwI").a],props:{button:{type:String,default:""},title:String,nested:Boolean}},o=(n("Xd/g"),n("KHd+")),r=Object(o.default)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-popup",{ref:"commonPopRef",staticClass:"common-popup",attrs:{closeable:t.nested,round:"","lock-scroll":"","safe-area-inset-bottom":"",position:"bottom","close-icon-position":"top-left","close-icon":"arrow-left"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[t.title?n("h3",{staticClass:"common-popup__title"},[t._v(t._s(t.title))]):t._e(),n("div",{staticClass:"common-popup__content"},[t._t("default")],2),t.nested?t._e():n("div",{staticClass:"common-popup__button-wrapper"},[n("van-button",{staticClass:"common-popup__button theme__button--main theme__border",attrs:{type:"danger",block:"",round:""},on:{click:t.handleCloseModal}},[t._v("\n      "+t._s(t.button||"我知道了")+"\n    ")])],1)])}),[],!1,null,null,null);e.a=r.exports},"711d":function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},"7GkX":function(t,e,n){t.exports=n("/g0A")("7GkX")},"7Msk":function(t,e,n){},"7QPm":function(t,e,n){"use strict";var i=n("Shfq");n.n(i).a},"7QqZ":function(t,e,n){},"7fqy":function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}},"7ikB":function(t,e,n){},"7x5F":function(t,e,n){var i=n("ijwV");t.exports=function(){this.__data__=i?i(null):{},this.size=0}},"82R4":function(t,e,n){},"87HQ":function(t,e,n){"use strict";var i=n("ZEyx");n.n(i).a},"88Gu":function(t,e){var n=Date.now;t.exports=function(t){var e=0,i=0;return function(){var o=n(),r=16-(o-i);if(i=o,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},"8YOa":function(t,e,n){var i=n("0BK2"),o=n("hh1v"),r=n("UTVS"),a=n("m/L8").f,s=n("kOOl"),c=n("uy83"),u=s("meta"),l=0,d=Object.isExtensible||function(){return!0},p=function(t){a(t,u,{value:{objectID:"O"+ ++l,weakData:{}}})},f=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,u)){if(!d(t))return"F";if(!e)return"E";p(t)}return t[u].objectID},getWeakData:function(t,e){if(!r(t,u)){if(!d(t))return!0;if(!e)return!1;p(t)}return t[u].weakData},onFreeze:function(t){return c&&f.REQUIRED&&d(t)&&!r(t,u)&&p(t),t}};i[u]=!0},"8a44":function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},"8afP":function(t,e,n){"use strict";n.d(e,"w",(function(){return Y})),n.d(e,"i",(function(){return U})),n.d(e,"z",(function(){return R})),n.d(e,"c",(function(){return z})),n.d(e,"l",(function(){return V})),n.d(e,"g",(function(){return $})),n.d(e,"v",(function(){return G})),n.d(e,"f",(function(){return W})),n.d(e,"y",(function(){return H})),n.d(e,"k",(function(){return K}));n("QWBl"),n("yXV3"),n("oVuX"),n("toAj"),n("tkto"),n("07d7"),n("rNhl"),n("4l63"),n("TWNs"),n("rB9j"),n("JfAA"),n("Rm1S"),n("UxlC"),n("EnZy"),n("FZtP");var i=n("GoyQ"),o=n.n(i);n.d(e,"n",(function(){return o.a}));var r=n("UB5X"),a=n.n(r);n.d(e,"m",(function(){return a.a}));var s=n("gPaA"),c=n.n(s);n.d(e,"t",(function(){return c.a}));var u=n("FyPc"),l=n.n(u);n.d(e,"s",(function(){return l.a}));var d=n("DIQr");n.d(e,"o",(function(){return d.h}));var p=n("nKNz"),f=n.n(p);n.d(e,"x",(function(){return f.a}));var h=n("Im9W"),m=n.n(h);n.d(e,"A",(function(){return m.a}));var g=n("+6Oo"),v=n.n(g);n.d(e,"d",(function(){return v.a}));var y=n("f4ya"),b=n.n(y);n.d(e,"b",(function(){return b.a}));var _=n("PeFp"),k=n.n(_);n.d(e,"j",(function(){return k.a}));var w=n("3xkE"),S=n.n(w);n.d(e,"e",(function(){return S.a}));var C=n("asw2"),P=n.n(C);n.d(e,"h",(function(){return P.a}));n("e6af");var x=n("JL3r"),O=n.n(x),T=(n("bqcR"),n("6RPb")),I=n.n(T);n.d(e,"p",(function(){return I.a}));var A=n("F+bm"),B=n.n(A);n.d(e,"q",(function(){return B.a}));var j=n("nPta"),D=n.n(j);n.d(e,"r",(function(){return D.a}));var E=n("oyFk"),L=n.n(E);n.d(e,"u",(function(){return L.a}));var N=n("ypRW"),M=n("mFPD");n.d(e,"a",(function(){return M.action}));var F=864e5;function R(t,e){var n=""+t;if(e||(e=0),-1===n.indexOf(".")&&(n+="."),n+=new Array(e+1).join("0"),new RegExp("^(-|\\+)?(\\d+(\\.\\d{0,"+(e+1)+"})?)\\d*$").test(n)){var i="0"+RegExp.$2,o=RegExp.$1,r=RegExp.$3.length,a=!0;if(r===e+2){if(r=i.match(/\d/g),parseInt(r[r.length-1])>4)for(var s=r.length-2;s>=0&&(r[s]=parseInt(r[s])+1,10===r[s]);s--)r[s]=0,a=1!==s;i=r.join("").replace(new RegExp("(\\d+)(\\d{"+e+"})\\d$"),"$1.$2")}return a&&(i=i.substr(1)),(o+i).replace(/\.$/,"")}return""+t}function U(t,e,n){if(void 0===n&&(n={}),!t)return n;var i,o=e.split("."),r=t;return o.forEach((function(t){var e;e=r[t],r=null!=e?r[t]:{}})),i=r,"[object Object]"!==Object.prototype.toString.call(i)||Object.keys(i).length?r:n}function W(t){return t?t<=100?"<100m ":t>100&&t<=1e3?R(t,0)+"m ":t>1e3&&t<1e4?R(t/1e3,1)+"km ":">10km ":""}function G(t,e,n){if(void 0===e&&(e=2),void 0===n&&(n=!1),!a()(t))return"";var i=(t/100).toFixed(e);return n?parseFloat(i):i}function $(t,e){return void 0===e&&(e="~"),o()(t)?G(t.min)+e+G(t.max):G(t)}function q(t,e){if(void 0===t&&(t=0),void 0===e&&(e=2),2===e)return t<=9?"0"+t:""+t;if(3===e){if(t<=9)return"00"+t;if(t<=99)return"0"+t}return""+t}function H(t){void 0===t&&(t=0);var e=t,n=Math.floor(e/F);e-=n*F;var i=Math.floor(e/36e5);e-=36e5*i;var o=Math.floor(e/6e4);e-=6e4*o;var r=Math.floor(e/1e3),a=e-1e3*r;return{days:n,hours:q(i),minutes:q(o),seconds:q(r),milliseconds:q(a,3),remainArr:[n,i,o,r,a]}}function V(t){return N.getSafeUrl({url:t,kdtId:window._global.kdt_id||0})}function z(){var t=O.a.apply(void 0,arguments);return V(t)}function Y(t,e){return void 0===t?e:t}function K(t){return t.replace(/[^\x00-\xff]/g,"__").length}},"8lM+":function(t,e,n){t.exports=n("oxns")("8lM+")},"93B1":function(t,e,n){"use strict";var i=n("4H1b");n.n(i).a},"93I0":function(t,e,n){t.exports=n("/g0A")("93I0")},"9NKH":function(t,e,n){"use strict";var i=n("j0Lq");n.n(i).a},"9Nap":function(t,e,n){t.exports=n("/g0A")("9Nap")},"9SCZ":function(t,e,n){},"9ggG":function(t,e,n){t.exports=n("/g0A")("9ggG")},"9gkb":function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},AmKA:function(t,e,n){"use strict";var i=n("SaS9");n.n(i).a},"AnG/":function(t,e,n){"use strict";var i=n("cJ8H");n.n(i).a},B6y2:function(t,e,n){var i=n("I+eb"),o=n("b1O7").values;i({target:"Object",stat:!0},{values:function(t){return o(t)}})},B83N:function(t,e,n){t.exports=n("/g0A")("B83N")},B8Bf:function(t,e,n){"use strict";var i={get:function(t,e,n){void 0===n&&(n=!0),t=t.replace(/[[]/,"\\[").replace(/[]]/,"\\]"),e=e?"?"+e.split("#")[0].split("?")[1]:window.location.search;var i=RegExp("[?&]"+t+"=([^&#]*)").exec(e);return i?n?decodeURIComponent(i[1].replace(/\+/g," ")):i[1]:""},remove:function(t,e){var n=t.split("?");if(n.length>=2){for(var i=encodeURIComponent(e)+"=",o=n[1].split("&"),r=(o=o.reduce((function(t,e){return t.concat(e.split(";"))}),[])).length;r-- >0;)-1!==o[r].lastIndexOf(i,0)&&o.splice(r,1);return t=n[0]+"?"+o.join("&")}return t},add:function(t,e){if(!t||0===t.length||0===t.trim().indexOf("javascript"))return"";var n=t.split("#"),i=n[0].split("?"),o={};return i[1]&&i[1].split("&").forEach((function(t){var e;e=t.split("="),o[e[0]]=e.slice(1).join("=")})),Object.keys(e).forEach((function(t){o[t.trim()]=encodeURIComponent(e[t])})),t=i[0]+function(t){var e="";for(var n in t)""!==t[n]&&(e+=n.trim()+"="+t[n]+"&");return e?"?"+e.slice(0,e.length-1):""}(o),n[1]?t+="#"+n[1]:t}};t.exports=i},BCYM:function(t,e,n){"use strict";var i=n("Xae2");n.n(i).a},BL7D:function(t,e,n){var i=n("ViXs");t.exports=function(t,e){var n=this.__data__,o=i(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},BQyk:function(t,e,n){"use strict";var i={get:function(t,e,n){void 0===n&&(n=!0),t=t.replace(/[[]/,"\\[").replace(/[]]/,"\\]"),e=e?"?"+e.split("#")[0].split("?")[1]:window.location.search;var i=RegExp("[?&]"+t+"=([^&#]*)").exec(e);return i?n?decodeURIComponent(i[1].replace(/\+/g," ")):i[1]:""},remove:function(t,e){var n=t.split("?");if(n.length>=2){for(var i=encodeURIComponent(e)+"=",o=n[1].split("&"),r=(o=o.reduce((function(t,e){return t.concat(e.split(";"))}),[])).length;r-- >0;)-1!==o[r].lastIndexOf(i,0)&&o.splice(r,1);return t=n[0]+"?"+o.join("&")}return t},add:function(t,e){if(!t||0===t.length||0===t.trim().indexOf("javascript"))return"";var n=t.split("#"),i=n[0].split("?"),o={};return i[1]&&i[1].split("&").forEach((function(t){var e;e=t.split("="),o[e[0]]=e.slice(1).join("=")})),Object.keys(e).forEach((function(t){o[t.trim()]=encodeURIComponent(e[t])})),t=i[0]+function(t){var e="";for(var n in t)""!==t[n]&&(e+=n.trim()+"="+t[n]+"&");return e?"?"+e.slice(0,e.length-1):""}(o),n[1]?t+="#"+n[1]:t}};t.exports=i},"BX/b":function(t,e,n){var i=n("/GqU"),o=n("JBy8").f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(i(t))}},BfIq:function(t,e,n){t.exports=n("/g0A")("BfIq")},BiGR:function(t,e,n){var i=n("nmnc"),o=n("03A+"),r=n("Z0cm"),a=i?i.isConcatSpreadable:void 0;t.exports=function(t){return r(t)||o(t)||!!(a&&t&&t[a])}},BlND:function(t,e,n){t.exports=n("oxns")("BlND")},BqwS:function(t,e,n){var i=n("FPxf"),o=n("VRQs"),r=n("sLM4"),a=n("6lTD");t.exports=function(t,e){return i(t)?t:o(t,e)?[t]:r(a(t))}},C1U2:function(t,e,n){},C8PE:function(t,e,n){},CC68:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG").__importDefault(n("cr+I"));t.exports=i.default},"CDy+":function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return $})),n.d(e,"c",(function(){return R})),n.d(e,"d",(function(){return G}));n("QWBl"),n("FZtP"),n("zKZe"),n("tkto");var i,o=n("dI71"),r=(n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("rB9j"),n("oVuX"),n("EnZy"),n("Kw5r")),a=n("7j/v"),s=n("BQyk"),c=n.n(s),u=n("2Xrt"),l=(n("Tskq"),n("Hhk/")),d=n.n(l),p=[];function f(t){i?i(t):p.push(t)}function h(t){}var m={enumerable:!0,configurable:!0,get:h,set:h};function g(t){return JSON.parse(JSON.stringify(t))}var v=function(){function t(){this.funcs={}}var e=t.prototype;return e.on=function(t,e){t&&e&&"function"==typeof e&&(this.funcs[t]=e,f({type:"bindEvent",eventType:this.type,eventName:this.name}))},e.off=function(t){t?delete this.funcs[t]:this.funcs={}},t}(),y=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).type="asyncEvent",e}return Object(o.a)(e,t),e.prototype.trigger=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=[],o=Object.assign({},this.funcs);return Object.keys(o).forEach((function(t){var n=o[t];try{var r=n.apply(void 0,g(e));i.push(r)}catch(t){i.push(Promise.reject({err:t}))}})),Promise.all(i)},e}(v),b={h5:{},weapp:{homeDashboard:"/packages/home/dashboard/index",login:"/pages/account/login/index",cart:"/packages/goods/cart/index",buy:"/packages/order/index",showcaseFeature:"/packages/home/feature/index",goodsDetail:"/packages/goods/detail/index",pointCenter:"/packages/pointstore/point-center/index",pointGoodsDetail:"/packages/pointstore/goods-details/index",userCenter:"/packages/usercenter/dashboard/index",orderList:"/packages/trade/order/list/index",cardPackages:"/packages/card/all/index",userCounponList:"/packages/user/coupon/list/index",addressList:"/packages/order/address-list/index",refundList:"/packages/trade/refund/list/index",userSettings:"/packages/user/membercenter/setting/index",accountSettings:"/packages/account/settings/index",orderDetail:"/packages/trade/order/result/index",orderExpress:"/packages/trade/order/express/index"},swan:{}},_={appName:"wsc-h5-v3",logIndex:"cloud_bridge_log"};var k,w,S=function(t,e){F.enableLogger&&u.a.log(Object.assign({},_,{level:"info",name:t,message:"["+F.appName+"] "+e}))},C=function(t){return void 0===t&&(t={}),a.default.init(t)},P={init:C,navigate:function(t){return f({type:"browserNavigate",options:t}),new Promise((function(){var e={},n=R().getData("shop");n&&n.kdtId&&(e.kdtId=n.kdtId),C(e).then((function(e){var n=e.platform;if("custom"===t.pageType?(S("[browser.navigate][custom]",JSON.stringify(t)),delete t.pageType):t.weappUrl&&(S("[browser.navigate]",JSON.stringify(t)),t.weappUrl=b.weapp[t.weappUrl]||""),"weapp"===n){if(!t.weappUrl)throw new Error("empty weappUrl");var i=t.query,o=void 0===i?{}:i;t.weappUrl=c.a.add(t.weappUrl,o)}a.default.navigate(t)}))}))}},x=!1,O=new Map,T=[];function I(){return w||(w=function(){var t=document.querySelector("#youzanyun-global-storage");if(t)return t;var e=document.createElement("iframe");return e.setAttribute("id","youzanyun-global-storage"),e.src="https://h5.youzan.com/v3/youzanyun/global-storage",e.style.display="none",document.body.insertAdjacentElement("beforeend",e),e}()),Promise.resolve()}function A(t){var e="";do{e=t+"_"+d()(5)}while(O.has(e));return e}function B(t){var e=t.data,n=void 0===e?{}:e;if("string"!=typeof n){var i=n.eventType,o=n.randomKey,r=n.value,a=n.error;if("globalStorage:return"===i){var s=O.get(o);if(!s)return;a?s.reject(a):s.resolve(r),O.delete(o)}else if("globalStorage:ready"===i)for(x=!0;T.length;){T.shift()()}}}function j(t){x?w.contentWindow.postMessage(t,"*"):T.push((function(){w.contentWindow.postMessage(t,"*")}))}function D(){window.addEventListener("message",B.bind(k),!1)}var E,L,N=function(){function t(){D()}var e=t.prototype;return e.getItem=function(t){var e=A("globalStorage:get");return new Promise((function(n,i){return O.set(e,{resolve:n,reject:i}),I().then((function(){j({eventType:"globalStorage:get",key:t,randomKey:e})}))}))},e.setItem=function(t,e){var n=A("globalStorage:set");return new Promise((function(i,o){return O.set(n,{resolve:i,reject:o}),I().then((function(){j({eventType:"globalStorage:set",key:t,value:e,randomKey:n})}))}))},e.removeItem=function(t){var e=A("globalStorage:remove");return new Promise((function(n,i){return O.set(e,{resolve:n,reject:i}),I().then((function(){j({eventType:"globalStorage:remove",key:t,randomKey:e})}))}))},e.clear=function(){var t=A("globalStorage:clear");return new Promise((function(e,n){return O.set(t,{resolve:e,reject:n}),I().then((function(){j({eventType:"globalStorage:clear",randomKey:t})}))}))},t}(),M=function(){function t(){this.data={},this.pageData=null,this.process={},this.events={},this._vm=null,this._prettyVm,this._state={},this.browser=P,this.globalStorage=k||(k=new N)}var e=t.prototype;return e.getProcess=function(t,e){if(void 0===t&&(t=""),void 0===e&&(e=""),e&&(t=e),!t)throw new Error("无调用函数名称");return S("[bridge.getProcess]","p: "+t),this.process[t]||h},e.setProcess=function(t,e,n){if("function"==typeof n&&(t=e,e=n),!t||!e)throw new Error("无函数名称或者无函数");if("function"!=typeof e)throw new Error("传入的函数格式不正确");this.process[t]=e,f({type:"setProcess",processName:t})},e.setData=function(t,e){if(!t)throw new Error("无数据名称");this.data[t]=e,f({type:"setData",key:t,data:e})},e.getData=function(t){if(!t)throw new Error("无获取数据的参数名称");return S("[bridge.getData]","k: "+t+" v:"+this.data[t]),this.data[t]},e.setPageDataContext=function(t,e){var n,i=this;if(!t)throw new Error("无函数名称或者无函数");this.pageData={},this.pageData.$watch=this.watch.bind(this),this._vm=t,this._prettyVm=new r.default({data:{$$state:this._state}}),null!==(n=e)&&"object"==typeof n&&Object.keys(e).forEach((function(t){var n=e[t];i.setState(t,n)})),f({type:"setPageData",pageData:this.pageData})},e.setEvent=function(t,e){e.name=t,this.events[t]=e,f({type:"setEvent",eventName:t,eventType:e.type})},e.setState=function(t,e){var n=this._vm;if(n){var i=this._prettyVm,o=n.$store,r=void 0===o?{}:o,a=r.state||{},s=r.getters||{},c=n._data,u=g(e&&e({data:c,state:a,getters:s}));i.$set(i.$data.$$state,t,u),this.pageData&&function(t,e,n){m.get=function(){return e[n]},m.set=function(t){e[n]=t},Object.defineProperty(t,n,m)}(this.pageData,this._state,t),n.$watch((function(){return g(e&&e({data:c,state:a,getters:s}))}),(function(e){i.$data.$$state[t]=e}),{deep:!0})}},e.watch=function(t,e){var n=t;if("string"==typeof t){var i=t.split(".");i.unshift("$$state"),i.unshift("$data"),t=i.join(".")}var o=this._prettyVm.$watch(t,e,{deep:!0});return f({type:"watchPageData",path:n}),S("[bridge.watchPageData]",""+JSON.stringify(n)),function(){o(),f({type:"unwatchPageData",path:n})}},t}(),F={appName:"unknown-app",pageName:"unknown",hostUrl:"",enableLogger:!0};function R(){return E||(E=new M),E}Object.defineProperty(F,"bridge",{get:function(){return R()}});var U=null,W=[];function G(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),L=R(),U=t,function(t,e){t.youzanyunbridgeReady=!1,t.youzanyunReady=function(e){if("function"!=typeof e)throw new Error("ready 只接受函数做为参数");t.youzanyunbridgeReady?e():W.push(e)},t.youzanyunbridge={getData:function(t){return e.getData(t)},getProcess:function(t,n){return e.getProcess(t,n)},get globalStorage(){return e.globalStorage},get pageData(){return e.pageData},get events(){return e.events},get browser(){return{navigate:e.browser.navigate}}}}(t,L),function(t,e){var n,i;void 0===t&&(t={}),F.enableLogger="boolean"==typeof t.enableLogger&&t.enableLogger,t.appName&&(F.appName=t.appName),F.hostUrl=e.location&&e.location.href||"",Object.assign(F,(n=F.hostUrl,(i=function(t){if(!t)return null;var e=/^(https?:\/\/)([^/?#]+)=?([^&?#]*)/g.exec(t);return e&&e.length>=4?{hostName:e[2],contextPath:e[3]}:null}(n))?{pageName:i.contextPath}:{pageName:"unknown"}))}(e,U),S("[bridge.init]",""+JSON.stringify(e)),L}function $(){U&&(U.youzanyunbridgeReady||(U.youzanyunbridgeReady=!0,W.forEach((function(t){try{t()}catch(t){console.error(t)}})),W=[],f({type:"bridgeReady"})))}},CH3K:function(t,e,n){t.exports=n("/g0A")("CH3K")},CMye:function(t,e,n){var i=n("GoyQ");t.exports=function(t){return t==t&&!i(t)}},Cf6i:function(t,e,n){t.exports=n("oxns")("Cf6i")},Cm5I:function(t,e,n){},CxD4:function(t,e,n){},CyXQ:function(t,e,n){var i=n("ppGB"),o=n("UMSQ");t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=o(e);if(e!==n)throw RangeError("Wrong length or index");return n}},CzMu:function(t,e,n){t.exports=n("oxns")("CzMu")},"D+7F":function(t,e,n){},"D+nY":function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return f}));n("oVuX"),n("toAj"),n("ma9I"),n("+2oP"),n("4l63");var i=function(t){return"string"==typeof t?t:""+t};n("QWBl"),n("rB9j"),n("EnZy"),n("FZtP");n("tkto");var o=n("dI71");function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=n("s4An");var s=n("RHh3");function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return Object(s.a)(t,arguments,r(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Object(a.a)(i,t)})(t)}var u=function(t){function e(e){var n;return(n=t.call(this,e)||this).name="ZanError",n}return Object(o.a)(e,t),e}(c(Error)),l=function(t){function e(e){var n;return(n=t.call(this,e.msg)||this).name="AjaxError",n.data=e.data,n.resp=e,n}return Object(o.a)(e,t),e}(u),d=function(t){function e(e,n){var i;return(i=t.call(this,e.err_desc)||this).name="WxPayError",i.payData=n,i.resp=e,i}return Object(o.a)(e,t),e}(u),p=function(t){function e(e){var n;return(n=t.call(this,e.msg)||this).name="WxPayBridgeError",n}return Object(o.a)(e,t),e}(u),f=function(t){function e(e){var n;return(n=t.call(this,e.msg)||this).name="WxAppPayError",n.msg=e.msg,n.retry=!!e.retry,n.resp=e,n}return Object(o.a)(e,t),e}(u);n("07d7"),n("5s+n"),Error},DV41:function(t,e,n){},Do2X:function(t,e,n){},DxeB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG").__importDefault(n("IUr4")),o=function(t){var e=t.match(/\.(jpe?g|png|bmp|gif)/i),n="jpg";return e&&(n=e[1]),n},r=function(t,e){return"!"+t+"."+function(t){void 0===t&&(t=""),t=t.toLocaleLowerCase();return/(jpg|gif|png|webp)/.test(t)||(t="jpg"),i.default.getCanWebp()&&(t="webp"),t}(e)};e.transQiniuFormatToWebp=function(t){var e,n=i.default.getCanWebp(),r=/(\?imageView2\/\d\/w\/\d+\/h\/\d+\/q\/\d+\/format\/)(\w+)/;if(e=t,r.test(t)){var a=t.match(r)[2];if(n)"webp"!==a&&(e=t.replace(r,"$1webp"));else if("webp"===a){var s=o(t);e=t.replace(r,"$1"+s)}}return e},e.getCdnRegex=function(){return/\.([^.!]+)!([0-9]{1,4})x([0-9]{1,4})q?([0-9]{0,2}|100)?(\+2x)?\..+/},e.parseUrl=function(t,n){void 0===n&&(n={});var o=i.default.getCanWebp(),r=n.isGifOptimation,a=1,s=t.match(e.getCdnRegex());if(!s||s.length<4)return null;var c,u=r?"gif/unoptimize/1":"gif",l=s[1].match(/([^.!]+)\?watermark\/.*\/$/),d=!1;l&&l.length?(c=l[1],d=!0):c=s[1];var p=c||"";return"gif"===c?p=u:o?p="webp":"webp"!==c&&"jpeg"!==c||(p="jpg"),"+2x"===s[5]&&(a=2),{hasWatermark:d,originFormat:c,format:p.toLocaleLowerCase(),width:parseInt(s[2],10)*a,height:parseInt(s[3],10)*a,quality:s[4]||75,imgSuffixAndWatermark:s[1],multiple:a}},e.ruleAdapter=function(t,e){void 0===t&&(t=""),void 0===e&&(e="");var n=(e=e.trim()).match(/^origin|middle|large|small$/i);if(n){var i=o(t),a=n[0];e=r(a,i)}return e},e.urlAdaptor=function(t,n){var o=e.parseUrl(t,n);return t=o?o.hasWatermark?i.default.toWebp(t,n,o):function(t,n){n.hasWatermark;var i=n.originFormat,o=n.format,a=n.width,s=(n.height,n.quality,n.imgSuffixAndWatermark,function(t){void 0===t&&(t=1e3);var e="origin";return t<=260?e="small":t<=520?e="middle":t<=900&&(e="large"),e}(a));return t.replace(e.getCdnRegex(),"")+"."+i+r(s,o)}(t,o):e.transQiniuFormatToWebp(t)}},DzJC:function(t,e,n){var i=n("sEfC"),o=n("GoyQ");t.exports=function(t,e,n){var r=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return o(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),i(t,e,{leading:r,maxWait:e,trailing:a})}},E0j1:function(t,e,n){"use strict";n("07d7"),n("5s+n"),n("rB9j"),n("EnZy"),n("5+UC");var i=n("05lO"),o=n("KaBt");n("yXV3"),n("4mDm"),n("wZ/5"),n("rOQg"),n("4l63"),n("JfAA"),n("XMab"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0");function r(t,e){return new Promise((function(n,i){var o=new Image,r="newImage";if(o.onerror=function(t){i(t)},o.onload=function(){try{e=e||{};var t=this.width||100,o=this.height||100,a=e.quality||.6,s=e.type||"image/jpeg";e.width&&e.height?(t=e.width,o=e.height):e.width&&!e.height?(o=parseInt(o*(e.width/t),10),t=e.width):e.height&&!e.width?(t=parseInt(t*(e.height/o),10),o=e.height):e.maxWidth?t>e.maxWidth&&(o=parseInt(o*(e.maxWidth/t),10),t=e.maxWidth):e.maxHeight?o>e.maxHeight&&(t=parseInt(t*(e.maxHeight/o),10),o=e.maxHeight):e.maxSide?o>=t&&o>e.maxSide?(t=parseInt(t*(e.maxSide/o),10),o=e.maxSide):t>o&&t>e.maxSide&&(o=parseInt(o*(e.maxSide/t),10),t=e.maxSide):e.ratio&&(t=parseInt(t*e.ratio,10),o=parseInt(o*e.ratio,10));var c=document.createElement("canvas");c.width=t,c.height=o;var u=c.getContext("2d");u.clearRect(0,0,t,o),u.drawImage(this,0,0,t,o);var l=function(t,e){for(var n=t.split(",")[1],i=window.atob(n),o=new ArrayBuffer(i.length),r=new Uint8Array(o),a=0;a<i.length;a++)r[a]=i.charCodeAt(a);return new Blob([r],{type:e})}(c.toDataURL(s,a),s);l.name=r,n(l)}catch(t){i(t)}},"string"==typeof t)o.setAttribute("crossOrigin","anonymous"),o.src=t,r=t;else if("object"==typeof t&&t.toString().indexOf("File")>=0){var a=new FileReader;a.readAsDataURL(t),a.onload=function(e){o.src=e.target&&e.target.result,t.name&&(r=t.name)}}else i(new Error("Error image source context"))}))}function a(t){var e=t.file,n=t.token,i=t.saveToShop,o=new FormData;o.append("file",e),o.append("token",n),!1===i&&o.append("x:skip_save",1);var r="",a=e.name.split(".");return a.length>1&&(r="."+a[a.length-1]),o.append("x:ext",r),o}function s(t,e){if(t.size>5242880)return Promise.reject("图片太大了");var n=e.token,i=void 0===n?"":n,r=e.saveToShop,s=void 0!==r&&r;return i?c(a({file:t,token:i,saveToShop:s})):Object(o.a)({url:"/wscshop/token/upload-image.json",withCredentials:!0,errorMsg:"获取token失败"}).then((function(e){return c(a({file:t,token:e.token,saveToShop:s}))}))}function c(t){return Object(o.c)({url:"//up.qbox.me",type:"POST",data:t,contentType:"multipart/form-data"})}e.a=function(t,e){return void 0===e&&(e={}),t.size>3145728?(Object(i.default)("正在尝试压缩处理图片，请稍后"),r(t,{maxSide:4e3}).then((function(t){return s(t,e)})).catch((function(n){return s(t,e)}))):s(t,e)}},E9XD:function(t,e,n){t.exports=n("/g0A")("E9XD")},EA7m:function(t,e,n){var i=n("zZ0H"),o=n("Ioao"),r=n("wclG");t.exports=function(t,e){return r(o(t,e,i),t+"")}},EAM2:function(t,e,n){"use strict";var i=n("WHCL");n.n(i).a},ELss:function(t,e,n){"use strict";var i=n("82R4");n.n(i).a},ENF9:function(t,e,n){"use strict";var i,o=n("2oRo"),r=n("4syw"),a=n("8YOa"),s=n("bWFh"),c=n("rKzb"),u=n("hh1v"),l=n("afO8").enforce,d=n("f5p1"),p=!o.ActiveXObject&&"ActiveXObject"in o,f=Object.isExtensible,h=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},m=t.exports=s("WeakMap",h,c);if(d&&p){i=c.getConstructor(h,"WeakMap",!0),a.REQUIRED=!0;var g=m.prototype,v=g.delete,y=g.has,b=g.get,_=g.set;r(g,{delete:function(t){if(u(t)&&!f(t)){var e=l(this);return e.frozen||(e.frozen=new i),v.call(this,t)||e.frozen.delete(t)}return v.call(this,t)},has:function(t){if(u(t)&&!f(t)){var e=l(this);return e.frozen||(e.frozen=new i),y.call(this,t)||e.frozen.has(t)}return y.call(this,t)},get:function(t){if(u(t)&&!f(t)){var e=l(this);return e.frozen||(e.frozen=new i),y.call(this,t)?b.call(this,t):e.frozen.get(t)}return b.call(this,t)},set:function(t,e){if(u(t)&&!f(t)){var n=l(this);n.frozen||(n.frozen=new i),y.call(this,t)?_.call(this,t,e):n.frozen.set(t,e)}else _.call(this,t,e);return this}})}},EUY0:function(t,e,n){t.exports=n("oxns")("EUY0")},EXXg:function(t,e,n){t.exports=n("oxns")("EXXg")},EfCa:function(t,e,n){"use strict";var i=n("LZ3t");n.n(i).a},EjZl:function(t,e,n){},Ep9I:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},EwQA:function(t,e,n){var i=n("zZ0H");t.exports=function(t){return"function"==typeof t?t:i}},EzGd:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return r}));n("QWBl"),n("zKZe"),n("tkto"),n("FZtP");var i=function(){return(Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t){var e=new XMLHttpRequest;e.open(t.method,t.url),e.setRequestHeader("Content-Type","application/json"),t.headers&&Object.keys(t.headers).forEach((function(n){e.setRequestHeader(n,t.headers[n])})),e.withCredentials=!0,e.timeout=5e3,e.responseType="json",e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status&&e.response){var n=e.response;"string"==typeof n&&(n=JSON.parse(n)),"function"==typeof t.success&&t.success(n)}else"function"==typeof t.fail&&t.fail(e.errors)},e.send(JSON.stringify(t.data))}function r(t){t=t||32;for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=e.length,i="",o=0;o<t;o++)i+=e.charAt(Math.floor(Math.random()*n));return i}},FAg5:function(t,e,n){var i=n("bn4k"),o=n("pBqY"),r=n("/i9x");t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(r||o),string:new i}}},FF6l:function(t,e,n){"use strict";var i=n("ewvW"),o=n("I8vh"),r=n("UMSQ"),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=i(this),s=r(n.length),c=o(t,s),u=o(e,s),l=arguments.length>2?arguments[2]:void 0,d=a((void 0===l?s:o(l,s))-u,s-c),p=1;for(u<c&&c<u+d&&(p=-1,u+=d-1,c+=d-1);d-- >0;)u in n?n[c]=n[u]:delete n[c],c+=p,u+=p;return n}},FI0G:function(t,e,n){"use strict";n("qePV");e.a={props:{list:{type:Array,default:function(){return[]}},layout:{type:Number,default:0},sizeType:{type:Number,default:0},showTitle:{type:Boolean,default:!0},showSubTitle:Boolean,showPrice:{type:Boolean,default:!0},showOriginPrice:Boolean,showPriceLabel:Boolean,showUmpAmbience:Boolean,showBuyButton:{type:Boolean,default:!0},buyButtonType:{type:Number,default:1},showSoldNum:{type:Boolean,default:!1},showCornerMark:Boolean,cornerMarkType:{type:Number,default:0},cornerMarkImage:{type:String,default:""},imageRatio:Number,imageFillStyle:{type:Number,default:2},buttonText:String,pageMargin:{type:Number,default:15},goodsMargin:{type:Number,default:10},textStyleType:{type:Number,default:1},textAlignType:{type:String,default:"left"},borderRadiusType:{type:Number,default:1},moreUrl:String,showMoreButton:Boolean,moreButtonType:{type:Number,default:1},extraData:Object,itemClickCallback:Function}}},FMNM:function(t,e,n){t.exports=n("/g0A")("FMNM")},FPxf:function(t,e){var n=Array.isArray;t.exports=n},"Fwt+":function(t,e,n){"use strict";var i=n("67WC"),o=n("UMSQ"),r=n("I8vh"),a=n("SEBh"),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",(function(t,e){var n=s(this),i=n.length,c=r(t,i);return new(a(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===e?i:r(e,i))-c))}))},FyPc:function(t,e,n){var i=n("dunj"),o=n("V9xz"),r=n("ut/Y");t.exports=function(t,e){return t&&t.length?i(t,r(e,2),o):void 0}},G7ty:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return c}));n("QWBl"),n("tkto"),n("07d7"),n("5s+n"),n("FZtP");var i=n("d9Jj"),o=n("pZw8"),r=n("wkKT");function a(t){for(var e=window.YzPageLogger,n=[],i=Object.keys(o.b),a=0;a<i.length;a++){var s=i[a],c=t[s];if(c){var u=c.subType||c.type||s,l=c.code||o.b[u]||"",d="";Array.isArray(c)||(d=c.id||c.activityId||""),n.push({act_type:String(l),act_id:String(d)})}}t.packageBuy&&t.packageBuy.forEach((function(t){n.push({act_type:"7",act_id:String(t.id)})})),n.length&&e.log({et:"custom",ei:"view_goods",params:{ump_params:n,spm:window.Logger.getSpm()}}),r.WebLogger.syncTrackerCookies()}function s(t,e){var n=window._globalAsyncData.apolloSwitch;if((void 0===n?{}:n)["client-log"])i.a.get({url:"/wscgoods/log",data:{msg:encodeURIComponent(JSON.stringify({title:t,extra:e}))}}).catch((function(){}));else{var o=window.Raven;try{o&&o.captureMessage(t,{level:"warning",logger:"ajax",tags:{Type:"ajax"},extra:e})}catch(t){}}}function c(t){return void 0===t&&(t={}),window.YzPageLogger?window.YzPageLogger.log(t):Promise.reject()}},GBY4:function(t,e,n){"use strict";(function(e){var i=n("RA0T"),o=n("nFlj"),r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(t){return(t||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function d(t){var n,i=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},o={},a=typeof(t=t||i);if("blob:"===t.protocol)o=new f(unescape(t.pathname),{});else if("string"===a)for(n in o=new f(t,{}),l)delete o[n];else if("object"===a){for(n in t)n in l||(o[n]=t[n]);void 0===o.slashes&&(o.slashes=r.test(t.href))}return o}function p(t){t=c(t);var e=a.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function f(t,e,n){if(t=c(t),!(this instanceof f))return new f(t,e,n);var r,a,s,l,h,m,g=u.slice(),v=typeof e,y=this,b=0;for("object"!==v&&"string"!==v&&(n=e,e=null),n&&"function"!=typeof n&&(n=o.parse),e=d(e),r=!(a=p(t||"")).protocol&&!a.slashes,y.slashes=a.slashes||r&&e.slashes,y.protocol=a.protocol||e.protocol||"",t=a.rest,a.slashes||(g[3]=[/(.*)/,"pathname"]);b<g.length;b++)"function"!=typeof(l=g[b])?(s=l[0],m=l[1],s!=s?y[m]=t:"string"==typeof s?~(h=t.indexOf(s))&&("number"==typeof l[2]?(y[m]=t.slice(0,h),t=t.slice(h+l[2])):(y[m]=t.slice(h),t=t.slice(0,h))):(h=s.exec(t))&&(y[m]=h[1],t=t.slice(0,h.index)),y[m]=y[m]||r&&l[3]&&e[m]||"",l[4]&&(y[m]=y[m].toLowerCase())):t=l(t);n&&(y.query=n(y.query)),r&&e.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==e.pathname)&&(y.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),i=n.length,o=n[i-1],r=!1,a=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),a++):a&&(0===i&&(r=!0),n.splice(i,1),a--);return r&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(y.pathname,e.pathname)),i(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(l=y.auth.split(":"),y.username=l[0]||"",y.password=l[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}f.prototype={set:function(t,e,n){var r=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||o.parse)(e)),r[t]=e;break;case"port":r[t]=e,i(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,/:\d+$/.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";r[t]=e.charAt(0)!==a?a+e:e}else r[t]=e;break;default:r[t]=e}for(var s=0;s<u.length;s++){var c=u[s];c[4]&&(r[c[1]]=r[c[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var r=i+(n.slashes?"//":"");return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(r+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(r+=n.hash),r}},f.extractProtocol=p,f.location=d,f.trimLeft=c,f.qs=o,t.exports=f}).call(this,n("yLpj"))},GC2F:function(t,e,n){var i=n("+M1K");t.exports=function(t,e){var n=i(t);if(n%e)throw RangeError("Wrong offset");return n}},GDhZ:function(t,e,n){var i=n("wF/u"),o=n("mwIZ"),r=n("hgQt"),a=n("9ggG"),s=n("CMye"),c=n("IOzZ"),u=n("9Nap");t.exports=function(t,e){return a(t)&&s(e)?c(u(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?r(n,t):i(e,a,3)}}},GP9e:function(t,e,n){},GSn6:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},GgQP:function(t,e,n){t.exports=n("oxns")("GgQP")},Ggwc:function(t,e,n){},GoyQ:function(t,e,n){t.exports=n("/g0A")("GoyQ")},GxD2:function(t,e,n){t.exports=n("oxns")("GxD2")},HAuM:function(t,e,n){t.exports=n("/g0A")("HAuM")},HDyB:function(t,e,n){var i=n("nmnc"),o=n("JHRd"),r=n("ljhN"),a=n("or5M"),s=n("7fqy"),c=n("rEGp"),u=i?i.prototype:void 0,l=u?u.valueOf:void 0;t.exports=function(t,e,n,i,u,d,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var h=1&i;if(f||(f=c),t.size!=e.size&&!h)return!1;var m=p.get(t);if(m)return m==e;i|=2,p.set(t,e);var g=a(f(t),f(e),i,u,d,p);return p.delete(t),g;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},HH4o:function(t,e,n){t.exports=n("/g0A")("HH4o")},HK8H:function(t,e,n){},HMqp:function(t,e,n){},HMts:function(t,e,n){},Hd5f:function(t,e,n){t.exports=n("/g0A")("Hd5f")},"Hhk/":function(t,e,n){"use strict";t.exports=function(t){var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t=t||10;for(var i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}},I8vh:function(t,e,n){t.exports=n("/g0A")("I8vh")},IBDr:function(t,e,n){},IOzZ:function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},IPst:function(t,e,n){t.exports=n("oxns")("IPst")},IUr4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG").__importDefault(n("yBPy")),o=n("DxeB"),r={toWebp:function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null);var i=t,a=e.isGifOptimation;if(n=r.getCanWebp()&&(n||o.parseUrl(t,a))){var s=n.hasWatermark,c=n.format,u=n.width,l=n.height,d=n.quality,p=n.imgSuffixAndWatermark,f="imageView2/2/w/"+u+"/h/"+l+"/q/"+d+"/format/"+c,h=s?"|":"?";i=""+(i.replace(o.getCdnRegex(),".")+p)+h+encodeURIComponent(f)}else i=o.transQiniuFormatToWebp(i);return i},getCanWebp:function(){var t=!1;try{t="ok"===window.localStorage.getItem("canwebp")}catch(e){return console.log(e),t}return t},checkCanWebp:function(){if("object"==typeof window.localStorage)try{var t=localStorage.getItem("canwebp");if("ok"===t)i.default("_canwebp",{value:"1",path:"/",domain:location.hostname,expires:3650});else if("no"!==t){var e=!(!(n=document.createElement("canvas")).getContext||!n.getContext("2d"))&&0===n.toDataURL("image/webp").indexOf("data:image/webp");localStorage.setItem("canwebp",e?"ok":"no"),e&&i.default("_canwebp",{value:"1",path:"/",domain:location.hostname,expires:3650})}}catch(t){console.log(t)}var n}};r.checkCanWebp(),e.default=r},"IWB/":function(t,e,n){},IZzc:function(t,e,n){"use strict";var i=n("67WC"),o=i.aTypedArray,r=i.exportTypedArrayMethod,a=[].sort;r("sort",(function(t){return a.call(o(this),t)}))},ImZN:function(t,e,n){t.exports=n("/g0A")("ImZN")},Ioao:function(t,e,n){var i=n("heNW"),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=o(r.length-e,0),c=Array(s);++a<s;)c[a]=r[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=r[a];return u[e]=n(c),i(t,this,u)}}},Iotd:function(t,e,n){},J34N:function(t,e,n){"use strict";var i=n("7ikB");n.n(i).a},J7cn:function(t,e,n){},JBy8:function(t,e,n){t.exports=n("/g0A")("JBy8")},JC6p:function(t,e,n){var i=n("cq/+"),o=n("7GkX");t.exports=function(t,e){return t&&i(t,e,o)}},JHRd:function(t,e,n){t.exports=n("/g0A")("JHRd")},JaFt:function(t,e,n){"use strict";var i=n("67WC"),o=n("1Y/n").right,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",(function(t){return o(r(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},JevA:function(t,e,n){var i=n("I+eb"),o=n("wg0c");i({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o})},JiZb:function(t,e,n){t.exports=n("/g0A")("JiZb")},Jjj3:function(t,e,n){t.exports=n("oxns")("Jjj3")},Juji:function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},JytD:function(t,e,n){var i,o=n("rjGc"),r=(i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(t){return!!r&&r in t}},K16X:function(t,e,n){"use strict";var i={QUOTA_LIMIT:0,STOCK_LIMIT:1},o={LIMIT_TYPE:i,UNSELECTED_SKU_VALUE_ID:""},r=n("wx14"),a=function(t){var e={};return t.forEach((function(t){e[t.k_s]=t.v})),e},s=function(t,e){var n=Object.keys(e).filter((function(t){return""!==e[t]}));return t.length===n.length},c=function(t,e){return t.filter((function(t){return Object.keys(e).every((function(n){return String(t[n])===String(e[n])}))}))[0]},u=function(t,e){var n=a(t);return Object.keys(e).reduce((function(t,i){var o=n[i],r=e[i];if(""!==r){var a=o.filter((function(t){return t.id===r}))[0];a&&t.push(a)}return t}),[])},l=function(t,e,n){var i,o=n.key,a=n.valueId,s=Object(r.default)({},e,((i={})[o]=a,i)),c=Object.keys(s).filter((function(t){return""!==s[t]}));return t.filter((function(t){return c.every((function(e){return String(s[e])===String(t[e])}))})).reduce((function(t,e){return t+=e.stock_num}),0)>0},d=function(t,e){var n=function(t){var e={};return t.forEach((function(t){var n={};t.v.forEach((function(t){n[t.id]=t})),e[t.k_id]=n})),e}(t);return Object.keys(e).reduce((function(t,i){return e[i].forEach((function(e){t.push(Object(r.default)({},n[i][e]))})),t}),[])},p=function(t,e){var n=[];return(t||[]).forEach((function(t){if(e[t.k_id]&&e[t.k_id].length>0){var i=[];t.v.forEach((function(n){e[t.k_id].indexOf(n.id)>-1&&i.push(Object(r.default)({},n))})),n.push(Object(r.default)({},t,{v:i}))}})),n},f={normalizeSkuTree:a,getSkuComb:c,getSelectedSkuValues:u,isAllSelected:s,isSkuChoosable:l,getSelectedPropValues:d,getSelectedProperties:p},h=n("Kw5r"),m=n("5B+z"),g=n("05lO"),v=n("KKL4"),y=n("Jjj3"),b=n.n(y),_=n("oUJm"),k=n("ujET"),w=n("sdJj"),S=n("RL95"),C=Object(_.createNamespace)("sku-header"),P=C[0],x=C[1];function O(t,e,n,i){var o,a=e.sku,s=e.goods,c=e.skuEventBus,u=e.selectedSku,l=e.showHeaderImage,d=void 0===l||l,p=function(t,e){var n;return t.tree.some((function(t){var i=e[t.k_s];if(i&&t.v){var o=t.v.filter((function(t){return t.id===i}))[0]||{},a=o.previewImgUrl||o.imgUrl||o.img_url;if(a)return n=Object(r.default)({},o,{ks:t.k_s,imgUrl:a}),!0}return!1})),n}(a,u),f=p?p.imgUrl:s.picture;return t("div",b()([{class:[x(),w.BORDER_BOTTOM]},Object(k.inherit)(i)]),[d&&t(S.default,{attrs:{fit:"cover",src:f},class:x("img-wrap"),on:{click:function(){c.$emit("sku:previewImage",p)}}},[null==(o=n["sku-header-image-extra"])?void 0:o.call(n)]),t("div",{class:x("goods-info")},[null==n.default?void 0:n.default()])])}O.props={sku:Object,goods:Object,skuEventBus:Object,selectedSku:Object,showHeaderImage:Boolean};var T=P(O),I=Object(_.createNamespace)("sku-header-item"),A=I[0],B=I[1];var j=A((function(t,e,n,i){return t("div",b()([{class:B()},Object(k.inherit)(i)]),[n.default&&n.default()])})),D=n("mISK"),E=n("X74q"),L=Object(_.createNamespace)("sku-row"),N=L[0],M=L[1],F=L[2],R=N({mixins:[Object(D.ParentMixin)("vanSkuRows"),Object(E.BindEventMixin)((function(t){this.scrollable&&this.$refs.scroller&&t(this.$refs.scroller,"scroll",this.onScroll)}))],props:{skuRow:Object},data:function(){return{progress:0}},computed:{scrollable:function(){return this.skuRow.largeImageMode&&this.skuRow.v.length>6}},methods:{onScroll:function(){var t=this.$refs,e=t.scroller,n=t.row.offsetWidth-e.offsetWidth;this.progress=e.scrollLeft/n},genTitle:function(){var t=this.$createElement;return t("div",{class:M("title")},[this.skuRow.k,this.skuRow.is_multiple&&t("span",{class:M("title-multiple")},["（",F("multiple"),"）"])])},genIndicator:function(){var t=this.$createElement;if(this.scrollable){var e={transform:"translate3d("+20*this.progress+"px, 0, 0)"};return t("div",{class:M("indicator-wrapper")},[t("div",{class:M("indicator")},[t("div",{class:M("indicator-slider"),style:e})])])}},genContent:function(){var t=this.$createElement,e=this.slots();if(this.skuRow.largeImageMode){var n=[],i=[];return e.forEach((function(t,e){(Math.floor(e/3)%2==0?n:i).push(t)})),t("div",{class:M("scroller"),ref:"scroller"},[t("div",{class:M("row"),ref:"row"},[n]),i.length?t("div",{class:M("row")},[i]):null])}return e},centerItem:function(t){if(this.skuRow.largeImageMode&&t){var e=this.children,n=void 0===e?[]:e,i=this.$refs,o=i.scroller,r=i.row,a=n.find((function(e){return+e.skuValue.id==+t}));if(o&&r&&a&&a.$el){var s=a.$el,c=s.offsetLeft-(o.offsetWidth-s.offsetWidth)/2;o.scrollLeft=c}}}},render:function(){var t=arguments[0];return t("div",{class:[M(),w.BORDER_BOTTOM]},[this.genTitle(),this.genContent(),this.genIndicator()])}}),U=(0,Object(_.createNamespace)("sku-row-item")[0])({mixins:[Object(D.ChildrenMixin)("vanSkuRows")],props:{lazyLoad:Boolean,skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedSku:Object,largeImageMode:Boolean,skuList:{type:Array,default:function(){return[]}}},computed:{imgUrl:function(){var t=this.skuValue.imgUrl||this.skuValue.img_url;return this.largeImageMode?t||"https://img.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png":t},choosable:function(){return l(this.skuList,this.selectedSku,{key:this.skuKeyStr,valueId:this.skuValue.id})}},methods:{onSelect:function(){this.choosable&&this.skuEventBus.$emit("sku:select",Object(r.default)({},this.skuValue,{skuKeyStr:this.skuKeyStr}))},onPreviewImg:function(t){t.stopPropagation();var e=this.skuValue,n=this.skuKeyStr;this.skuEventBus.$emit("sku:previewImage",Object(r.default)({},e,{ks:n,imgUrl:e.imgUrl||e.img_url}))},genImage:function(t){var e=this.$createElement;if(this.imgUrl)return e(S.default,{attrs:{fit:"cover",src:this.imgUrl,lazyLoad:this.lazyLoad},class:t+"-img"})}},render:function(){var t=arguments[0],e=this.skuValue.id===this.selectedSku[this.skuKeyStr],n=this.largeImageMode?M("image-item"):M("item");return t("span",{class:[n,e?n+"--active":"",this.choosable?"":n+"--disabled"],on:{click:this.onSelect}},[this.genImage(n),t("div",{class:n+"-name"},[this.largeImageMode?t("span",{class:{"van-multi-ellipsis--l2":this.largeImageMode}},[this.skuValue.name]):this.skuValue.name]),this.largeImageMode&&t("img",{class:n+"-img-icon",attrs:{src:"https://img.yzcdn.cn/upload_files/2020/07/02/Fu4_ya0l0aAt4Mv4PL9jzPzfZnDX.png"},on:{click:this.onPreviewImg}})])}}),W=(0,Object(_.createNamespace)("sku-row-prop-item")[0])({props:{skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedProp:Object,multiple:Boolean},computed:{choosed:function(){var t=this.selectedProp,e=this.skuKeyStr,n=this.skuValue;return!(!t||!t[e])&&t[e].indexOf(n.id)>-1}},methods:{onSelect:function(){this.skuEventBus.$emit("sku:propSelect",Object(r.default)({},this.skuValue,{skuKeyStr:this.skuKeyStr,multiple:this.multiple}))}},render:function(){var t=arguments[0];return t("span",{class:["van-sku-row__item",{"van-sku-row__item--active":this.choosed}],on:{click:this.onSelect}},[t("span",{class:"van-sku-row__item-name"},[this.skuValue.name])])}}),G=n("IPst"),$=Object(_.createNamespace)("sku-stepper"),q=$[0],H=$[2],V=i.QUOTA_LIMIT,z=i.STOCK_LIMIT,Y=q({props:{stock:Number,skuEventBus:Object,skuStockNum:Number,selectedNum:Number,stepperTitle:String,disableStepperInput:Boolean,customStepperConfig:Object,hideQuotaText:Boolean,quota:{type:Number,default:0},quotaUsed:{type:Number,default:0},startSaleNum:{type:Number,default:1}},data:function(){return{currentNum:this.selectedNum,limitType:z}},watch:{currentNum:function(t){var e=parseInt(t,10);e>=this.stepperMinLimit&&e<=this.stepperLimit&&this.skuEventBus.$emit("sku:numChange",e)},stepperLimit:function(t){t<this.currentNum&&this.stepperMinLimit<=t&&(this.currentNum=t),this.checkState(this.stepperMinLimit,t)},stepperMinLimit:function(t){(t>this.currentNum||t>this.stepperLimit)&&(this.currentNum=t),this.checkState(t,this.stepperLimit)}},computed:{stepperLimit:function(){var t,e=this.quota-this.quotaUsed;return this.quota>0&&e<=this.stock?(t=e<0?0:e,this.limitType=V):(t=this.stock,this.limitType=z),t},stepperMinLimit:function(){return this.startSaleNum<1?1:this.startSaleNum},quotaText:function(){var t=this.customStepperConfig,e=t.quotaText;if(t.hideQuotaText)return"";var n="";if(e)n=e;else{var i=[];this.startSaleNum>1&&i.push(H("quotaStart",this.startSaleNum)),this.quota>0&&i.push(H("quotaLimit",this.quota)),n=i.join(H("comma"))}return n}},created:function(){this.checkState(this.stepperMinLimit,this.stepperLimit)},methods:{setCurrentNum:function(t){this.currentNum=t,this.checkState(this.stepperMinLimit,this.stepperLimit)},onOverLimit:function(t){this.skuEventBus.$emit("sku:overLimit",{action:t,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum})},onChange:function(t){var e=parseInt(t,10),n=this.customStepperConfig.handleStepperChange;n&&n(e),this.$emit("change",e)},checkState:function(t,e){this.currentNum<t||t>e?this.currentNum=t:this.currentNum>e&&(this.currentNum=e),this.skuEventBus.$emit("sku:stepperState",{valid:t<=e,min:t,max:e,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum})}},render:function(){var t=this,e=arguments[0];return e("div",{class:"van-sku-stepper-stock"},[e("div",{class:"van-sku__stepper-title"},[this.stepperTitle||H("num")]),e(G.default,{attrs:{integer:!0,min:this.stepperMinLimit,max:this.stepperLimit,disableInput:this.disableStepperInput},class:"van-sku__stepper",on:{overlimit:this.onOverLimit,change:this.onChange},model:{value:t.currentNum,callback:function(e){t.currentNum=e}}}),!this.hideQuotaText&&this.quotaText&&e("span",{class:"van-sku__stepper-quota"},["(",this.quotaText,")"])])}});function K(t){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)}var Q=n("kMbU"),Z=n("d0T1"),J=n("Vl+Z"),X=n("j4Cs"),tt=Object(_.createNamespace)("sku-img-uploader"),et=tt[0],nt=tt[2],it=et({props:{value:String,uploadImg:Function,maxSize:{type:Number,default:6}},data:function(){return{fileList:[]}},watch:{value:function(t){this.fileList=t?[{url:t,isImage:!0}]:[]}},methods:{afterReadFile:function(t){var e=this;t.status="uploading",t.message=nt("uploading"),this.uploadImg(t.file,t.content).then((function(n){t.status="done",e.$emit("input",n)})).catch((function(){t.status="failed",t.message=nt("fail")}))},onOversize:function(){this.$toast(nt("oversize",this.maxSize))},onDelete:function(){this.$emit("input","")}},render:function(){var t=this,e=arguments[0];return e(X.default,{attrs:{maxCount:1,afterRead:this.afterReadFile,maxSize:1024*this.maxSize*1024},on:{oversize:this.onOversize,delete:this.onDelete},model:{value:t.fileList,callback:function(e){t.fileList=e}}})}}),ot=n("aO3b");var rt=n("SC2N");function at(t,e){return 32-new Date(t,e-1,32).getDate()}var st=n("GxD2"),ct=n("8lM+"),ut=Object(r.default)({},st.pickerProps,{value:null,filter:Function,showToolbar:{type:Boolean,default:!0},formatter:{type:Function,default:function(t,e){return e}},columnsOrder:Array}),lt={data:function(){return{innerValue:this.formatValue(this.value)}},computed:{originColumns:function(){var t=this;return this.ranges.map((function(e){var n=e.type,i=e.range,o=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(i[1]-i[0]+1,(function(t){return Object(ot.padZero)(i[0]+t)}));return t.filter&&(o=t.filter(n,o)),{type:n,values:o}}))},columns:function(){var t=this;return this.originColumns.map((function(e){return{values:e.values.map((function(n){return t.formatter(e.type,n)}))}}))}},watch:{columns:"updateColumnValue",innerValue:function(t){this.$emit("input",t)}},mounted:function(){var t=this;this.updateColumnValue(),this.$nextTick((function(){t.updateInnerValue()}))},methods:{getPicker:function(){return this.$refs.picker},onConfirm:function(){this.$emit("confirm",this.innerValue)},onCancel:function(){this.$emit("cancel")}},render:function(){var t=this,e=arguments[0],n={};return Object.keys(st.pickerProps).forEach((function(e){n[e]=t[e]})),e(ct.default,{ref:"picker",attrs:{columns:this.columns},on:{change:this.onChange,confirm:this.onConfirm,cancel:this.onCancel},props:Object(r.default)({},n)})}},dt=(0,Object(_.createNamespace)("time-picker")[0])({mixins:[lt],props:Object(r.default)({},ut,{minHour:{type:[Number,String],default:0},maxHour:{type:[Number,String],default:23},minMinute:{type:[Number,String],default:0},maxMinute:{type:[Number,String],default:59}}),computed:{ranges:function(){return[{type:"hour",range:[+this.minHour,+this.maxHour]},{type:"minute",range:[+this.minMinute,+this.maxMinute]}]}},watch:{filter:"updateInnerValue",minHour:"updateInnerValue",maxHour:"updateInnerValue",minMinute:"updateInnerValue",maxMinute:"updateInnerValue",value:function(t){(t=this.formatValue(t))!==this.innerValue&&(this.innerValue=t,this.updateColumnValue())}},methods:{formatValue:function(t){t||(t=Object(ot.padZero)(this.minHour)+":"+Object(ot.padZero)(this.minMinute));var e=t.split(":"),n=e[0],i=e[1];return(n=Object(ot.padZero)(Object(rt.range)(n,this.minHour,this.maxHour)))+":"+(i=Object(ot.padZero)(Object(rt.range)(i,this.minMinute,this.maxMinute)))},updateInnerValue:function(){var t=this.getPicker().getIndexes(),e=t[0],n=t[1],i=this.originColumns,o=i[0],r=i[1],a=o.values[e]||o.values[0],s=r.values[n]||r.values[0];this.innerValue=this.formatValue(a+":"+s),this.updateColumnValue()},onChange:function(t){var e=this;this.updateInnerValue(),this.$nextTick((function(){e.$nextTick((function(){e.$emit("change",t)}))}))},updateColumnValue:function(){var t=this,e=this.formatter,n=this.innerValue.split(":"),i=[e("hour",n[0]),e("minute",n[1])];this.$nextTick((function(){t.getPicker().setValues(i)}))}}});function pt(t){return"[object Date]"===Object.prototype.toString.call(t)&&!Object(Q.isNaN)(t.getTime())}var ft=(new Date).getFullYear(),ht=(0,Object(_.createNamespace)("date-picker")[0])({mixins:[lt],props:Object(r.default)({},ut,{type:{type:String,default:"datetime"},minDate:{type:Date,default:function(){return new Date(ft-10,0,1)},validator:pt},maxDate:{type:Date,default:function(){return new Date(ft+10,11,31)},validator:pt}}),watch:{filter:"updateInnerValue",minDate:"updateInnerValue",maxDate:"updateInnerValue",value:function(t){(t=this.formatValue(t)).valueOf()!==this.innerValue.valueOf()&&(this.innerValue=t)}},computed:{ranges:function(){var t=this.getBoundary("max",this.innerValue),e=t.maxYear,n=t.maxDate,i=t.maxMonth,o=t.maxHour,r=t.maxMinute,a=this.getBoundary("min",this.innerValue),s=a.minYear,c=a.minDate,u=[{type:"year",range:[s,e]},{type:"month",range:[a.minMonth,i]},{type:"day",range:[c,n]},{type:"hour",range:[a.minHour,o]},{type:"minute",range:[a.minMinute,r]}];switch(this.type){case"date":u=u.slice(0,3);break;case"year-month":u=u.slice(0,2);break;case"month-day":u=u.slice(1,3);break;case"datehour":u=u.slice(0,4)}if(this.columnsOrder){var l=this.columnsOrder.concat(u.map((function(t){return t.type})));u.sort((function(t,e){return l.indexOf(t.type)-l.indexOf(e.type)}))}return u}},methods:{formatValue:function(t){return pt(t)||(t=this.minDate),t=Math.max(t,this.minDate.getTime()),t=Math.min(t,this.maxDate.getTime()),new Date(t)},getBoundary:function(t,e){var n,i=this[t+"Date"],o=i.getFullYear(),r=1,a=1,s=0,c=0;return"max"===t&&(r=12,a=at(e.getFullYear(),e.getMonth()+1),s=23,c=59),e.getFullYear()===o&&(r=i.getMonth()+1,e.getMonth()+1===r&&(a=i.getDate(),e.getDate()===a&&(s=i.getHours(),e.getHours()===s&&(c=i.getMinutes())))),(n={})[t+"Year"]=o,n[t+"Month"]=r,n[t+"Date"]=a,n[t+"Hour"]=s,n[t+"Minute"]=c,n},updateInnerValue:function(){var t,e,n,i=this,o=this.type,r=this.getPicker().getIndexes(),a=function(t){var e=0;return i.originColumns.forEach((function(n,i){t===n.type&&(e=i)})),function(t){if(!t)return 0;for(;Object(Q.isNaN)(parseInt(t,10));){if(!(t.length>1))return 0;t=t.slice(1)}return parseInt(t,10)}(i.originColumns[e].values[r[e]])};"month-day"===o?(t=this.innerValue.getFullYear(),e=a("month"),n=a("day")):(t=a("year"),e=a("month"),n="year-month"===o?1:a("day"));var s=at(t,e);n=n>s?s:n;var c=0,u=0;"datehour"===o&&(c=a("hour")),"datetime"===o&&(c=a("hour"),u=a("minute"));var l=new Date(t,e-1,n,c,u);this.innerValue=this.formatValue(l)},onChange:function(t){var e=this;this.updateInnerValue(),this.$nextTick((function(){e.$nextTick((function(){e.$emit("change",t)}))}))},updateColumnValue:function(){var t=this,e=this.innerValue,n=this.formatter,i=this.originColumns.map((function(t){switch(t.type){case"year":return n("year",""+e.getFullYear());case"month":return n("month",Object(ot.padZero)(e.getMonth()+1));case"day":return n("day",Object(ot.padZero)(e.getDate()));case"hour":return n("hour",Object(ot.padZero)(e.getHours()));case"minute":return n("minute",Object(ot.padZero)(e.getMinutes()));default:return null}}));this.$nextTick((function(){t.getPicker().setValues(i)}))}}}),mt=Object(_.createNamespace)("datetime-picker"),gt=mt[0],vt=mt[1],yt=gt({props:Object(r.default)({},dt.props,ht.props),methods:{getPicker:function(){return this.$refs.root.getPicker()}},render:function(){var t=arguments[0],e="time"===this.type?dt:ht;return t(e,{ref:"root",class:vt(),props:Object(r.default)({},this.$props),on:Object(r.default)({},this.$listeners)})}}),bt=Object(_.createNamespace)("sku-datetime-field"),_t=bt[0],kt=bt[2],wt=_t({props:{value:String,label:String,required:Boolean,placeholder:String,type:{type:String,default:"date"}},data:function(){return{showDatePicker:!1,currentDate:"time"===this.type?"":new Date,minDate:new Date((new Date).getFullYear()-60,0,1)}},watch:{value:function(t){switch(this.type){case"time":this.currentDate=t;break;case"date":case"datetime":this.currentDate=((e=t)?new Date(e.replace(/-/g,"/")):null)||new Date}var e}},computed:{title:function(){return kt("title."+this.type)}},methods:{onClick:function(){this.showDatePicker=!0},onConfirm:function(t){var e=t;"time"!==this.type&&(e=function(t,e){if(void 0===e&&(e="date"),!t)return"";var n=t.getFullYear(),i=t.getMonth()+1,o=t.getDate(),r=n+"-"+Object(ot.padZero)(i)+"-"+Object(ot.padZero)(o);if("datetime"===e){var a=t.getHours(),s=t.getMinutes();r+=" "+Object(ot.padZero)(a)+":"+Object(ot.padZero)(s)}return r}(t,this.type)),this.$emit("input",e),this.showDatePicker=!1},onCancel:function(){this.showDatePicker=!1},formatter:function(t,e){return""+e+kt("format."+t)}},render:function(){var t=this,e=arguments[0];return e(J.default,{attrs:{readonly:!0,"is-link":!0,center:!0,value:this.value,label:this.label,required:this.required,placeholder:this.placeholder},on:{click:this.onClick}},[e(m.default,{attrs:{round:!0,position:"bottom",getContainer:"body"},slot:"extra",model:{value:t.showDatePicker,callback:function(e){t.showDatePicker=e}}},[e(yt,{attrs:{type:this.type,title:this.title,value:this.currentDate,minDate:this.minDate,formatter:this.formatter},on:{cancel:this.onCancel,confirm:this.onConfirm}})])])}}),St=Object(_.createNamespace)("sku-messages"),Ct=St[0],Pt=St[1],xt=St[2],Ot=Ct({props:{messageConfig:Object,goodsId:[Number,String],messages:{type:Array,default:function(){return[]}}},data:function(){return{messageValues:this.resetMessageValues(this.messages)}},watch:{messages:function(t){this.messageValues=this.resetMessageValues(t)}},methods:{resetMessageValues:function(t){var e=this.messageConfig.initialMessages,n=void 0===e?{}:e;return(t||[]).map((function(t){return{value:n[t.name]||""}}))},getType:function(t){return 1==+t.multiple?"textarea":"id_no"===t.type?"text":t.datetime>0?"datetime":t.type},getMessages:function(){var t={};return this.messageValues.forEach((function(e,n){t["message_"+n]=e.value})),t},getCartMessages:function(){var t=this,e={};return this.messageValues.forEach((function(n,i){var o=t.messages[i];e[o.name]=n.value})),e},getPlaceholder:function(t){var e=1==+t.multiple?"textarea":t.type,n=this.messageConfig.placeholderMap||{};return t.placeholder||n[e]||xt("placeholder."+e)},validateMessages:function(){for(var t=this.messageValues,e=0;e<t.length;e++){var n=t[e].value,i=this.messages[e];if(""===n){if("1"===String(i.required))return xt("image"===i.type?"upload":"fill")+i.name}else{if("tel"===i.type&&!Object(Q.isNumeric)(n))return xt("invalid.tel");if("mobile"===i.type&&!/^\d{6,20}$/.test(n))return xt("invalid.mobile");if("email"===i.type&&!K(n))return xt("invalid.email");if("id_no"===i.type&&(n.length<15||n.length>18))return xt("invalid.id_no")}}},getFormatter:function(t){return function(e){return"mobile"===t.type||"tel"===t.type?e.replace(/[^\d.]/g,""):e}},genMessage:function(t,e){var n=this,i=this.$createElement;return"image"===t.type?i(Z.default,{key:this.goodsId+"-"+e,attrs:{title:t.name,required:"1"===String(t.required),valueClass:Pt("image-cell-value")},class:Pt("image-cell")},[i(it,{attrs:{maxSize:this.messageConfig.uploadMaxSize,uploadImg:this.messageConfig.uploadImg},model:{value:n.messageValues[e].value,callback:function(t){n.$set(n.messageValues[e],"value",t)}}}),i("div",{class:Pt("image-cell-label")},[xt("imageLabel")])]):["date","time"].indexOf(t.type)>-1?i(wt,{attrs:{label:t.name,required:"1"===String(t.required),placeholder:this.getPlaceholder(t),type:this.getType(t)},key:this.goodsId+"-"+e,model:{value:n.messageValues[e].value,callback:function(t){n.$set(n.messageValues[e],"value",t)}}}):i(J.default,{attrs:{maxlength:"200",center:!t.multiple,label:t.name,required:"1"===String(t.required),placeholder:this.getPlaceholder(t),type:this.getType(t),formatter:this.getFormatter(t)},key:this.goodsId+"-"+e,model:{value:n.messageValues[e].value,callback:function(t){n.$set(n.messageValues[e],"value",t)}}})}},render:function(){var t=arguments[0];return t("div",{class:Pt()},[this.messages.map(this.genMessage)])}}),Tt=n("tlDm"),It=Object(_.createNamespace)("sku-actions"),At=It[0],Bt=It[1],jt=It[2];function Dt(t,e,n,i){var o=function(t){return function(){e.skuEventBus.$emit(t)}};return t("div",b()([{class:Bt()},Object(k.inherit)(i)]),[e.showAddCartBtn&&t(Tt.default,{attrs:{size:"large",type:"warning",text:e.addCartText||jt("addCart")},on:{click:o("sku:addCart")}}),t(Tt.default,{attrs:{size:"large",type:"danger",text:e.buyText||jt("buy")},on:{click:o("sku:buy")}})])}Dt.props={buyText:String,addCartText:String,skuEventBus:Object,showAddCartBtn:Boolean};var Et=At(Dt),Lt=Object(_.createNamespace)("sku"),Nt=Lt[0],Mt=Lt[1],Ft=Lt[2],Rt=i.QUOTA_LIMIT,Ut=Nt({props:{sku:Object,goods:Object,value:Boolean,buyText:String,goodsId:[Number,String],priceTag:String,lazyLoad:Boolean,hideStock:Boolean,properties:Array,addCartText:String,stepperTitle:String,getContainer:[String,Function],hideQuotaText:Boolean,hideSelectedText:Boolean,resetStepperOnHide:Boolean,customSkuValidator:Function,disableStepperInput:Boolean,resetSelectedSkuOnHide:Boolean,quota:{type:Number,default:0},quotaUsed:{type:Number,default:0},startSaleNum:{type:Number,default:1},initialSku:{type:Object,default:function(){return{}}},stockThreshold:{type:Number,default:50},showSoldoutSku:{type:Boolean,default:!0},showAddCartBtn:{type:Boolean,default:!0},customStepperConfig:{type:Object,default:function(){return{}}},showHeaderImage:{type:Boolean,default:!0},previewOnClickImage:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},bodyOffsetTop:{type:Number,default:200},messageConfig:{type:Object,default:function(){return{initialMessages:{},placeholderMap:{},uploadImg:function(){return Promise.resolve()},uploadMaxSize:5}}}},data:function(){return{selectedSku:{},selectedProp:{},selectedNum:1,show:this.value}},watch:{show:function(t){this.$emit("input",t),t||(this.$emit("sku-close",{selectedSkuValues:this.selectedSkuValues,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb}),this.resetStepperOnHide&&this.resetStepper(),this.resetSelectedSkuOnHide&&this.resetSelectedSku())},value:function(t){this.show=t},skuTree:"resetSelectedSku",initialSku:function(){this.resetStepper(),this.resetSelectedSku()}},computed:{skuGroupClass:function(){return["van-sku-group-container",{"van-sku-group-container--hide-soldout":!this.showSoldoutSku}]},bodyStyle:function(){if(!this.$isServer)return{maxHeight:window.innerHeight-this.bodyOffsetTop+"px"}},isSkuCombSelected:function(){var t=this;return!(this.hasSku&&!s(this.skuTree,this.selectedSku))&&!this.propList.some((function(e){return(t.selectedProp[e.k_id]||[]).length<1}))},isSkuEmpty:function(){return 0===Object.keys(this.sku).length},hasSku:function(){return!this.sku.none_sku},hasSkuOrAttr:function(){return this.hasSku||this.propList.length>0},selectedSkuComb:function(){var t=null;return this.isSkuCombSelected&&(t=this.hasSku?c(this.sku.list,this.selectedSku):{id:this.sku.collection_id,price:Math.round(100*this.sku.price),stock_num:this.sku.stock_num})&&(t.properties=p(this.propList,this.selectedProp),t.property_price=this.selectedPropValues.reduce((function(t,e){return t+(e.price||0)}),0)),t},selectedSkuValues:function(){return u(this.skuTree,this.selectedSku)},selectedPropValues:function(){return d(this.propList,this.selectedProp)},price:function(){return this.selectedSkuComb?((this.selectedSkuComb.price+this.selectedSkuComb.property_price)/100).toFixed(2):this.sku.price},originPrice:function(){return this.selectedSkuComb&&this.selectedSkuComb.origin_price?((this.selectedSkuComb.origin_price+this.selectedSkuComb.property_price)/100).toFixed(2):this.sku.origin_price},skuTree:function(){return this.sku.tree||[]},propList:function(){return this.properties||[]},imageList:function(){var t=[this.goods.picture];return this.skuTree.length>0&&this.skuTree.forEach((function(e){e.v&&e.v.forEach((function(e){var n=e.previewImgUrl||e.imgUrl||e.img_url;n&&-1===t.indexOf(n)&&t.push(n)}))})),t},stock:function(){var t=this.customStepperConfig.stockNum;return void 0!==t?t:this.selectedSkuComb?this.selectedSkuComb.stock_num:this.sku.stock_num},stockText:function(){var t=this.$createElement,e=this.customStepperConfig.stockFormatter;return e?e(this.stock):[Ft("stock")+" ",t("span",{class:Mt("stock-num",{highlight:this.stock<this.stockThreshold})},[this.stock])," "+Ft("stockUnit")]},selectedText:function(){var t=this;if(this.selectedSkuComb){var e=this.selectedSkuValues.concat(this.selectedPropValues);return Ft("selected")+" "+e.map((function(t){return t.name})).join(" ")}var n=this.skuTree.filter((function(e){return""===t.selectedSku[e.k_s]})).map((function(t){return t.k})),i=this.propList.filter((function(e){return(t.selectedProp[e.k_id]||[]).length<1})).map((function(t){return t.k}));return Ft("select")+" "+n.concat(i).join(" ")}},created:function(){var t=new h.default;this.skuEventBus=t,t.$on("sku:select",this.onSelect),t.$on("sku:propSelect",this.onPropSelect),t.$on("sku:numChange",this.onNumChange),t.$on("sku:previewImage",this.onPreviewImage),t.$on("sku:overLimit",this.onOverLimit),t.$on("sku:stepperState",this.onStepperState),t.$on("sku:addCart",this.onAddCart),t.$on("sku:buy",this.onBuy),this.resetStepper(),this.resetSelectedSku(),this.$emit("after-sku-create",t)},methods:{resetStepper:function(){var t=this.$refs.skuStepper,e=this.initialSku.selectedNum,n=Object(_.isDef)(e)?e:this.startSaleNum;this.stepperError=null,t?t.setCurrentNum(n):this.selectedNum=n},resetSelectedSku:function(){var t=this;this.selectedSku={},this.skuTree.forEach((function(e){t.selectedSku[e.k_s]=""})),this.skuTree.forEach((function(e){var n=e.k_s,i=1===e.v.length?e.v[0].id:t.initialSku[n];i&&l(t.sku.list,t.selectedSku,{key:n,valueId:i})&&(t.selectedSku[n]=i)}));var e=this.selectedSkuValues;e.length>0&&this.$nextTick((function(){t.$emit("sku-selected",{skuValue:e[e.length-1],selectedSku:t.selectedSku,selectedSkuComb:t.selectedSkuComb})})),this.selectedProp={};var n=this.initialSku.selectedProp,i=void 0===n?{}:n;this.propList.forEach((function(e){e.v&&1===e.v.length?t.selectedProp[e.k_id]=[e.v[0].id]:i[e.k_id]&&(t.selectedProp[e.k_id]=i[e.k_id])}));var o=this.selectedPropValues;o.length>0&&this.$emit("sku-prop-selected",{propValue:o[o.length-1],selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb}),this.$emit("sku-reset",{selectedSku:this.selectedSku,selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb}),this.centerInitialSku()},getSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getMessages():{}},getSkuCartMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getCartMessages():{}},validateSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.validateMessages():""},validateSku:function(){if(0===this.selectedNum)return Ft("unavailable");if(this.isSkuCombSelected)return this.validateSkuMessages();if(this.customSkuValidator){var t=this.customSkuValidator(this);if(t)return t}return Ft("selectSku")},onSelect:function(t){var e,n;this.selectedSku=this.selectedSku[t.skuKeyStr]===t.id?Object(r.default)({},this.selectedSku,((e={})[t.skuKeyStr]="",e)):Object(r.default)({},this.selectedSku,((n={})[t.skuKeyStr]=t.id,n)),this.$emit("sku-selected",{skuValue:t,selectedSku:this.selectedSku,selectedSkuComb:this.selectedSkuComb})},onPropSelect:function(t){var e,n=this.selectedProp[t.skuKeyStr]||[],i=n.indexOf(t.id);i>-1?n.splice(i,1):t.multiple?n.push(t.id):n.splice(0,1,t.id),this.selectedProp=Object(r.default)({},this.selectedProp,((e={})[t.skuKeyStr]=n,e)),this.$emit("sku-prop-selected",{propValue:t,selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb})},onNumChange:function(t){this.selectedNum=t},onPreviewImage:function(t){var e=this,n=this.imageList,i=0,o=n[0];t&&t.imgUrl&&(this.imageList.some((function(e,n){return e===t.imgUrl&&(i=n,!0)})),o=t.imgUrl);var a=Object(r.default)({},t,{index:i,imageList:this.imageList,indexImage:o});this.$emit("open-preview",a),this.previewOnClickImage&&Object(v.default)({images:this.imageList,startPosition:i,onClose:function(){e.$emit("close-preview",a)}})},onOverLimit:function(t){var e=t.action,n=t.limitType,i=t.quota,o=t.quotaUsed,r=this.customStepperConfig.handleOverLimit;r?r(t):"minus"===e?this.startSaleNum>1?Object(g.default)(Ft("minusStartTip",this.startSaleNum)):Object(g.default)(Ft("minusTip")):"plus"===e&&(n===Rt?o>0?Object(g.default)(Ft("quotaUsedTip",i,o)):Object(g.default)(Ft("quotaTip",i)):Object(g.default)(Ft("soldout")))},onStepperState:function(t){this.stepperError=t.valid?null:Object(r.default)({},t,{action:"plus"})},onAddCart:function(){this.onBuyOrAddCart("add-cart")},onBuy:function(){this.onBuyOrAddCart("buy-clicked")},onBuyOrAddCart:function(t){if(this.stepperError)return this.onOverLimit(this.stepperError);var e=this.validateSku();e?Object(g.default)(e):this.$emit(t,this.getSkuData())},getSkuData:function(){return{goodsId:this.goodsId,messages:this.getSkuMessages(),selectedNum:this.selectedNum,cartMessages:this.getSkuCartMessages(),selectedSkuComb:this.selectedSkuComb}},onOpened:function(){this.centerInitialSku()},centerInitialSku:function(){var t=this;(this.$refs.skuRows||[]).forEach((function(e){var n=(e.skuRow||{}).k_s;e.centerItem(t.initialSku[n])}))}},render:function(){var t=this,e=arguments[0];if(!this.isSkuEmpty){var n=this.sku,i=this.goods,o=this.price,r=this.lazyLoad,a=this.originPrice,s=this.skuEventBus,c=this.selectedSku,u=this.selectedProp,l=this.selectedNum,d=this.stepperTitle,p=this.selectedSkuComb,f=this.showHeaderImage,h={price:o,originPrice:a,selectedNum:l,skuEventBus:s,selectedSku:c,selectedSkuComb:p},g=function(e){return t.slots(e,h)},v=g("sku-header")||e(T,{attrs:{sku:n,goods:i,skuEventBus:s,selectedSku:c,showHeaderImage:f}},[e("template",{slot:"sku-header-image-extra"},[g("sku-header-image-extra")]),g("sku-header-price")||e("div",{class:"van-sku__goods-price"},[e("span",{class:"van-sku__price-symbol"},["￥"]),e("span",{class:"van-sku__price-num"},[o]),this.priceTag&&e("span",{class:"van-sku__price-tag"},[this.priceTag])]),g("sku-header-origin-price")||a&&e(j,[Ft("originPrice")," ￥",a]),!this.hideStock&&e(j,[e("span",{class:"van-sku__stock"},[this.stockText])]),this.hasSkuOrAttr&&!this.hideSelectedText&&e(j,[this.selectedText]),g("sku-header-extra")]),y=g("sku-group")||this.hasSkuOrAttr&&e("div",{class:this.skuGroupClass},[this.skuTree.map((function(t){return e(R,{attrs:{skuRow:t},ref:"skuRows",refInFor:!0},[t.v.map((function(i){return e(U,{attrs:{skuList:n.list,lazyLoad:r,skuValue:i,skuKeyStr:t.k_s,selectedSku:c,skuEventBus:s,largeImageMode:t.largeImageMode}})}))])})),this.propList.map((function(t){return e(R,{attrs:{skuRow:t}},[t.v.map((function(n){return e(W,{attrs:{skuValue:n,skuKeyStr:t.k_id+"",selectedProp:u,skuEventBus:s,multiple:t.is_multiple}})}))])}))]),b=g("sku-stepper")||e(Y,{ref:"skuStepper",attrs:{stock:this.stock,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum,skuEventBus:s,selectedNum:l,stepperTitle:d,skuStockNum:n.stock_num,disableStepperInput:this.disableStepperInput,customStepperConfig:this.customStepperConfig,hideQuotaText:this.hideQuotaText},on:{change:function(e){t.$emit("stepper-change",e)}}}),_=g("sku-messages")||e(Ot,{ref:"skuMessages",attrs:{goodsId:this.goodsId,messageConfig:this.messageConfig,messages:n.messages}}),k=g("sku-actions")||e(Et,{attrs:{buyText:this.buyText,skuEventBus:s,addCartText:this.addCartText,showAddCartBtn:this.showAddCartBtn}});return e(m.default,{attrs:{round:!0,closeable:!0,position:"bottom",getContainer:this.getContainer,closeOnClickOverlay:this.closeOnClickOverlay,safeAreaInsetBottom:this.safeAreaInsetBottom},class:"van-sku-container",on:{opened:this.onOpened},model:{value:t.show,callback:function(e){t.show=e}}},[v,e("div",{class:"van-sku-body",style:this.bodyStyle},[g("sku-body-top"),y,g("extra-sku-group"),b,_]),g("sku-actions-top"),k])}}});n("PGno").default.add({"zh-CN":{vanSku:{select:"请选择",selected:"已选",selectSku:"请先选择商品规格",soldout:"库存不足",originPrice:"原价",minusTip:"至少选择一件",minusStartTip:function(t){return t+"件起售"},unavailable:"商品已经无法购买啦",stock:"剩余",stockUnit:"件",quotaTip:function(t){return"每人限购"+t+"件"},quotaUsedTip:function(t,e){return"每人限购"+t+"件，你已购买"+e+"件"}},vanSkuActions:{buy:"立即购买",addCart:"加入购物车"},vanSkuImgUploader:{oversize:function(t){return"最大可上传图片为"+t+"MB，请尝试压缩图片尺寸"},fail:"上传失败",uploading:"上传中..."},vanSkuStepper:{quotaLimit:function(t){return"限购"+t+"件"},quotaStart:function(t){return t+"件起售"},comma:"，",num:"购买数量"},vanSkuMessages:{fill:"请填写",upload:"请上传",imageLabel:"仅限一张",invalid:{tel:"请填写正确的数字格式留言",mobile:"手机号长度为6-20位数字",email:"请填写正确的邮箱",id_no:"请填写正确的身份证号码"},placeholder:{id_no:"请填写身份证号",text:"请填写留言",tel:"请填写数字",email:"请填写邮箱",date:"请选择日期",time:"请选择时间",textarea:"请填写留言",mobile:"请填写手机号"}},vanSkuRow:{multiple:"可多选"},vanSkuDatetimeField:{title:{date:"选择年月日",time:"选择时间",datetime:"选择日期时间"},format:{year:"年",month:"月",day:"日",hour:"时",minute:"分"}}}}),Ut.SkuActions=Et,Ut.SkuHeader=T,Ut.SkuHeaderItem=j,Ut.SkuMessages=Ot,Ut.SkuStepper=Y,Ut.SkuRow=R,Ut.SkuRowItem=U,Ut.SkuRowPropItem=W,Ut.skuHelper=f,Ut.skuConstants=o;e.a=Ut},K7G7:function(t,e,n){t.exports=n("oxns")("K7G7")},K90D:function(t,e,n){t.exports=n("oxns")("K90D")},KKL4:function(t,e,n){t.exports=n("oxns")("KKL4")},KVSy:function(t,e,n){"use strict";var i=n("67WC"),o=n("SEBh"),r=n("0Dky"),a=i.aTypedArray,s=i.aTypedArrayConstructor,c=i.exportTypedArrayMethod,u=[].slice;c("slice",(function(t,e){for(var n=u.call(a(this),t,e),i=o(this,this.constructor),r=0,c=n.length,l=new(s(i))(c);c>r;)l[r]=n[r++];return l}),r((function(){new Int8Array(1).slice()})))},KYsz:function(t,e,n){t.exports=n("/g0A")("KYsz")},KZT4:function(t,e,n){t.exports=n("oxns")("KZT4")},Kz5y:function(t,e,n){t.exports=n("/g0A")("Kz5y")},L2JU:function(t,e,n){t.exports=n("ZnM6")("L2JU")},L2gG:function(t,e,n){"use strict";var i=n("zbIG");n.n(i).a},L6qJ:function(t,e,n){"use strict";var i=n("2bMS");n.n(i).a},LAZN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),o=i.__importDefault(n("kJUz")),r=i.__importDefault(n("Kw5r"));window.vue||(window.vue=r.default);e.default=function(t,e){return o.default(t,e)}},LK4Q:function(t,e,n){t.exports=n("/g0A")("LK4Q")},LL2K:function(t,e,n){t.exports=n("oxns")("LL2K")},LZ3t:function(t,e,n){},LcsW:function(t,e,n){t.exports=n("/g0A")("LcsW")},LfHa:function(t,e){},"Lh/N":function(t,e,n){},LsHQ:function(t,e,n){var i=n("EA7m"),o=n("mv/X");t.exports=function(t){return i((function(e,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(r--,a):void 0,s&&o(n[0],n[1],s)&&(a=r<3?void 0:a,r=1),e=Object(e);++i<r;){var c=n[i];c&&t(e,c,i,a)}return e}))}},"M0c+":function(t,e,n){"use strict";var i=n("wx14"),o=n("D+nY"),r=(n("07d7"),n("5s+n"),n("klMz")),a=n.n(r);var s={transformRequest:function(t){return t.xhrFields&&t.xhrFields.withCredentials&&(t.withCredentials=!0,delete t.xhrFields),t}};function c(t,e){var n=function(t,e){return"string"==typeof t?((e=e||{}).url=t,e):t}(t,e),i=a()(n,s);return void 0===n.timeout&&(n.timeout=3e4),i.then((function(t){return t.data}),(function(t){var e=t.response;if(e&&e.data)return Promise.reject(e.data);var n=t.message||"网络请求错误";return Promise.reject({msg:n,code:99999})}))}c.CancelToken=a.a.CancelToken;var u=c,l={requestPayWithPayWay:function(t,e,n){return u({url:t,method:"POST",data:{payDataJson:e,payTool:n.payChannel,value_card_no:n.value_card_no,password:n.password||""}}).then((function(t){return 0!==t.code?Promise.reject(t):t.data}))},requestPay:function(t,e){return u({method:"POST",data:e,url:this.payRequestUrl}).then((function(t){return 0!==t.code?Promise.reject(t):t.data}))},requestCashier:function(t,e){return u({method:"POST",data:e,url:t}).then((function(t){return 0!==t.code?Promise.reject(t):t.data}))},requestQrcodePay:function(t,e){return u({url:t,method:"POST",data:e}).then((function(t){return 0!==t.code?Promise.reject(t):(t.data||{}).content||""}))},requestPayStatus:function(t,e){return u({url:t,method:"POST",data:e}).then((function(t){return 0!==t.code?Promise.reject(t):(t.data||{}).status||""}))}},d=function(){function t(t){this.account=t.account||"",this.cashierRequestUrl=t.cashierRequestUrl,this.payRequestUrl=t.payRequestUrl,this.qrcodeRequestUrl=t.qrcodeRequestUrl,this.payStatusUrl=t.payStatusUrl,this.requestPayWithPayWay=t.requestPayWithPayWay||l.requestPayWithPayWay,this.requestPay=t.requestPay||l.requestPay,this.requestCashier=t.requestCashier||l.requestCashier,this.requestQrcodePay=t.requestQrcodePay||l.requestQrcodePay,this.requestPayStatus=t.requestPayStatus||l.requestPayStatus,this.fail=t.fail,this._isOrderCreated=!1,this._isPayProcessing=!1,this._cashierNo="",this._payWays={},this._payReturnedData={},this._cashierData={},this._payData={}}var e=t.prototype;return e.getCashierNo=function(){return this.isOrderCreated||console.warn("收单未生成"),this._cashierNo},e.getPayWays=function(){return this.isOrderCreated||console.warn("收单未生成"),this._payWays},e.getPayReturnedData=function(){return this.isPayProcessed||console.warn("收单未生成"),this._payReturnedData},e.isOrderCreated=function(){return this._isOrderCreated},e.getQrcodePay=function(t){var e=this;if(this._isPayProcessing)return this.fail(new o.e("支付进行中"));if(!this._isOrderCreated)return this.fail(new o.e("收单未生成"));var n={acquireNo:this._cashierNo};Object(i.default)(n,{prepay_id:this._cashierData.prepay_id,cashier_salt:this._cashierData.cashier_salt,cashier_sign:this._cashierData.cashier_sign,partner_id:this._cashierData.partner_id}),this.requestQrcodePay(this.qrcodeRequestUrl,n).then((function(e){t(e)})).catch((function(t){e.fail(new o.a(t))}))},e.getPayStatus=function(t){var e=this;if(this._isPayProcessing)return this.fail(new o.e("支付进行中"));if(!this._isOrderCreated)return this.fail(new o.e("收单未生成"));var n={acquireNo:this._cashierNo};Object(i.default)(n,{prepay_id:this._cashierData.prepay_id,cashier_salt:this._cashierData.cashier_salt,cashier_sign:this._cashierData.cashier_sign,partner_id:this._cashierData.partner_id}),this.requestPayStatus(this.payStatusUrl,n).then((function(e){t(e)})).catch((function(t){e.fail(new o.a(t))}))},e.createCashierOrder=function(t,e){var n=this;if(this._isOrderCreated)return console.warn("收单已生成");this._cashierData=t,this.requestCashier(this.cashierRequestUrl,t).then((function(t){if(n._cashierNo=t.unifiedAquireOrder,n._payWays=t.payChannels||t.pay_channels,!n._payWays)return n.fail(new o.e("无可用支付方式"));n._isOrderCreated=!0,"function"==typeof e&&e(t)})).catch((function(t){n.fail(new o.a(t))}))},e.doPayAction=function(t,e){var n=this;if(this._isPayProcessing)return this.fail(new o.e("支付进行中"));if(!this._isOrderCreated)return this.fail(new o.e("收单未生成"));this._isPayProcessing=!0;var r={payDataJson:this._cashierData,payTool:t.payWay.pay_channel,acquireNo:this._cashierNo,password:t.password||"",accept_price:t.accept_price||0,new_price:void 0!==t.new_price&&null!==t.new_price&&""!==t.new_price?t.new_price:-1,value_card_no:t.payWay.value_card_no};Object(i.default)(r,{prepay_id:this._cashierData.prepay_id,cashier_salt:this._cashierData.cashier_salt,cashier_sign:this._cashierData.cashier_sign,pay_token:t.password,partner_id:this._cashierData.partner_id,pay_tool:t.payWay.pay_channel,node_extra:t.nodeExtra,out_biz_ctx:t.outBizCtx}),this.requestPay(this.payRequestUrl,r).then((function(t){n._isPayProcessing=!1,t.adjust_price?n.fail(new o.a({code:400101,msg:"adjust price",data:t})):(n._payData=t,e(t))})).catch((function(t){n._isPayProcessing=!1,n.fail(new o.a(t))}))},e.doPayWithPayWay=function(t,e,n){var i=this;this.requestPayWithPayWay(this.payRequestUrl,t,e,this.fail).then((function(t){"function"==typeof n&&n(t)})).catch((function(t){i.fail(new o.a(t))}))},e.getIsPaying=function(){return this._isPayProcessing},t}(),p=(n("QWBl"),n("tkto"),n("rB9j"),n("UxlC"),n("FZtP"),n("5+UC"),n("05lO")),f=n("B8Bf"),h=n.n(f),m=n("mFPD"),g=!1,v=0;function y(t,e){"object"==typeof window.WeixinJSBridge&&"function"==typeof window.WeixinJSBridge.invoke?t():function(t,e,n){void 0===n&&(n=1e4),g||(g=!0,Object(p.default)({type:"loading",duration:n,forbidClick:!0}),document.addEventListener("WeixinJSBridgeReady",(function(){g&&(t(),clearTimeout(v),p.default.clear(),g=!1)}),!1),v=setTimeout((function(){p.default.clear(),g=!1,e()}),n))}(t,e)}var b=function(){function t(t){this.fail=t.fail||function(){},this.paying=!1}var e=t.prototype;return e.doWeixinPay=function(t){return this._handleWxPay(t)},e.doWeixinH5Pay=function(t){return this._handleWxH5Pay(t)},e.doWeixinAppPay=function(t){return this._handleWxAppPay(t)},e.doAliPay=function(t){return this._startDefaultPay(t)},e.doCODPay=function(t){return this._sendSuccessMessage(t)},e.doPeerPay=function(t){return this._startDefaultPay(t)},e.doECardPay=function(t){return this._sendSuccessMessage(t)},e.doGiftCardPay=function(t){return this._sendSuccessMessage(t)},e.doPrepaidPay=function(t){return this._sendSuccessMessage(t)},e.doQrcodePay=function(t){return this._sendSuccessMessage(t)},e.doDefaultPay=function(t){return this._startDefaultPay(t)},e._startDefaultPay=function(t){if(this.paying)return console.warn("Pay processing...");this.paying=!0;var e=Object(i.default)({},t.pay_data),n=(e.submit_method||"POST").toUpperCase(),o=e.submit_url||"",r=e.submit_data||{};if("GET"===n)return location.href=h.a.add(o,r),void(this.paying=!1);var a=document.createElement("form");a.method=n,a.action=o,a.style.display="none";var s="";delete e.submit_method,delete e.submit_url,Object.keys(r).forEach((function(t){s+='<input type="hidden" name="'+t+'" value="'+r[t]+'" />'})),a.innerHTML=s,document.body.appendChild(a),a.submit(),this.paying=!1},e._handleWxPay=function(t){var e=this;if(this.paying)return console.warn("Pay processing");this.paying=!0,"string"==typeof t.pay_data&&(t.pay_data=JSON.parse(t.pay_data)),y((function(){window.WeixinJSBridge.invoke("getBrandWCPayRequest",t.pay_data,(function(n){switch(e.paying=!1,n.err_msg){case"get_brand_wcpay_request:ok":Object(p.default)({type:"text",message:"支付成功，处理中...",duration:0}),e._sendSuccessMessage(t);break;case"get_brand_wcpay_request:cancel":break;default:e.fail(new o.d(n,t))}}))}),(function(){Object(p.default)("微信支付初始化失败，请稍后再试"),e.paying=!1,e.fail(new o.c({msg:"微信支付初始化失败"}))}))},e._sendSuccessMessage=function(t){t.pay_return_url?u({method:"GET",url:t.pay_return_url,data:t.pay_return_data}).then((function(){window.location.replace(t.redirect_url)})).catch((function(){window.location.replace(t.redirect_url)})):window.location.replace(t.redirect_url)},e._handleWxH5Pay=function(t){window.location.href=t.pay_data.awake_pay_url},e._handleWxAppPay=function(t){var e=this,n=t.pay_data,i=void 0===n?{}:n,r={action:"wx_app_pay",partnerId:i.partner_id,prepayId:i.prepay_id,nonceStr:i.nonce_str,timeStamp:i.time_stamp,sign:i.pay_sign};try{m.action.doCall("doAction",r,(function(n){if(n)switch(n.code){case 0:e._sendSuccessMessage(t);break;case 1:e.fail(new o.b({msg:-2===n.retCode?"取消支付":"系统异常，支付失败"}));break;case 2:e.fail(new o.b({msg:n.msg||"调用客户端支付失败",retry:!0}));break;case 3:window.location.reload()}}))}catch(t){this.fail(new o.b({msg:"调用客户端支付失败",retry:!0}))}},t}(),_=function(){function t(t){void 0===t&&(t={}),this.cashierOrderManager=new d(t),this.thirdPartyManager=new b(t),this.lastPayData={}}var e=t.prototype;return e.getCashierNo=function(){return this.cashierOrderManager.getCashierNo()},e.getPayWays=function(){return this.cashierOrderManager.getPayWays()},e.createCashierOrder=function(t,e){return this.cashierOrderManager.createCashierOrder(t,e)},e.getQrcodePay=function(t){this.cashierOrderManager.getQrcodePay((function(e){"function"==typeof t&&t(e)}))},e.validQrcodePay=function(t,e){var n=this;this.cashierOrderManager.getPayStatus((function(i){"function"==typeof e&&e(i),t&&"success"===i&&n.thirdPartyManager.doQrcodePay(n.lastPayData)}))},e.getPayStatus=function(t){this.cashierOrderManager.getPayStatus((function(e){"function"==typeof t&&t(e)}))},e.doPayAction=function(t,e){var n=this;void 0===t&&(t={}),this.cashierOrderManager.doPayAction(t,(function(i){n.lastPayData=i||{},"function"==typeof e&&e(i),n.doPayWithChannel(t.payWay.pay_channel,i)}))},e.doPayWithPayWay=function(t,e,n){var i=this;void 0===t&&(t={}),void 0===e&&(e={}),this.cashierOrderManager.doPayWithPayWay(t,e,(function(t){i.lastPayData=t||{},"function"==typeof n&&n(t),i.doPayWithChannel(e.payChannel,t)}))},e.doPayActionAllowCancel=function(t,e){var n=this;void 0===t&&(t={}),this.cashierOrderManager.doPayAction(t,(function(i){n.lastPayData=i||{};var o=!0;if("function"==typeof e)try{o=e(i)}catch(t){console.error(t),o=!1}o&&n.doPayWithChannel(t.payWay.pay_channel,i)}))},e.isOrderCreated=function(){return this.cashierOrderManager.isOrderCreated()},e.isPaying=function(){return this.cashierOrderManager.getIsPaying()},e.doWeixinPay=function(t){return void 0===t&&(t={}),this.thirdPartyManager.doWeixinPay(t)},e.doWeixinH5Pay=function(t){return void 0===t&&(t={}),this.thirdPartyManager.doWeixinH5Pay(t)},e.doWeixinAppPay=function(t){return void 0===t&&(t={}),this.thirdPartyManager.doWeixinAppPay(t)},e.doAliPay=function(t){return void 0===t&&(t={}),this.thirdPartyManager.doAliPay(t)},e.doECardPay=function(t){return void 0===t&&(t={}),this.thirdPartyManager.doECardPay(t)},e.doGiftCardPay=function(t){return void 0===t&&(t={}),this.thirdPartyManager.doGiftCardPay(t)},e.doCODPay=function(t){return void 0===t&&(t={}),this.thirdPartyManager.doCODPay(t)},e.doPeerPay=function(t){return void 0===t&&(t={}),this.thirdPartyManager.doPeerpay(t)},e.doPrepaidPay=function(t){return void 0===t&&(t={}),this.thirdPartyManager.doPrepaidPay(t)},e.doPayWithChannel=function(t,e){switch(t){case"WX_JS":this.doWeixinPay(e);break;case"WX_H5":this.doWeixinH5Pay(e);break;case"WX_APP":this.doWeixinAppPay(e);break;case"ECARD":this.doECardPay(e);break;case"PREPAID_PAY":case"VALUE_CARD":this.doPrepaidPay(e);break;case"GIFT_CARD":case"ENCHASHMENT_GIFT_CARD":this.doGiftCardPay(e);break;case"CASH_ON_DELIVERY":this.doCODPay(e);break;default:this.thirdPartyManager.doDefaultPay(e)}},t}();e.a=_},MAVt:function(t,e,n){"use strict";var i=n("w/AA");n.n(i).a},MJIl:function(t,e,n){var i=n("QoRX"),o=n("ut/Y"),r=n("Nh2a"),a=n("Z0cm"),s=n("mv/X");t.exports=function(t,e,n){var c=a(t)?i:r;return n&&s(t,e,n)&&(e=void 0),c(t,o(e,3))}},"Mfd/":function(t,e,n){},MoCz:function(t,e,n){"use strict";var i=n("67WC"),o=n("5Yz+"),r=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",(function(t){return o.apply(r(this),arguments)}))},MrPd:function(t,e,n){t.exports=n("/g0A")("MrPd")},MuCV:function(t,e,n){var i=n("N6G3");t.exports=function(t){var e=i(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},MwdI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=function(t,e){var n=i[t]=i[t]||[];e="function"==typeof e?e.call(null):e,n.push(e)},e.invokeHook=o,e.askHook=r,e.default=void 0;var i={};function o(t,e,n,o){void 0===o&&(o={});var r=i[t];return r&&Array.isArray(r)?r.reduce((function(t,n){return n[e]&&"function"==typeof n[e]?(o.hasHook=!0,n[e].call(null,t)):t}),n):n}function r(t,e,n){var i={},r=o(t,e,n,i);return!!i.hasHook&&!!r}var a={askHook:r,invokeHook:o};e.default=a},N0PS:function(t,e,n){t.exports=n("oxns")("N0PS")},N6G3:function(t,e,n){var i=n("bV0N");function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=t.apply(this,i);return n.cache=r.set(o,a)||r,a};return n.cache=new(o.Cache||i),n}o.Cache=i,t.exports=o},NBAS:function(t,e,n){var i=n("I+eb"),o=n("0Dky"),r=n("ewvW"),a=n("4WOD"),s=n("4Xet");i({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(r(t))}})},NOlr:function(t,e,n){t.exports=n("oxns")("NOlr")},Nh2a:function(t,e,n){var i=n("SKAX");t.exports=function(t,e){var n;return i(t,(function(t,i,o){return!(n=e(t,i,o))})),!!n}},"O/Ss":function(t,e,n){var i=n("YH26"),o=n("QUAq");t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==i(t)}},O0LY:function(t,e,n){},O0oS:function(t,e,n){t.exports=n("/g0A")("O0oS")},O7RO:function(t,e,n){var i=n("CMye"),o=n("7GkX");t.exports=function(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}},O8Eq:function(t,e,n){"use strict";var i=n("Ggwc");n.n(i).a},OBge:function(t,e,n){t.exports=n("/g0A")("OBge")},OZSc:function(t,e,n){var i=n("YH26"),o=n("8a44");t.exports=function(t){if(!o(t))return!1;var e=i(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},Onu3:function(t,e,n){"use strict";var i=n("67WC"),o=n("tycR").findIndex,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",(function(t){return o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},OuTl:function(t,e,n){},P6TM:function(t,e,n){},P8wP:function(t,e,n){"use strict";var i=n("67WC"),o=n("tycR").map,r=n("SEBh"),a=i.aTypedArray,s=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("map",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(r(t,t.constructor)))(e)}))}))},PDIE:function(t,e,n){t.exports=n("oxns")("PDIE")},PF2M:function(t,e,n){"use strict";var i=n("67WC"),o=n("UMSQ"),r=n("GC2F"),a=n("ewvW"),s=n("0Dky"),c=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",(function(t){c(this);var e=r(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=a(t),s=o(i.length),u=0;if(s+e>n)throw RangeError("Wrong length");for(;u<s;)this[e+u]=i[u++]}),s((function(){new Int8Array(1).set({})})))},PGno:function(t,e,n){t.exports=n("oxns")("PGno")},PHJE:function(t,e,n){var i=n("ViXs"),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},PeFp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG").__importDefault(n("RMHJ"));t.exports=function(t){var e=(t=t||new Date).getMonth()+1;e=i.default(e);var n=t.getDate();return n=i.default(n),t.getFullYear()+"-"+e+"-"+n}},PltG:function(t,e,n){"use strict";var i=n("uuaZ");n.n(i).a},"Q+db":function(t,e,n){"use strict";var i=n("V3nW");e.a=function(t,e,n){return void 0===t&&(t=[]),void 0===e&&(e=[]),Object(i.initComponentList)({url:"/wscgoods/getSharedComponentsJson.json",components:t,pureComponents:e,extraData:n||{},pageQuery:n},{useObjResult:!0})}},Q1l4:function(t,e,n){t.exports=n("/g0A")("Q1l4")},QFaU:function(t,e,n){t.exports=n("oxns")("QFaU")},QIyF:function(t,e,n){var i=n("Kz5y");t.exports=function(){return i.Date.now()}},QUAq:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},QX6E:function(t,e,n){t.exports=n("oxns")("QX6E")},QXJu:function(t,e,n){},Qeha:function(t,e,n){},QkVN:function(t,e,n){var i=n("+Qka"),o=n("LsHQ")((function(t,e,n){i(t,e,n)}));t.exports=o},Qo9l:function(t,e,n){t.exports=n("/g0A")("Qo9l")},QoRX:function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},QumR:function(t,e,n){"use strict";n("ma9I"),n("QWBl"),n("yXV3"),n("2B1R"),n("E9XD"),n("+2oP"),n("zKZe"),n("07d7"),n("5s+n"),n("FZtP");var i=n("KaBt"),o=n("+6Oo"),r=n.n(o),a=n("f4ya"),s=n.n(a),c=n("xkGU"),u=n.n(c),l=n("6ajc"),d=n.n(l),p=n("qnkP"),f=n.n(p),h=n("DIQr"),m=n("pdpW"),g=n("F+bm"),v=n.n(g),y=s.a.get("from"),b=window._global.kdt_id,_=["降价拍","团购返现","多人拼团","周期购","定金膨胀","阶梯拼团"],k={},w={};function S(t,e){void 0===e&&(e=!0);var n,i=t.goodsId,o=t.selectedNum,a=t.selectedSkuComb,s=t.messages,c=t.postage,l=void 0===c?0:c,p=t.activityAlias,f=void 0===p?"":p,h=t.activityId,m=void 0===h?0:h,g=t.activityType,v=void 0===g?0:g,_=t.orderFrom,k=void 0===_?"":_,w=t.gdtId,S=void 0===w?"":w,C=t.goodsFeed,P=Object.assign({goods_id:i,sku_id:a.id,price:a.price,num:o,dc_ps:r()("dc_ps")||"",propertyIds:(n=a,d()(n.properties||[],(function(t){return(t.v||[]).map((function(t){return t.id}))})))},s);e&&(P.propertyIds=JSON.stringify(P.propertyIds));var x={postage:l,activity_alias:f,activity_id:m,activity_type:v,kdt_id:b,use_wxpay:_global.wxpay_env?1:0,order_from:k,store_id:_global.offlineId||0};return y&&(x.from=y),S&&(P.gdt_id=S),{goodsData:P,commonData:x,allFeedList:function(t,e){var n=[];return u()(t,(function(t){u()(t,(function(t){delete t.title,delete t.alias,t.num=e.num,t.activity_alias="",t.activity_id="0",t.activity_type="0",t.ext=JSON.stringify({ingredient_parent_goods_id:e.goods_id,ingredient_parent_sku_id:e.sku_id}),n.push(t)}))})),n}(C,P)}}e.a={getGoodsActivity:function(t){var e=t.kdtId,n=t.goodsId;return w.hasOwnProperty(n)?Promise.resolve(w[n]):Object(i.a)({url:"/wscshop/ump/activityInfo/activity.json",errorMsg:"获取商品数据失败，请重试",data:{kdt_id:e,goods_id:n}}).then((function(t){for(var e=!1,i=0;i<_.length;i++)if(-1!==t.indexOf(_[i])){e=!0;break}return w[n]=e,e}))},getGoodsSku:function(t){return Object(i.a)({url:"/v2/showcase/sku/skudata.json",errorMsg:"获取商品规格数据失败，请重试",data:{alias:t}}).then((function(e){try{e=function(t){var e=t.list,n=t.goods_preference,i=t.price,o=t.item_sale_prop_list||[],r=e.slice(),a=i,s=!1,c="";return n&&n.length&&n.forEach((function(t){if("customerDiscount"===t.type){var e=t.activity,n=e.skus,i=e.min,o=e.max,u=n.reduce((function(t,e){var n=e.id,i=e.discountPrice,o=e.priceTitle;return c||(c=o),t[n]={discountPrice:i},t}),{});a=i===o?""+Object(h.a)(i):Object(h.a)(i)+" - "+Object(h.a)(o),r.forEach((function(t){var e=u[t.id].discountPrice;t.price=e})),s=!0}})),o.length&&(s=!0),Object.assign({},t,{price:a,list:r,activityTitle:c,showActivityPrice:s,itemSalePropList:o})}(e)}catch(t){console.log(t)}return k[t]=e,e}))},getGoodsSkuV2:function(t,e){return Object(i.a)({url:"/wscshop/sku/skudata.json",errorMsg:"获取商品规格数据失败，请重试",data:{alias:t,goodsId:e,offlineId:Object(h.b)(window,"_global.offlineId",0),v:2}}).catch((function(t){return console.log(t),!1})).then((function(e){try{k[t]=e}catch(t){console.log(t)}return e}))},addWish:function(t){return Object(i.a)({url:"/v2/trade/wish/add.json?kdt_id="+b,type:"POST",errorMsg:"心愿添加失败",data:t})},deleteWish:function(t){return Object(i.a)({url:"/v2/trade/wish/list.json?kdt_id="+b,type:"DELETE",errorMsg:"心愿删除失败",data:{goods_id:t}})},addToCart:function(t){return t.allFeedList&&t.allFeedList.length>0?this.batchAddToCart(t):Object(i.a)({url:"/wscshop/trade/cart/goods.json",type:"POST",errorMsg:"添加购物车失败，请重试",data:t})},batchAddToCart:function(t){var e={items:[].concat(t.allFeedList).concat([Object.assign({},t.goodsData,t.commonData)])};return e.items.forEach((function(t){t.activity_id=+t.activity_id,t.activity_type+="",t.propertyIds&&(t.propertyIds=JSON.parse(t.propertyIds)),t.skuId=t.sku_id})),Object(i.a)({url:"/wsctrade/cart/batchAddGoods.json",type:"POST",contentType:"application/json",errorMsg:"添加购物车失败，请重试",data:e})},goToBuy:function(t){return Object(i.a)({url:"/v2/trade/common/cache.json",method:"POST",errorMsg:"购买失败，请重试",data:t})},getAddCartData:function(t){var e=t.cartMessages,n=S(t),i=n.goodsData,o=n.commonData,r=[];for(var a in e)r.push(e[a]);return Object.assign({},i,o,{messages:JSON.stringify(r)})},getBatchAddCartData:function(t){var e=S(t);return{goodsData:e.goodsData,commonData:e.commonData,allFeedList:e.allFeedList}},getBuyData:function(t){var e=S(t,!1),n=e.goodsData,i=e.commonData,o=e.allFeedList;return{goodsList:JSON.stringify([n].concat(o)),common:JSON.stringify(i)}},makeAddCartLog:function(t){if(window.yzlogInstance){var e=window.yzlogInstance.getGlobal(),n=Object.assign({},Object(h.b)(e,"context"),Object(h.b)(e,"plat"),{uuid:Object(h.b)(e,"user.uuid"),platform:"h5",biz:"wsc",client:Object(h.d)(["micromessenger","youzan","kdtunion"])});t.biz_trace_point_ext=JSON.stringify(Object.assign({},n,{dc_ps:t.dc_ps||n.dc_ps,qr:t.qr||n.qr},Object(m.a)()))}window.yzlogInstance&&window.yzlogInstance.log({et:"click",ei:"add_cart",en:"添加购物车"})},syncCartChecked:function(t){var e=JSON.parse(f.a.getItem("current-chosen")||"[]"),n=window._global.kdt_id+"-"+t.goodsId+"-"+t.selectedSkuComb.id;-1===e.indexOf(n)&&e.push(n),f.a.setItem("current-chosen",JSON.stringify(e))},getPrice:function(t){return(t=v()(t)).itemSalePropList=JSON.stringify(t.itemSalePropList),Object(i.a)({url:"/wscgoods/detail-api/calculate-price.json",method:"POST",contentType:"application/json",errorMsg:"计算属性价格失败",data:Object.assign({},t,{kdtId:b})})}}},Qz6D:function(t,e,n){},RA0T:function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},RCjy:function(t,e,n){var i=n("r7m1"),o=n("iIA+");t.exports=function(t,e){var n=o(t,e);return i(n)?n:void 0}},RFmq:function(t,e,n){},RHh3:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("s4An");function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function r(t,e,n){return(r=o()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&Object(i.a)(r,n.prototype),r}).apply(null,arguments)}},RKTd:function(t,e,n){t.exports=n("/g0A")("RKTd")},RL95:function(t,e,n){t.exports=n("oxns")("RL95")},RMHJ:function(t,e,n){"use strict";t.exports=function(t){return t>=0&&t<10?"0"+t:String(t)}},RNIs:function(t,e,n){t.exports=n("/g0A")("RNIs")},RmI7:function(t,e,n){"use strict";n("aO+S"),n("pxog"),n("nXDD"),n("N0PS"),n("Cf6i"),n("TXUN"),n("47Mi"),n("gnCh"),n("eG3/"),n("UEu8")},SAsA:function(t,e,n){t.exports=n("oxns")("SAsA")},SC2N:function(t,e,n){t.exports=n("oxns")("SC2N")},SEBh:function(t,e,n){t.exports=n("/g0A")("SEBh")},SKAX:function(t,e,n){var i=n("JC6p"),o=n("lQqw")(i);t.exports=o},SPSp:function(t,e,n){t.exports=n("oxns")("SPSp")},STAE:function(t,e,n){t.exports=n("/g0A")("STAE")},SWQF:function(t,e,n){"use strict";var i=n("qEUg");n.n(i).a},SZR4:function(t,e,n){},SaS9:function(t,e,n){},Shfq:function(t,e,n){},ShtI:function(t,e,n){},Swqd:function(t,e,n){t.exports=n("oxns")("Swqd")},T1AV:function(t,e,n){var i=n("t2Dn"),o=n("5Tg0"),r=n("yP5f"),a=n("Q1l4"),s=n("+iFO"),c=n("03A+"),u=n("Z0cm"),l=n("3L66"),d=n("DSRE"),p=n("lSCD"),f=n("GoyQ"),h=n("YO3V"),m=n("c6wG"),g=n("itsj"),v=n("jeLo");t.exports=function(t,e,n,y,b,_,k){var w=g(t,n),S=g(e,n),C=k.get(S);if(C)i(t,n,C);else{var P=_?_(w,S,n+"",t,e,k):void 0,x=void 0===P;if(x){var O=u(S),T=!O&&d(S),I=!O&&!T&&m(S);P=S,O||T||I?u(w)?P=w:l(w)?P=a(w):T?(x=!1,P=o(S,!0)):I?(x=!1,P=r(S,!0)):P=[]:h(S)||c(S)?(P=w,c(w)?P=v(w):f(w)&&!p(w)||(P=s(S))):x=!1}x&&(k.set(S,P),b(P,S,y,_,k),k.delete(S)),i(t,n,P)}}},T7yj:function(t,e,n){},TPmL:function(t,e,n){t.exports=n("oxns")("TPmL")},TUjB:function(t,e,n){t.exports=n("oxns")("TUjB")},TWQb:function(t,e,n){t.exports=n("/g0A")("TWQb")},TXUN:function(t,e,n){t.exports=n("oxns")("TXUN")},Td2N:function(t,e,n){t.exports=n("oxns")("Td2N")},ToJy:function(t,e,n){"use strict";var i=n("I+eb"),o=n("HAuM"),r=n("ewvW"),a=n("0Dky"),s=n("pkCn"),c=[],u=c.sort,l=a((function(){c.sort(void 0)})),d=a((function(){c.sort(null)})),p=s("sort");i({target:"Array",proto:!0,forced:l||!d||!p},{sort:function(t){return void 0===t?u.call(r(this)):u.call(r(this),o(t))}})},Tskq:function(t,e,n){"use strict";var i=n("bWFh"),o=n("ZWaQ");t.exports=i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},U5WV:function(t,e,n){"use strict";n.d(e,"n",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"p",(function(){return r})),n.d(e,"o",(function(){return a})),n.d(e,"k",(function(){return s})),n.d(e,"j",(function(){return c})),n.d(e,"i",(function(){return u})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return d})),n.d(e,"q",(function(){return p})),n.d(e,"m",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"l",(function(){return m})),n.d(e,"c",(function(){return g})),n.d(e,"f",(function(){return v})),n.d(e,"e",(function(){return y})),n.d(e,"a",(function(){return b}));var i=540,o={0:"new-arrival",1:"hot-sale",2:"new",3:"hot"},r={0:"card",1:"waterfall",2:"simple",3:"promotion",4:"multi",5:"card2",6:"points",7:"card-shadow",8:"tag-left"},a={CARD:0,WATERFALL:1,SIMPLE:2,PROMOTION:3,MULTI:4,CARD2:5,POINTS:6,CARD_SHADOW:7,TAG_LEFT:8},s={0:"big",1:"small",2:"hybrid",3:"list",5:"three",6:"swipe"},c={BIG:0,SMALL:1,HYBRID:2,LIST:3,THREE:5,SWIPE:6},u={0:"3-2",1:"1-1",2:"3-4",3:"16-9"},l={1:"cover",2:"contain"},d={COVER:1,CONTAIN:2},p={1:"normal",2:"bold"},f={1:"rect",2:"circle"},h={SMALL:"small",BIG:"big"},m={COLUMN:"https://img.yzcdn.cn/public_files/2018/08/20/d5b6ccfc9383b976fc02a88f43f49ef2.png",TEXT:"https://img.yzcdn.cn/public_files/2018/08/20/b24699aee714351838f730cdb59de84a.png",AUDIO:"https://img.yzcdn.cn/public_files/2018/08/20/e05ef730df7b6fb43844b908734a9fc0.png",VIDEO:"https://img.yzcdn.cn/public_files/2018/08/20/0bfab52c6a9c77b58ca686567479b4ab.png",LIVE:"https://img.yzcdn.cn/public_files/2018/08/20/aac3b43a16195809ab479746236a457c.png"},g={COLUMN:"",TEXT:"",AUDIO:"",VIDEO:"",LIVE:""},v={READ:"免费试读",LISTEN:"免费试听",WATCH:"免费试看"},y="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",b={Stocking:10014,BatchStock:10015}},UEu8:function(t,e,n){t.exports=n("oxns")("UEu8")},UKwP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),o=i.__importDefault(n("koW7")),r=i.__importDefault(n("k7cP")),a=i.__importDefault(n("vRJp"));t.exports=function(t,e,n){return void 0===e&&(e="default"),void 0===n&&(n="zh"),t=r.default(t),o.default.format(t,e,"string"==typeof n?a.default[n]:n)}},UQhv:function(t,e,n){t.exports=n("/g0A")("UQhv")},UbSZ:function(t,e,n){},Uf1B:function(t,e,n){},Ui9T:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("+2oP"),n("qePV"),n("4l63"),n("yXV3");var i=[["#f44","#f44","#fff","#f85","#fff","#FF6060","#FF4444"],["#ff5e15","#ff5e15","#fff","#ff9300","#fff","#FF8717","#FF5E16"],["#ff547b","#ff547b","#fff","#ffe6e8","#ff547b","#FF73AB","#FF5179"],["#f44","#f44","#fff","#555","#fff","#FF4F8D","#FF4444"],["#fcc600","#fcc600","#fff","#1d262e","#fff","#EABE00","#FFAA00"],["#65c4aa","#65c4aa","#fff","#ddf2ec","#65c4aa","#00D6B9","#00C291"],["#09bb07","#09bb07","#fff","#333","#fff","#56C700","#09BB07"],["#6cbe72","#6cbe72","#fff","#e1f4e3","#6cbe72","#77D330","#5BB161"],["#4a90e2","#4990e2","#fff","#dbe9f9","#4990e2","#0DA6F3","#0080FF"],["#c3a769","#c3a769","#fff","#f3eee1","#c3a769","#D9BC3D","#C3A769"],["#2f2f34","#2f2f34","#fff","#ebecf2","#2f2f34","#4a4d52","#333"],["#9a875f","#9a875f","#fff","#f6edec","#9a875f","#CFB67F","#B8A06F"],["#884cff","#884cff","#fff","#efe6ff","#884cff","#9673ff","#884cff"],["#EE0A24","#EE0A24","#fff","#FFB31E","#fff","#FF6034","#EE0A24"]],o=["general","main-bg","main-text","vice-bg","vice-text","gradient-start","gradient-end"],r={props:{themeType:Number},data:function(){var t=this.themeType;return{curThemeType:+("number"==typeof t?t:window._global&&window._global.themeType||0)}},methods:{getThemeColors:function(t){return t>=i.length&&(t=0),i[t]},getThemeColorWithType:function(t){var e=o.indexOf(t);return e=e>-1?e:0,this.getThemeColors(this.curThemeType)[e]}}};var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cap-theme-view",style:this.elementStyle},[this._t("default"),this._v(" "),this.borderAfter?e("div",{staticClass:"mock-after",style:this.borderAfterStyle}):this._e()],2)},staticRenderFns:[],name:"cap-theme-view",mixins:[r],props:{bg:String,color:String,border:String,borderAfter:String,gradient:Boolean,gradientDeg:{type:Number,default:0},opacity:{type:Number,default:1}},computed:{elementStyle:function(){var t=this.curThemeType,e=this.bg,n=this.opacity,i=this.color,o=this.border,r=this.gradient,a=this.gradientDeg,s=this.getThemeColors(t),c={};if(e){var u=this.getThemeColorWithType(e),l=u;if(1!==n){var d=function(t){var e=0,n=0,i=0,o=function(t){return parseInt(t,16)};if(3===(t=t.slice(1)).length||6===t.length)return 3===t.length?(e=17*o(t[0]),n=17*o(t[1]),i=17*o(t[2])):(e=o(t[1])+16*o(t[0]),n=o(t[3])+16*o(t[2]),i=o(t[5])+16*o(t[4])),[e,n,i]}(u);l="rgba("+d[0]+", "+d[1]+", "+d[2]+", "+n+")"}c.backgroundColor=l}if(i){var p=this.getThemeColorWithType(i);c.color=p}if(o){var f=this.getThemeColorWithType(o);c.borderColor=f}if(r){var h="linear-gradient("+a+"deg, "+s[5]+", "+s[6]+")";c.background=h,delete c.backgroundColor}return c},borderAfterStyle:function(){return{borderColor:this.getThemeColorWithType(this.borderAfter)}}}};e.b=a},V3nW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),o=i.__importDefault(n("LAZN"));e.initComponentList=o.default;var r=i.__importDefault(n("z/L7"));e.registerComponent=r.default},V9xz:function(t,e){t.exports=function(t,e){return t>e}},VD6T:function(t,e,n){t.exports=n("oxns")("VD6T")},VIWg:function(t,e,n){"use strict";var i=n("pXUX");n.n(i).a},VKpb:function(t,e,n){var i=n("BqwS"),o=n("VqBz");t.exports=function(t,e){for(var n=0,r=(e=i(e,t)).length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}},VRQs:function(t,e,n){var i=n("FPxf"),o=n("O/Ss"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(a.test(t)||!r.test(t)||null!=e&&t in Object(e))}},VZZB:function(t,e,n){t.exports=n("oxns")("VZZB")},ViXs:function(t,e,n){var i=n("oPJM");t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},"Vl+Z":function(t,e,n){t.exports=n("oxns")("Vl+Z")},VpIT:function(t,e,n){t.exports=n("/g0A")("VpIT")},VqBz:function(t,e,n){var i=n("O/Ss");t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},Vu81:function(t,e,n){t.exports=n("/g0A")("Vu81")},W3er:function(t,e,n){},W4ar:function(t,e,n){"use strict";e.a=["WX_JS","WX_APPLET"]},WFLi:function(t,e,n){t.exports=n("oxns")("WFLi")},WHCL:function(t,e,n){},WJkJ:function(t,e,n){t.exports=n("/g0A")("WJkJ")},WKiH:function(t,e,n){t.exports=n("/g0A")("WKiH")},WRzT:function(t,e,n){"use strict";var i=n("eawW");n.n(i).a},WWEG:function(t,e,n){var i=n("sLWy"),o="object"==typeof self&&self&&self.Object===Object&&self,r=i||o||Function("return this")();t.exports=r},WZ0V:function(t,e,n){"use strict";var i=n("HMqp");n.n(i).a},"X1+7":function(t,e,n){t.exports=n("oxns")("X1+7")},X5IU:function(t,e,n){"use strict";var i=n("/Bl6");n.n(i).a},X5Zq:function(t,e,n){"use strict";var i=n("67WC"),o=i.aTypedArray,r=i.exportTypedArrayMethod,a=[].join;r("join",(function(t){return a.apply(o(this),arguments)}))},X5xu:function(t,e,n){},X74q:function(t,e,n){t.exports=n("oxns")("X74q")},XDzS:function(t,e,n){"use strict";t.exports=function(t){return!isNaN(new Date(t))}},XE26:function(t,e,n){"use strict";var i=n("uebk");n.n(i).a},XFYc:function(t,e,n){t.exports=n("oxns")("XFYc")},XGnz:function(t,e,n){var i=n("CH3K"),o=n("BiGR");t.exports=function t(e,n,r,a,s){var c=-1,u=e.length;for(r||(r=o),s||(s=[]);++c<u;){var l=e[c];n>0&&r(l)?n>1?t(l,n-1,r,a,s):i(s,l):a||(s[s.length]=l)}return s}},XMab:function(t,e,n){n("dOgj")("Uint8",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},XPpk:function(t,e,n){},Xae2:function(t,e,n){},"Xd/g":function(t,e,n){"use strict";var i=n("1YtK");n.n(i).a},XkYy:function(t,e,n){t.exports=n("oxns")("XkYy")},Xsw2:function(t,e,n){"use strict";var i=n("b8cB");n.n(i).a},Xxoj:function(t,e,n){t.exports=n("oxns")("Xxoj")},Y4a0:function(t,e,n){"use strict";var i=n("fH9c");n.n(i).a},YGK4:function(t,e,n){"use strict";var i=n("bWFh"),o=n("ZWaQ");t.exports=i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},YH26:function(t,e,n){var i=n("nRFV"),o=n("zgj4"),r=n("lTiy"),a=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):r(t)}},YL0P:function(t,e,n){"use strict";var i=n("2oRo"),o=n("67WC"),r=n("4mDm"),a=n("tiKp")("iterator"),s=i.Uint8Array,c=r.values,u=r.keys,l=r.entries,d=o.aTypedArray,p=o.exportTypedArrayMethod,f=s&&s.prototype[a],h=!!f&&("values"==f.name||null==f.name),m=function(){return c.call(d(this))};p("entries",(function(){return l.call(d(this))})),p("keys",(function(){return u.call(d(this))})),p("values",m,!h),p(a,m,!h)},YO3V:function(t,e,n){var i=n("NykK"),o=n("LcsW"),r=n("ExA7"),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!r(t)||"[object Object]"!=i(t))return!1;var e=o(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},Yhre:function(t,e,n){"use strict";var i=n("2oRo"),o=n("g6v/"),r=n("qYE9"),a=n("kRJp"),s=n("4syw"),c=n("0Dky"),u=n("GarU"),l=n("ppGB"),d=n("UMSQ"),p=n("CyXQ"),f=n("d6cI"),h=n("4WOD"),m=n("0rvr"),g=n("JBy8").f,v=n("m/L8").f,y=n("gdVl"),b=n("1E5z"),_=n("afO8"),k=_.get,w=_.set,S=i.ArrayBuffer,C=S,P=i.DataView,x=P&&P.prototype,O=Object.prototype,T=i.RangeError,I=f.pack,A=f.unpack,B=function(t){return[255&t]},j=function(t){return[255&t,t>>8&255]},D=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},E=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},L=function(t){return I(t,23,4)},N=function(t){return I(t,52,8)},M=function(t,e){v(t.prototype,e,{get:function(){return k(this)[e]}})},F=function(t,e,n,i){var o=p(n),r=k(t);if(o+e>r.byteLength)throw T("Wrong index");var a=k(r.buffer).bytes,s=o+r.byteOffset,c=a.slice(s,s+e);return i?c:c.reverse()},R=function(t,e,n,i,o,r){var a=p(n),s=k(t);if(a+e>s.byteLength)throw T("Wrong index");for(var c=k(s.buffer).bytes,u=a+s.byteOffset,l=i(+o),d=0;d<e;d++)c[u+d]=l[r?d:e-d-1]};if(r){if(!c((function(){S(1)}))||!c((function(){new S(-1)}))||c((function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name}))){for(var U,W=(C=function(t){return u(this,C),new S(p(t))}).prototype=S.prototype,G=g(S),$=0;G.length>$;)(U=G[$++])in C||a(C,U,S[U]);W.constructor=C}m&&h(x)!==O&&m(x,O);var q=new P(new C(2)),H=x.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||s(x,{setInt8:function(t,e){H.call(this,t,e<<24>>24)},setUint8:function(t,e){H.call(this,t,e<<24>>24)}},{unsafe:!0})}else C=function(t){u(this,C,"ArrayBuffer");var e=p(t);w(this,{bytes:y.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},P=function(t,e,n){u(this,P,"DataView"),u(t,C,"DataView");var i=k(t).byteLength,r=l(e);if(r<0||r>i)throw T("Wrong offset");if(r+(n=void 0===n?i-r:d(n))>i)throw T("Wrong length");w(this,{buffer:t,byteLength:n,byteOffset:r}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=r)},o&&(M(C,"byteLength"),M(P,"buffer"),M(P,"byteLength"),M(P,"byteOffset")),s(P.prototype,{getInt8:function(t){return F(this,1,t)[0]<<24>>24},getUint8:function(t){return F(this,1,t)[0]},getInt16:function(t){var e=F(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=F(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return E(F(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return E(F(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return A(F(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return A(F(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){R(this,1,t,B,e)},setUint8:function(t,e){R(this,1,t,B,e)},setInt16:function(t,e){R(this,2,t,j,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){R(this,2,t,j,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){R(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){R(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){R(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){R(this,8,t,N,e,arguments.length>2?arguments[2]:void 0)}});b(C,"ArrayBuffer"),b(P,"DataView"),t.exports={ArrayBuffer:C,DataView:P}},Ywrn:function(t,e,n){t.exports=n("/g0A")("Ywrn")},ZCpW:function(t,e,n){var i=n("lm/5"),o=n("O7RO"),r=n("IOzZ");t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?r(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}},ZEyx:function(t,e,n){},ZJ55:function(t,e,n){"use strict";var i=n("67WC"),o=n("tycR").some,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",(function(t){return o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},ZRDo:function(t,e,n){},ZWaQ:function(t,e,n){"use strict";var i=n("m/L8").f,o=n("fHMY"),r=n("4syw"),a=n("A2ZE"),s=n("GarU"),c=n("ImZN"),u=n("fdAy"),l=n("JiZb"),d=n("g6v/"),p=n("8YOa").fastKey,f=n("afO8"),h=f.set,m=f.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t((function(t,i){s(t,l,e),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),d||(t.size=0),null!=i&&c(i,t[u],t,n)})),f=m(e),g=function(t,e,n){var i,o,r=f(t),a=v(t,e);return a?a.value=n:(r.last=a={index:o=p(e,!0),key:e,value:n,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=a),i&&(i.next=a),d?r.size++:t.size++,"F"!==o&&(r.index[o]=a)),t},v=function(t,e){var n,i=f(t),o=p(e);if("F"!==o)return i.index[o];for(n=i.first;n;n=n.next)if(n.key==e)return n};return r(l.prototype,{clear:function(){for(var t=f(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:this.size=0},delete:function(t){var e=f(this),n=v(this,t);if(n){var i=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),e.first==n&&(e.first=i),e.last==n&&(e.last=o),d?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=f(this),i=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),r(l.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),d&&i(l.prototype,"size",{get:function(){return f(this).size}}),l},setStrong:function(t,e,n){var i=e+" Iterator",o=m(e),r=m(i);u(t,e,(function(t,e){h(this,{type:i,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=r(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},ZWtO:function(t,e,n){t.exports=n("/g0A")("ZWtO")},ZbhI:function(t,e,n){t.exports=n("/g0A")("ZbhI")},ZfDv:function(t,e,n){t.exports=n("/g0A")("ZfDv")},ZnM6:function(t,e){t.exports=framework_cc22a877},ZqTd:function(t,e,n){"use strict";n.r(e);n("5+UC");var i,o,r,a,s,c,u=n("05lO"),l=(n("QWBl"),n("qePV"),n("FZtP"),n("ma9I"),n("+2oP"),{props:{startDay:{type:String,default:"sun"},fixed:{type:Boolean,default:!1}},data:function(){return{days:("sun"===this.startDay?["日"]:[]).concat(["一","二","三","四","五","六","日"]).slice(0,7)}},created:function(){}}),d=(n("wuvP"),n("KHd+")),p=Object(d.default)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"week-bar",class:{fixed:t.fixed},style:{background:t.fixed?"#fff":"#F7F8FA"}},t._l(t.days,(function(e){return n("div",{key:e,staticClass:"day",class:{theme__color:"六"===e||"日"===e}},[t._v("\n    "+t._s(e)+"\n  ")])})),0)}),[],!1,null,"c2377bf4",null).exports,f=(n("Rfxz"),n("07d7"),n("JfAA"),{props:{startDay:{type:String,default:"sun"},date:{type:Object,default:function(){return{}}},useScope:{type:Boolean,default:!1},scope:{type:Array,default:function(){return[]}},active:String},data:function(){return{activeDate:0}},computed:{renderDays:function(){var t=this.date,e=t.year,n=void 0===e?0:e,i=t.month,o=void 0===i?0:i,r=t.days,a=void 0===r?[]:r,s=new Date(n,o,0).getDate();if(a.length!==s)throw new Error("传入的日期数据不对");var c=new Date(n+"/"+o+"/"+a[0].date);if("Invalid Date"===c.toString())throw new Error("传入的日期数据不能被格式化");for(var u=c.getDay(),l=[],d=0;d<u;d++)l.push({date:-1,id:-1});return l.concat(a)}},watch:{active:function(t){var e=this;this.activeDate!==t&&(this.activeDate=t,this.renderDays.some((function(n){if(n.id===t)return e.$emit("select",n),!0})))}},methods:{onItemClick:function(t){this.activeDate=t.id,this.$emit("select",t)}}}),h=(n("0LUs"),{name:"calendar",components:{"week-bar":p,"month-block":Object(d.default)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"month-block"},t._l(t.renderDays,(function(e,i){return n("div",{key:e.date+i,staticClass:"date-block",class:{"theme__background active":t.activeDate===e.id,empty:-1===e.date,disabled:!e.isEnable},on:{click:function(n){t.onItemClick(e)}}},[e.isEnable?n("span",{staticClass:"header-label",class:{theme__color:e.activeHeader}},[t._v(t._s(e.header))]):t._e(),n("span",{staticClass:"date"},[t._v(t._s(e.date))]),e.isEnable?n("span",{staticClass:"footer-label"},[t._v(t._s(e.footer))]):t._e()])})),0)}),[],!1,null,"79cc06b0",null).exports},props:{data:{type:Array,require:!0},year:{type:Number},month:{type:Number},activeId:String,mode:{type:String,default:"single"},useScope:{type:Boolean,default:!1},canClick:{type:Boolean,default:!0}},computed:{activeItem:function(){var t=this,e=this.data||[],n={days:[]};return this.year&&this.month?e.forEach((function(e){+e.year==+t.year&&+e.month==+t.month&&(n=e)})):e.length&&(n=e[0]),n}},methods:{onSelect:function(t){this.$emit("select",t)}}}),m=Object(d.default)(h,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"calendar"},[this._t("calendar-header"),e("week-bar",{attrs:{fixed:"single"!==this.mode}}),this.activeItem.days.length?e("month-block",{attrs:{date:this.activeItem,active:this.activeId},on:{select:this.onSelect}}):this._e()],2)}),[],!1,null,null,null).exports,g=n("pZw8"),v={name:"single-price-calendar",components:(i={},i[m.name]=m,i),getters:["calendarDateData"],state:{months:function(){return this.calendarDateData.months||[]},calendarData:function(){return this.calendarDateData.monthDataList||[]},activeStockDate:function(t){return t.skuExtraData.selectedSkuDate[0]||""}},data:function(){return{activeMonth:{}}},watch:{activeStockDate:function(t){if(t.length){var e=new Date(t);this.activeMonth={year:e.getFullYear(),name:e.getMonth()+1}}else this.activeMonth={}}},methods:{onItemClick:function(t){this.activeMonth=t},onCalendarSelect:function(t){this.$commit("setSelectedCalendar",t),this.$commit("setSkuExtraData",{selectedSkuDate:[t.id],selectedSkuDateId:t.dateSkuId}),this.$dispatch("startSkuJob",g.m.PriceCalendar)}}},y=(n("/Q9L"),Object(d.default)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default"),t.calendarData.length?n("calendar",{attrs:{data:t.calendarData,month:t.activeMonth.name,year:t.activeMonth.year,"active-id":t.activeStockDate},on:{select:t.onCalendarSelect}},[n("div",{staticClass:"e-card-calendar-header",attrs:{slot:"calendar-header"},slot:"calendar-header"},t._l(t.months,(function(e,i){return n("div",{key:e.name,staticClass:"month",on:{click:function(n){t.onItemClick(e)}}},[n("div",{staticClass:"month-name"},[t._v(t._s(e.name)+"月")]),n("div",{staticClass:"theme__color month-label"},[t._v(t._s(e.label))]),t.activeMonth.name===e.name||!t.activeMonth.name&&0===i?n("div",{staticClass:"border-line",class:{theme__background:t.activeMonth.name===e.name||!t.activeMonth.name&&0===i}}):t._e()])})),0)]):t._e()],2)}),[],!1,null,"47fa4236",null).exports),b={name:"ecard-sku-extra",components:(o={},o[y.name]=y,o),state:{virtualTicket:function(t){return t.goodsActivity.virtualTicket}},getters:["isPriceCalendar","ecardInstructions","showVirtualTicketIntro"]},_=(n("yEuK"),Object(d.default)(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ecard-sku-extra"},[t.showVirtualTicketIntro?n("div",{staticClass:"ecard-tip"},[n("p",{staticClass:"tip-title"},[t._v("\n      [卡券使用说明]\n    ")]),t._l(t.ecardInstructions,(function(e){return n("p",{key:e},[t._v("\n      "+t._s(e)+"\n    ")])}))],2):t._e(),t.isPriceCalendar?n("single-price-calendar",[n("van-cell",{attrs:{border:!1,value:t.virtualTicket.itemPreOrderTimeStr,title:"选择日期","title-class":"virtual-order-tip-title","value-class":"virtual-order-tip"}})],1):t._e()],1)}),[],!1,null,"cf48b3c6",null).exports),k={name:"PeriodBuySkuExtraItem",props:{id:[String,Number],name:String,selectedId:[String,Number]},computed:{isChoosed:function(){return this.id===this.selectedId}},methods:{onSelect:function(){var t=this.isChoosed?"":this.id;this.$dispatch("selectPeriodbuySkuItem",t)}}},w=Object(d.default)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"van-sku-row__item",class:{"van-sku-row__item--active":this.isChoosed},on:{click:this.onSelect}},[e("span",{staticClass:"van-sku-row__item-name"},[this._v(this._s(this.name))])])}),[],!1,null,null,null).exports,S={name:"PeriodBuySkuExtra",getters:["periodbuyActivity","periodbuySkuExtraList","periodbuyDeliverTimeStr"],components:(r={},r[w.name]=w,r)},C=(n("sPc0"),Object(d.default)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"van-sku-group-container"},[n("div",{staticClass:"van-sku-row"},[n("div",{staticClass:"van-sku-row__title"},[t._v("\n      送达时间：\n      "),n("span",{staticClass:"period-extra-desc theme__color"},[t._v(t._s(t.periodbuyDeliverTimeStr))])]),t._l(t.periodbuySkuExtraList,(function(e){return n("period-buy-sku-extra-item",{key:e.id,attrs:{id:e.id,name:e.name,"selected-id":t.periodbuyActivity.deliverTimeId}})}))],2)])}),[],!1,null,null,null).exports),P={name:"installment",state:["skuExtraData","noInstallmentOrder","skuManager"],getters:["isFreeInterest","installmentList"],computed:{isSkuReady:function(){return this.skuManager.infos.isPreReady}}},x=(n("XE26"),Object(d.default)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sku-installment"},[t._m(0),n("div",{staticClass:"installment-list"},[n("div",{staticClass:"installment-item",class:{disabled:!t.isSkuReady},on:{click:function(){return t.$commit("SET_INSTALLMENT_COUNT",1)}}},[n("div",{staticClass:"installment-item__inner",class:{"theme__color theme__bg-fade":1===t.skuExtraData.selectedInstallmentPeriod}},[t._m(1)])]),t._l(t.installmentList,(function(e){return n("div",{key:e.key,staticClass:"installment-item",class:{disabled:!t.isSkuReady||t.noInstallmentOrder},on:{click:function(){return t.$commit("SET_INSTALLMENT_COUNT",+e.key)}}},[n("div",{staticClass:"installment-item__inner",class:{"theme__color theme__bg-fade":+e.key===t.skuExtraData.selectedInstallmentPeriod}},[n("div",[t._v("\n          分"+t._s(e.key)+"期（含手续费）"),n("br"),t._v("¥"+t._s(t._f("formatPrice")(e.val))+"/期\n        ")])])])}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"installment-title"},[e("div",[this._v("分期支付（可选）")]),e("div",{staticClass:"tip"},[this._v("\n      3/6/12分期金额含手续费，费用以收银台展示为准，小于10元只支持分1期。\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("分1期（无手续费）"),e("br"),this._v("先买后还")])}],!1,null,"8bb80998",null).exports),O=n("jZ0v"),T={name:"GoodsSkuPrice",state:["skuConfig"],getters:["skuPrice","skuPriceTags","skuPreferentialPriceTag"],components:(a={},a[O.a.name]=O.a,a)},I=(n("jntn"),Object(d.default)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-sku__price"},[t.skuConfig.isPoints?t._e():n("span",{staticClass:"goods-sku__price-symbol theme__color"},[t._v("￥")]),n("span",{staticClass:"goods-sku__price-num theme__color",style:{fontSize:t.skuPrice.price&&t.skuPrice.price.length>18?"15px":"18px"}},[t._v("\n    "+t._s(t.skuPrice.price)+"\n  ")]),t.skuPreferentialPriceTag?n("div",{staticClass:"goods-sku__price-coupon-tag theme__background"},[n("span",{staticClass:"goods-sku__price-coupon-tag-pre"},[t._v(t._s(t.skuPreferentialPriceTag.tagPre))]),n("span",{staticClass:"goods-sku__price-coupon-tag-font--xl"},[t._v("\n      "+t._s(t.skuPreferentialPriceTag.price)+"\n    ")]),n("span",{staticClass:"goods-sku__price-coupon-tag-suf"},[t._v(t._s(t.skuPreferentialPriceTag.tagSuf))])]):t._e(),t._l(t.skuPriceTags,(function(e){return[n("common-tag",{key:e,staticClass:"goods-sku__price-tag",attrs:{"container-style":"theme__background"}},[n("span",{staticClass:"theme__color"},[t._v(t._s(e))])])]}))],2)}),[],!1,null,null,null).exports),A={name:"GoodsSkuOriginPrice",getters:["hideSkuOriginPrice","skuPrice","isAuction","hasCurrentActivity"]},B=(n("vFjs"),Object(d.default)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.hideSkuOriginPrice&&t.skuPrice.oldPrice?n("div",{staticClass:"goods-sku__origin-price"},[t.isAuction?n("span",[t._v("起拍价 ")]):n("span",[t._v("价格 ")]),n("span",{staticClass:"goods-sku__origin-price__line-through"},[t._v("¥"+t._s(t.skuPrice.oldPrice))])]):t._e()}),[],!1,null,null,null).exports),j={name:"ladder-groupon-extra",getters:["ladderGrouponSkuExtraList"],state:["skuExtraData"],methods:{onSelect:function(t){var e=this.skuExtraData.selectedScale;this.$commit("setSkuExtraData",{selectedScale:e===t?null:t}),this.$dispatch("startSkuJob",g.m.LadderGroupOn)}}},D=(n("WRzT"),Object(d.default)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ladder-extra-group van-sku-group-container"},[n("div",{staticClass:"ladder-extra-label van-sku-row__title"},[t._v("拼团类型")]),n("div",{staticClass:"ladder-extra-items"},t._l(t.ladderGrouponSkuExtraList,(function(e){return n("span",{key:e.scale,staticClass:"van-sku-row__item",class:{"van-sku-row__item--active":e.scale===t.skuExtraData.selectedScale},on:{click:function(n){t.onSelect(e.scale)}}},[n("span",{staticClass:"van-sku-row__item-name"},[t._v("￥"+t._s(e.price)+"/"+t._s(e.scale)+"人团")])])})),0)])}),[],!1,null,"04a4880c",null).exports),E=(n("pNMO"),n("4Brf"),n("8afP")),L={name:"coupon-sku-extra",state:["shop"],getters:["skuCouponExtraItem"],data:function(){return{isFolded:!0,stateBoxHeight:0}},computed:{instruction:function(){return this.skuCouponExtraItem&&this.skuCouponExtraItem.description},isAllGoodsAvailable:function(){var t=this.skuCouponExtraItem||{},e=t.preferentialMode,n=t.applicableOnlineGoodsRangeType;return 3!==e&&n<=1},showFoldBtn:function(){return this.stateBoxHeight>32}},watch:{skuCouponExtraItem:function(t,e){var n=this;t!==e&&(t&&t.description?this.$nextTick((function(){n.stateBoxHeight=n.$refs.stateBox.offsetHeight,n.isFolded=!0})):this.stateBoxHeight=0)}},mounted:function(){this.instruction&&(this.stateBoxHeight=this.$refs.stateBox.offsetHeight)},methods:{toggleFold:function(){this.isFolded=!this.isFolded},jumpAvailableGoods:function(){if(!this.isAllGoodsAvailable){var t=this.shop.kdtId,e=this.skuCouponExtraItem.alias,n=Object(E.c)("/wscump/coupon/goodslist?kdt_id="+t+"&alias="+e,"h5",t);Object(E.o)(n)}}}},N=(n("qq9i"),Object(d.default)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"coupon-sku-extra"},[n("main",{staticClass:"coupon-sku-extra__main"},[n("section",{staticClass:"coupon-sku-extra__time"},[n("p",{staticClass:"coupon-sku-extra__title"},[t._v("\n        使用时间\n      ")]),n("p",[t._v(t._s(t.skuCouponExtraItem.validTimeCopywriting))])]),n("section",{staticClass:"coupon-sku-extra__discount"},[n("p",{staticClass:"coupon-sku-extra__title"},[t._v("\n        优惠内容\n      ")]),n("p",{staticClass:"coupon-sku-extra__desc",on:{click:t.jumpAvailableGoods}},[n("span",{staticClass:"coupon-sku-extra__desc-text"},[t._v("\n          "+t._s(t.skuCouponExtraItem.preferentialCopywritingDetail)+"\n        ")]),t.isAllGoodsAvailable?t._e():n("van-icon",{attrs:{name:"arrow",color:"#C8C9CC",size:"16px"}})],1)]),t.instruction?n("section",{staticClass:"coupon-sku-extra__state"},[n("p",{staticClass:"coupon-sku-extra__title"},[t._v("\n        使用说明\n      ")]),n("p",{ref:"stateBox",class:{"coupon-sku-extra__state--fold":t.showFoldBtn&&t.isFolded}},[t._v("\n        "+t._s(t.instruction)+"\n      ")])]):t._e(),t.showFoldBtn?n("footer",{staticClass:"coupon-sku-extra__handle-btn",on:{click:t.toggleFold}},[t._v("\n      "+t._s(t.isFolded?"展开":"收起")+"全部\n      "),n("van-icon",{attrs:{name:"arrow-"+(t.isFolded?"down":"up"),color:"#969799",size:"14px"}})],1):t._e()])])}),[],!1,null,"332ff23b",null).exports),M=(n("5BUu"),n("K16X").a.SkuHeaderItem),F={name:"GoodsSkuSelectedWord",components:(s={},s[M.name]=M,s),getters:["skuSelectedWord"]},R=Object(d.default)(F,(function(){var t=this.$createElement,e=this._self._c||t;return this.skuSelectedWord?e("van-sku-header-item",[this._v("\n  "+this._s(this.skuSelectedWord)+"\n")]):this._e()}),[],!1,null,null,null).exports,U={name:"SkuBlock",state:["skuConfig","displayPop","skuExtraData","isFastBuySplit","initialSku"],getters:["skuDataForVant","quota","quotaUsed","quotaText","cartText","stepperTitle","skuBuyBtnText","skuUploaderConfig","skuValidator","skuStepperConfig","hideSkuStock","hideSkuStepper","showSkuAddCartBtn","quantityReadOnly","isVirtualTicket","isPeriodbuy","showladderGrouponExtra","showInstallmentBar","startSaleNum","isOverQuotaLimit","skuPreferentialCoupon","isCustomSkuBtn","customSkuBtn","skuProperties","showSkuCouponExtra","showNotEnoughCouponTip","skuGoods","isSkuLargeImageMode"],components:(c={},c[x.name]=x,c[I.name]=I,c[B.name]=B,c[_.name]=_,c[C.name]=C,c[D.name]=D,c[N.name]=N,c[R.name]=R,c),computed:{showExtraSkuGroup:function(){return this.isPriceCalendar||this.isVirtualTicket||this.isPeriodbuy||this.showInstallmentBar||this.showladderGrouponExtra||this.showSkuCouponExtra},addCartText:function(){return"加入"+this.cartText}},watch:{"displayPop.skuPopShow":function(t){t&&this.isOverQuotaLimit&&Object(u.default)("该商品"+this.quotaText+",你之前已经购买"+this.quotaUsed+"件")}}},W=(n("3kZ9"),Object(d.default)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-sku",{staticClass:"sku-block",attrs:{sku:t.skuDataForVant,goods:t.skuGoods,"goods-id":t.skuGoods.id,quota:t.quota,"quota-used":t.quotaUsed,"start-sale-num":t.startSaleNum,"buy-text":t.skuBuyBtnText,"add-cart-text":t.addCartText,"message-config":t.skuUploaderConfig,"custom-sku-validator":t.skuValidator,"custom-stepper-config":t.skuStepperConfig,"stepper-title":t.stepperTitle,"hide-stock":t.hideSkuStock,"disable-stepper-input":t.hideSkuStepper,"show-add-cart-btn":t.showSkuAddCartBtn,"is-quantity-read-only":t.quantityReadOnly,"preview-on-click-image":!1,"show-header-image":!t.isSkuLargeImageMode,"initial-sku":t.initialSku,properties:t.skuProperties,"reset-stepper-on-hide":"","close-on-click-overlay":"","hide-selected-text":""},on:{"open-preview":function(e){return t.$dispatch("openSkuImgPreview",e)},"stepper-change":function(e){return t.$dispatch("stepperChange",e)},"buy-clicked":function(e){return t.$dispatch("handleBuy",e)},"add-cart":function(e){return t.$dispatch("handleAddCart",e)},"sku-selected":function(e){return t.$dispatch("handleSkuSelect",e)},"sku-prop-selected":function(e){return t.$dispatch("handlePropSelect",e)},"sku-reset":function(e){return t.$dispatch("handleSkuReset",e)}},scopedSlots:t._u([{key:"sku-actions",fn:function(e){return t.isFastBuySplit||t.isCustomSkuBtn?[n("div",{staticClass:"van-sku-actions"},[t.isFastBuySplit?n("van-button",{attrs:{square:"",size:"large",type:"danger"},on:{click:function(t){e.skuEventBus.$emit("sku:buy")}}},[t._v("\n        立即购买\n      ")]):n("van-button",{attrs:{disabled:t.customSkuBtn.disabled,type:"danger",square:"",size:"large"},on:{click:function(e){t.$dispatch("customBtnClick")}}},[t._v("\n        "+t._s(t.customSkuBtn.text)+"\n      ")])],1)]:void 0}}]),model:{value:t.displayPop.skuPopShow,callback:function(e){t.$set(t.displayPop,"skuPopShow",e)},expression:"displayPop.skuPopShow"}},[n("img",{staticClass:"sku-block__image-icon",attrs:{slot:"sku-header-image-extra",src:"https://img.yzcdn.cn/upload_files/2020/07/02/Fu4_ya0l0aAt4Mv4PL9jzPzfZnDX.png"},slot:"sku-header-image-extra"}),n("goods-sku-price",{attrs:{slot:"sku-header-price"},slot:"sku-header-price"}),n("goods-sku-origin-price",{attrs:{slot:"sku-header-origin-price"},slot:"sku-header-origin-price"}),n("goods-sku-selected-word",{attrs:{slot:"sku-header-extra"},slot:"sku-header-extra"}),t.showExtraSkuGroup?n("div",{staticClass:"sku-block__extra-group van-hairline--bottom",attrs:{slot:"extra-sku-group"},slot:"extra-sku-group"},[t.showladderGrouponExtra?n("ladder-groupon-extra"):t._e(),t.isPeriodbuy?n("period-buy-sku-extra"):t._e(),t.isVirtualTicket?n("ecard-sku-extra"):t._e(),t.showInstallmentBar?n("installment"):t._e(),t.showSkuCouponExtra?n("coupon-sku-extra"):t._e()],1):t._e(),t.skuPreferentialCoupon||t.showNotEnoughCouponTip?n("template",{slot:"sku-actions-top"},[t.skuPreferentialCoupon?n("p",{staticClass:"sku-block__actions-tip"},[t._v("\n      当前商品可使用\n      "),n("span",{staticClass:"theme__color"},[t._v(t._s(t.skuPreferentialCoupon))]),t._v("\n      优惠券\n    ")]):n("p",{staticClass:"sku-block__actions-tip"},[t._v("\n      当前商品需要使用\n      "),n("span",{staticClass:"theme__color"},[t._v(t._s(t.showNotEnoughCouponTip))]),t._v("\n      内购劵\n    ")])]):t._e()],2)}),[],!1,null,null,null));e.default=W.exports},ZrlO:function(t,e,n){t.exports=n("oxns")("ZrlO")},Zt52:function(t,e,n){},Zyfl:function(t,e,n){"use strict";n("2B1R");var i,o,r=n("+ccU"),a=n("FI0G"),s=n("+Cv8"),c=n("Ui9T"),u=(n("yXV3"),n("qePV"),n("JevA"),n("vxFG")),l=n.n(u),d=n("U5WV"),p=(n("IBDr"),{render:function(){var t=this.$createElement,e=this._self._c||t;return this.showSellStockNum?e("p",{staticClass:"work-sell-stock"},[this._v(this._s(this.sellStock))]):this._e()},staticRenderFns:[],name:"cap-work-sell-stock",props:{goodsInfo:{type:Object,default:function(){return{}}}},computed:{showSellStockNum:function(){var t=this.goodsInfo.abilityMarkCodeList,e=void 0===t?[]:t,n=e.indexOf(d.a.Stocking)>-1&&e.indexOf(d.a.BatchStock)>-1;return n},sellStock:function(){var t=l()(this.goodsInfo,"extension.retailStockSkuInfo.sellStockNumStr",0);return"新出炉剩余"+Number.parseInt(t,10)+"份"}}}),f=(n("w6Z4"),n("rQYt")),h=n("UKwP"),m=n.n(h),g=n("k7cP"),v=n.n(g),y=(n("mfrL"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.goodsInfo.showRetailPrepare?n("div",{staticClass:"work-process"},[n("div",{staticClass:"work-process__time"},[t._v("\n    "+t._s(t.businessProcess)+"\n  ")]),t._v(" "),n("div",{staticClass:"work-process__list"},[n("div",{staticClass:"work-process__list--layout"},t._l(t.processList,(function(e,i){return n("div",{key:i,staticClass:"work-process__list--layout__item"},[n("span",{class:["work-process__list__step",{"work-process__list__step--active":1==+e.current}]},[t._v(t._s(e.name))]),t._v(" "),i!==t.processList.length-1?n("van-icon",{staticClass:"work-process__list__icon",attrs:{name:"arrow",size:"10px",color:"#c8c9cc"}}):t._e()],1)})),0)])]):t._e()},staticRenderFns:[],name:"cap-work-process",components:(i={},i[f.default.name]=f.default,i),props:{goodsInfo:{type:Object,default:function(){return{}}}},computed:{businessProcess:function(){var t=v()(),e=l()(this.goodsInfo,"extension.retailPrepare.businessEndTime",""),n=Number.parseInt(l()(this.goodsInfo,"extension.retailPrepare.skuAmountStr",0)),i=v()(e).getTime()-t.getTime();if(i<0)return"即将出炉 "+n+" 份";var o=t.getHours(),r=i/1e3/60/60,a=Math.floor(r/24),s=Math.ceil(r%24);return 0===a?(o+s>24?"预计明天":"预计")+m()(e,"HH:mm")+"出炉 "+n+" 份":1===a?o+s>24?"":"预计明天"+m()(e,"HH:mm")+"出炉 "+n+" 份":""},processList:function(){return l()(this.goodsInfo,"extension.retailPrepare.process",[])}}}),b=(n("xYxq"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("common-goods-layout",{ref:"commonGoodsLayout",attrs:{list:t.curGoodsList,layout:t.layout,"size-type":t.sizeType,"show-title":t.showTitle,"show-sub-title":t.showSubTitle,"show-price":t.showPrice,"show-origin-price":t.showOriginPrice,"show-buy-button":t.showBuyButton,"buy-button-type":t.buyButtonType,"button-text":t.buttonText,"show-sold-num":t.showSoldNum,"show-corner-mark":t.showCornerMark,"corner-mark-type":t.cornerMarkType,"corner-mark-image":t.cornerMarkImage,"image-ratio":t.imageRatio,"image-fill-style":t.imageFillStyle,"show-more-button":t.showMoreButton,"more-button-type":t.moreButtonType,"more-url":t.moreUrl,"page-margin":t.pageMargin,"goods-margin":t.goodsMargin,"text-align-type":t.textAlignType,"text-style-type":t.textStyleType,"border-radius-type":t.borderRadiusType,"show-ump-ambience":t.showUmpAmbience,"open-swipe-pagination":t.openSwipePagination},on:{"buy-btn-click":t.handleBuyBtnClick,"load-more":t.handleLoadMore},scopedSlots:t._u([{key:"activity-type-info",fn:function(e){return[e.goodsInfo.preSale?n("cap-theme-view",{staticClass:"cap-goods-list__presale-tag",attrs:{bg:"general",opacity:.6}},[t._v("\n      预售\n    ")]):t._e()]}},{key:"expand",fn:function(e){return[e.goodsInfo.showWorkProcess?n("cap-work-sell-stock",{attrs:{"goods-info":e.goodsInfo}}):t._e()]}},{key:"item-bottom",fn:function(e){return[e.goodsInfo.showWorkProcess?n("cap-work-process",{attrs:{"goods-info":e.goodsInfo}}):t._e()]}}])})},staticRenderFns:[],name:"new-goods",components:(o={},o[r.a.name]=r.a,o[c.b.name]=c.b,o[p.name]=p,o[y.name]=y,o),mixins:[a.a,s.a],props:{showOriginPrice:{type:Boolean,default:!1}},computed:{curGoodsList:function(){var t=this.list;return(void 0===t?[]:t).map((function(t){return t.isSoldout=2==+t.soldStatus&&0!=+t.buyWay,t}))}},methods:{handleBuyBtnClick:function(t){this.$emit("buy-btn-click",t)},setBuyBtnLoading:function(t,e){this.$refs.commonGoodsLayout.setBuyBtnLoading(t,e)}}});e.a=b},aKc7:function(t,e,n){"use strict";var i=n("5yqI");n.n(i).a},aO3b:function(t,e,n){t.exports=n("oxns")("aO3b")},aUzE:function(t,e,n){t.exports=function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var n={config:function(){return!1},paasLog:function(){return!1}};function i(t){var e=window.StackTraceLogger||n,i=t.name,o=t.message,r=t.level;return e.paasLog({appName:"assets-dynamic-libs",logIndex:"jserror_log",name:"vue-components-injector[1.0.8], "+i,message:JSON.stringify(o),level:r})}var o=function(){this.pool={}};o.prototype.$emit=function(t,e){try{var n=this.pool[t]||[];0===n.length?(this.pool[t]=[],this.pool[t].cacheEmit=!0,this.pool[t].e=e):(this.pool[t].cacheEmit=!1,this.pool[t].e=null),n.forEach((function(t){t(e)}))}catch(e){i({name:"evemt: emit, type: "+t,message:e.message,level:"error"})}},o.prototype.$on=function(t,e,n){var o=t+"-"+e;try{this.pool[o]?(this.pool[o].cacheEmit&&n(this.pool[o].e),this.pool[o].push(n)):this.pool[o]=[n]}catch(n){i({name:"event: on, type: "+t+", src: "+e,message:n.message,level:"error"})}};var r=new o,a=function(t){return t?t.error+" | "+t.message+" | "+JSON.stringify(t)+" | "+(t&&t.valueOf&&t.valueOf()):""},s=function(t){return"VUE_COMPONENTS_INJECTOR_"+t};function c(t,e,n,i,o,r,a,s,c,u){"boolean"!=typeof a&&(c=s,s=a,a=!1);var l,d="function"==typeof n?n.options:n;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),i&&(d._scopeId=i),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=l):e&&(l=a?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),l)if(d.functional){var p=d.render;d.render=function(t,e){return l.call(e),p(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,l):[l]}return n}var u={name:"async-component",computed:{useLoading:function(){return this.$props[s("loadingConfig")]},style:function(){return this.useLoading&&this.$props[s("loadingConfig")].style},content:function(){return this.useLoading&&this.$props[s("loadingConfig")].content},contentIsString:function(){return this.useLoading&&"string"==typeof this.$props[s("loadingConfig")].content}},methods:{useBackup:function(){var t=this.$props[s("loadBackup")],e=this.$props[s("prefix")],n=this.$props[s("globalName")];window[e]=window[e]||{},window[e][n]=t,this.comp=t}},errorCaptured:function(t,e,n){return i({name:"[3] [errorCaptured] componentName: "+this.$props[s("globalName")]+", link: "+this.$props[s("link")]+" |",message:a(t),level:"error"}),this.useBackup(),!1},data:function(){return{comp:""}},created:function(){var t=this,e=this.$props[s("prefix")],n=this.$props[s("globalName")],o=this.$props[s("link")],c=this.$props[s("uuid")];try{if(!o)return void this.useBackup();if(window[e]&&window[e][n])return void(this.comp=window[e][n]);r.$on("load",c,(function(){window[e]&&window[e][n]?t.comp=window[e][n]:t.useBackup()})),r.$on("error",c,(function(e){t.useBackup(),"no source cdn"!==e.message?i({name:"[4] componentName: "+n+", link: "+o+" | ",message:"load js fail: "+a(e),level:"info"}):i({name:"[5] componentName: "+n+", link: "+o+" | ",message:a(e),level:"info"})}))}catch(t){this.useBackup(),i({name:"[6] componentName: "+n+", link: "+o+" | ",message:a(t),level:"error"})}}},l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n(t.comp,t._g(t._b({tag:"component"},"component",t.$attrs,!1),t.$listeners)),t._v(" "),!t.comp&&t.useLoading?t._t("default",[n("div",{style:t.style},[t.contentIsString?t._e():n("loading-content"),t._v(" "),t.contentIsString?n("div",[t._v(t._s(t.content))]):t._e()],1)]):t._e()],2)};l._withStripped=!0;var d,p=c({render:l,staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0),f="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function h(t){return function(t,e){return function(t,e){var n=f?e.media||"default":t,i=m[n]||(m[n]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);var o=e.source;if(e.map&&(o+="\n/*# sourceURL="+e.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),void 0===d&&(d=document.head||document.getElementsByTagName("head")[0]),d.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(o),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var r=i.ids.size-1,a=document.createTextNode(o),s=i.element.childNodes;s[r]&&i.element.removeChild(s[r]),s.length?i.element.insertBefore(a,s[r]):i.element.appendChild(a)}}}(t,e)}}var m={},g={name:"loading"},v=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vue-componennts-injector-loading"})};v._withStripped=!0;var y=c({render:v,staticRenderFns:[]},(function(t){t&&t("data-v-8505e488_0",{source:"\n.vue-componennts-injector-loading[data-v-8505e488] {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n}\n",map:{version:3,sources:["/Users/kaite/Documents/youzan/fe-assets/assets-h5-components/packages/vue-components-injector/src/loading.vue"],names:[],mappings:";AAaA;EACA,aAAA;EACA,YAAA;EACA,mBAAA;EACA,uBAAA;AACA",file:"loading.vue",sourcesContent:["<template>\n  <div class=\"vue-componennts-injector-loading\"></div>\n</template>\n\n<script>\nimport Vue from 'vue';\n\nexport default {\n  name: 'loading',\n};\n<\/script>\n\n<style lang=\"css\" scoped>\n.vue-componennts-injector-loading {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n"]},media:void 0})}),g,"data-v-8505e488",!1,void 0,!1,h,void 0,void 0);function b(t,e){if(t){var n=document.createElement("script");n.src=t,n.onload=function(t){r.$emit("load-"+e,t)},n.onreadystatechange=function(t){"complete"!==this.readyState&&"loaded"!==this.readyState||r.$emit("load-"+e,t)},n.onerror=function(t){r.$emit("error-"+e,t)},document.body.appendChild(n)}else r.$emit("error-"+e,new Error("no source cdn"))}var _=/\.js$/,k=/\.css$/;return function(n){var o,c=n.loadBackup,u=n.link,l=n.preload;void 0===l&&(l=[]);var d=n.globalName,f=n.prefix;void 0===f&&(f="__h5Cpns");var h=n.loadingConfig,m=n.params;void 0===m&&(m={}),l.length>0&&l.forEach((function(t){var e,n;_.test(t)&&b(t,"pre"),k.test(t)&&(e=t,(n=document.createElement("link")).rel="stylesheet",n.type="text/css",n.href=e,document.getElementsByTagName("head")[0].appendChild(n))}));var g=Math.random().toString(32);try{return _.test(u)?b(u,g):u&&e({url:u,options:{useCdn:!0},data:m}).then((function(t){b(t,g)})).catch((function(t){r.$emit("error-"+g,t),i({name:"[1] componentName: "+d+", link: "+u+" | ",message:a(t),level:"info"})})),h&&(h.style=h.style||{height:"100%",display:"flex","align-items":"center","justify-content":"center"},h.content=h.content||y),t.extend({mixins:[p],components:{"loading-content":h?h.content:y},props:(o={},o[s("loadBackup")]={default:function(){return c}},o[s("prefix")]={default:function(){return f}},o[s("link")]={default:function(){return u}},o[s("globalName")]={default:function(){return d}},o[s("uuid")]={default:function(){return g}},o[s("loadingConfig")]={default:function(){return h}},o)})}catch(t){i({name:"[2] componentName: "+d+", link: "+u+" | ",message:a(t),level:"error"})}}}(n("Kw5r"),n("978+"))},auL8:function(t,e,n){"use strict";n.d(e,"c",(function(){return Y})),n.d(e,"a",(function(){return K})),n.d(e,"b",(function(){return Q}));n("ma9I"),n("QWBl"),n("E9XD"),n("zKZe"),n("07d7"),n("5s+n"),n("FZtP"),n("5+UC");var i,o,r=n("05lO"),a=n("Kw5r"),s=n("3OWR"),c=n.n(s),u=n("nPta"),l=n.n(u),d=n("mFPD"),p=n("DIQr"),f=n("QumR"),h=(n("pDQq"),n("qePV"),n("toAj"),n("ZrlO"),n("tlDm")),m=(n("5BUu"),n("K16X")),g=n("TQFM"),v=n.n(g),y=n("F+bm"),b=n.n(y),_=n("g1MV"),k=n("E0j1"),w=n("iIFF"),S=n("f4ya"),C=n.n(S),P=n("MJIl"),x=n.n(P),O=n("xkGU"),T=n.n(O),I=n("sEfC"),A=n.n(I),B=(n("Xxoj"),n("o+KP")),j={name:"activity-price",components:(i={},i[B.default.name]=B.default,i),props:{price:[String,Number],priceTitle:String,selectedSkuComb:Object,propPrice:String,noneSku:Boolean},computed:{activityTitle:function(){return this.selectedSkuComb?this.noneSku||this.selectedSkuComb.is_activity?this.priceTitle:"":this.priceTitle},goodsPrice:function(){return this.selectedSkuComb?(this.selectedSkuComb.price/100).toFixed(2):this.price}}},D=(n("+QBe"),n("KHd+")),E=Object(D.default)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"van-sku__goods-price van-sku__goods-price--activity"},[n("span",{staticClass:"van-sku__price-symbol"},[t._v("￥")]),n("span",{staticClass:"van-sku__price-num"},[t._v(t._s(t.propPrice||t.goodsPrice))]),t.activityTitle?n("van-tag",{staticClass:"theme__color theme__border",attrs:{type:"danger",plain:""}},[t._v("\n    "+t._s(t.activityTitle)+"\n  ")]):t._e()],1)}),[],!1,null,null,null).exports,L=n("oyFk"),N=n.n(L),M={name:"feed-price",props:{price:[String,Number],selectedSkuComb:Object,currentGoodsFeed:Object},computed:{goodsFeedPrice:function(){var t=0;return T()(this.currentGoodsFeed,(function(e){T()(e,(function(e){t+=e.price}))})),t},goodsPrice:function(){return null!==this.selectedSkuComb?N()(100*+this.price+ +this.goodsFeedPrice,!0):this.price}}},F=Object(D.default)(M,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"van-sku__goods-price"},[e("span",{staticClass:"van-sku__price-symbol"},[this._v("￥")]),e("span",{staticClass:"van-sku__price-num"},[this._v(this._s(this.goodsPrice))])])}),[],!1,null,null,null).exports,R={name:"feed-row",props:{feedRow:Object}},U=Object(D.default)(R,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"van-sku-row"},[e("div",{staticClass:"van-sku-row__title"},[this._v(this._s(this.feedRow.ingredient_type_name)+":")]),this._t("default",null,{isRadio:this.feedRow.is_radio,feedId:this.feedRow.ingredient_type_id})],2)}),[],!1,null,null,null).exports,W={name:"feed-row-item",props:{feedValue:Object,isRadio:Number,feedId:Number,currentGoodsFeed:Object},computed:{isChoosed:function(){var t=this,e=this.currentGoodsFeed;if("{}"!==JSON.stringify(e)&&e[this.feedId])return x()(e[this.feedId],(function(e){return e.goods_id===t.feedValue.goods_id}))},isChoosable:function(){return!0}},methods:{onSelect:function(){var t={feedId:this.feedId,feedValue:Object.assign({},this.feedValue),isRadio:this.isRadio};this.$emit("updateGoodsFeed",t)}}},G=Object(D.default)(W,(function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"van-sku-row__item",class:{"van-sku-row__item--active":this.isChoosed,"van-sku-row__item--disabled":!this.isChoosable},on:{click:this.onSelect}},[e("span",{staticClass:"van-sku-row__item-name"},[this._v("\n    "+this._s(this.feedValue.title)+"\n  ")])])}),[],!1,null,null,null).exports,$=window._global,q={name:"goods-sku",components:{"van-sku":m.a,"van-button":h.default,ActivityPrice:E,FeedPrice:F,FeedRow:U,FeedRowItem:G},props:{show:Boolean,value:Boolean,goodsId:String,sku:{type:Object,default:function(){return{tree:[],list:[],messages:[]}}},goods:{type:Object,default:function(){return{}}},isAddWish:Boolean,hideStock:Boolean,canAddCart:Boolean,showBuyBtn:Boolean,showActivityPrice:Boolean,activityTitle:String,postage:[Number,String],startSaleNum:{type:Number,default:1},itemSalePropList:{type:Array,default:function(){return[]}},quota:{type:Number,default:0},quotaUsed:{type:Number,default:0}},data:function(){return{messageConfig:{uploadImg:this.uploadImg,uploadMaxSize:15},ajaxing:!1,closeOnClickOverlay:!1,goodsFeed:{},propPrice:""}},computed:{goodsData:function(){return{picture:this.goods.picture,title:this.goods.title}},showAddCartBtn:function(){return this.canAddCart&&this.showBuyBtn&&!this.isAddWish},showAddCartOnly:function(){return this.canAddCart&&!this.showBuyBtn},buyBtnText:function(){return this.isAddWish?"下一步":this.showAddCartOnly?"加入购物车":"立即购买"},feedListData:function(){var t=this.sku.catering_goods_extra_model||{};return t&&t.ingredient_list?t.ingredient_list:[]},presaleInfo:function(){var t=this.sku.pre_sale_extra_model;if(!t)return{};var e=b()(t),n=e.preSaleEnd,i=e.preSaleStart,o=e.etdDays,r=e.etdStart,a=e.etdType,s=e.deposit,c=e.maxDeposit,u=e.minDeposit,l=e.depositRatio,d=Date.now()>n,p=Date.now()<i,f="";f=1==+a?"尾款支付"+o+"天后发货":this.parseDateToString(r)+" 开始发货";var h=this.parseDateToString(n)+" 预售结束";return{presaleStartTimeStr:this.parseDateToString(i)+" 预售开始",presaleEndTimeStr:h,presaleShipTimeStr:f,presaleOutDate:d,presaleNotBegin:p,deposit:s,maxDeposit:c,minDeposit:u,depositRatio:l}},presaleDeposit:function(){var t=(this.sku.pre_sale_extra_model||{}).sku_deposit_models,e={};return(void 0===t?[]:t).reduce((function(t,e){return t[e.sku_id]=e.deposit,t}),e),e},isDeposit:function(){var t=this.presaleInfo;return!(!t||!t.deposit&&0!==t.deposit)},depositPrice:function(){var t=this.presaleInfo;return this.presaleCentToYuan(t.minDeposit)+" - "+this.presaleCentToYuan(t.maxDeposit)},showSkuActionSlot:function(){return this.isDeposit?"sku-actions":""},showSkuHeaderPriceSlot:function(){var t=this.feedListData.length>0;return this.isDeposit||t||this.showActivityPrice?"sku-header-price":""}},watch:{sku:function(){this.propPrice=""},show:function(){this.goodsFeed={}}},created:function(){this.debouncedCalcPrice=A()(this.calcPrice,300)},methods:{presaleCentToYuan:function(t){return t>10&&(t-=t%10),t<1&&(t=1),(t/100).toFixed(2)},getPresalePrice:function(t){var e=this.presaleDeposit,n=this.presaleInfo,i=e[t.selectedSkuComb.id]||n.deposit||t.selectedSkuComb.price*n.depositRatio*.01;return this.presaleCentToYuan(i)},onSelected:function(t){var e=t.selectedSkuComb;this.updatePropPrice(e)},onPropSelected:function(t){var e=t.selectedSkuComb;this.updatePropPrice(e)},updatePropPrice:function(t){this.itemSalePropList.length&&t&&t.properties?this.debouncedCalcPrice(t):this.propPrice=""},calcPrice:function(t){var e=this;f.a.getPrice({itemId:this.goodsId,skuId:t.id,itemSalePropList:t.properties}).then((function(t){t&&void 0!==t.umpTotalPrice&&(e.propPrice=(t.umpTotalPrice/100).toFixed(2))}))},onBuyClicked:function(t){var e=this;if(!this.ajaxing)if(this.isAddWish)this.addWish(t);else if(!this.showAddCartOnly||this.isDeposit){Q("buyNow",this.goodsData,t);var n=f.a.getBuyData(Object.assign({gdtId:v.a.getItem("gdt-click-id"),postage:this.postage},t,{goodsFeed:this.goodsFeed}));window.yzlogInstance&&window.yzlogInstance.log({et:"click",ei:"buy",en:"立即购买"}),this.ajaxing=!0,f.a.goToBuy(n).then((function(t){var n=t.buyUrl||$.url.trade+t.url;n=C.a.add(n,{showwxpaytitle:1,kdt_id:$.kdt_id,book_key:t.key}),Object(p.h)(Object(_.a)(n)),e.ajaxing=!1})).catch((function(t){Object(r.default)(t),e.ajaxing=!1}))}else this.onAddCartClicked(t)},onAddCartClicked:function(t){var e=this;if(!this.ajaxing){var n,i="{}"!==JSON.stringify(this.goodsFeed);n=i?f.a.getBatchAddCartData(Object.assign({postage:this.postage},t,{goodsFeed:this.goodsFeed})):f.a.getAddCartData(Object.assign({postage:this.postage},t)),f.a.makeAddCartLog(n),this.ajaxing=!0,f.a.addToCart(n).then((function(){e.ajaxing=!1,Object(r.default)("已成功添加到购物车"),f.a.syncCartChecked(t),w.a.$emit("addCartSuccess",n.num),Q("addToCart",e.goodsData,t),e.$emit("input",!1)})).catch((function(t){e.ajaxing=!1,Object(r.default)(t)}))}},addWish:function(t){var e=this;if(!this.ajaxing){var n=f.a.getAddCartData(Object.assign({postage:this.postage},t));this.ajaxing=!0,f.a.addWish(n).then((function(){Object(r.default)("添加心愿成功"),e.ajaxing=!1,e.$emit("input",!1)})).catch((function(t){e.ajaxing=!1,Object(r.default)(t)}))}},uploadImg:function(t){return Object(k.a)(t).then((function(t){return $.url.imgqn+"/"+t.data.attachment_file}))},leftPad:function(t){return t>9?t:"0"+t},parseDateToString:function(t){var e=new Date(t);return this.leftPad(e.getMonth()+1)+"."+this.leftPad(e.getDate())+" "+this.leftPad(e.getHours())+":"+this.leftPad(e.getMinutes())+":"+this.leftPad(e.getSeconds())},onUpdateGoodsFeed:function(t){var e=t.feedId,n=t.feedValue,i=t.isRadio;if("{}"!==JSON.stringify(this.goodsFeed)){var o=this.goodsFeed;if(i){x()(o[e],(function(t){return t.goods_id===n.goods_id}))?delete o[e]:o[e]=[n]}else{var r=!1;T()(o,(function(t,i){if(+i===e){r=!0;var a=!1;T()(t,(function(i,r){if(i&&i.goods_id===n.goods_id){if(1===t.length)return void delete o[e];t.splice(r,1),a=!0}})),a||t.push(n)}})),r||(o[e]=[n])}this.goodsFeed=Object.assign({},o)}else{var a,s=((a={})[e]=[n],a);this.goodsFeed=Object.assign({},s)}}}},H=(n("5pB8"),Object(D.default)(q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("van-sku",{attrs:{sku:t.sku,quota:t.quota,"quota-used":t.quotaUsed,goods:t.goods,"goods-id":t.goodsId,"hide-stock":t.hideStock,"show-add-cart-btn":t.showAddCartBtn,"reset-stepper-on-hide":!0,"message-config":t.messageConfig,"buy-text":t.buyBtnText,"close-on-click-overlay":t.closeOnClickOverlay,"start-sale-num":t.startSaleNum,properties:t.itemSalePropList},on:{"sku-selected":t.onSelected,"sku-prop-selected":t.onPropSelected,"buy-clicked":t.onBuyClicked,"add-cart":t.onAddCartClicked},scopedSlots:t._u([{key:t.showSkuActionSlot,fn:function(e){return[n("div",{staticClass:"van-sku-actions"},[n("van-button",{staticClass:"presale-intro-button"},[t.presaleInfo.presaleNotBegin?n("div",{staticClass:"presale-intro-button__wrap"},[n("span",[t._v(t._s(t.presaleInfo.presaleStartTimeStr))])]):n("div",{staticClass:"presale-intro-button__wrap"},[n("span",[t._v(t._s(t.presaleInfo.presaleEndTimeStr))]),n("span",[t._v(t._s(t.presaleInfo.presaleShipTimeStr))])])]),t.presaleInfo.presaleOutDate||t.presaleInfo.presaleNotBegin?n("van-button",{attrs:{square:"",size:"large",type:t.presaleInfo.presaleOutDate?"disabled":"primary",disabled:""}},[t._v("\n        "+t._s(t.presaleInfo.presaleOutDate?"已结束":"活动未开始")+"\n      ")]):n("van-button",{attrs:{square:"",size:"large",type:"primary"},on:{click:function(t){e.skuEventBus.$emit("sku:buy")}}},[t._v("\n        支付定金\n      ")])],1)]}},{key:t.showSkuHeaderPriceSlot,fn:function(e){return[t.feedListData.length>0?[n("feed-price",{attrs:{price:e.price,"selected-sku-comb":e.selectedSkuComb,"current-goods-feed":t.goodsFeed}})]:t.isDeposit?[n("div",{staticClass:"presale-wrap"},[n("div",{staticClass:"van-sku__presale-price"},[n("span",{staticClass:"van-sku__presale-label"},[t._v("定金：￥")]),e.selectedSkuComb?n("span",{staticClass:"van-sku__presale-price-number"},[t._v(t._s(t.getPresalePrice(e)))]):t._e(),!e.selectedSkuComb&&t.sku?n("span",{staticClass:"van-sku__presale-price-number"},[t._v(t._s(t.depositPrice))]):t._e()]),n("div",{staticClass:"van-sku__goods-price-wrap"},[n("div",{staticClass:"van-sku__goods-price-label"},[t._v("\n            总价：\n          ")]),n("div",{staticClass:"van-sku__goods-price"},[n("span",{staticClass:"van-sku__price-symbol"},[t._v("￥")]),n("span",{staticClass:"van-sku__price-num"},[t._v(t._s(e.price))])])])])]:n("activity-price",{attrs:{"selected-sku-comb":e.selectedSkuComb,price:e.price,"price-title":t.activityTitle,"prop-price":t.propPrice,"none-sku":t.sku.none_sku}})]}}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[t.feedListData.length>0?n("template",{slot:"extra-sku-group"},[n("div",{staticClass:"van-sku-group-container van-hairline--bottom"},t._l(t.feedListData,(function(e,i){return n("feed-row",{key:i,attrs:{"feed-row":e},scopedSlots:t._u([{key:"default",fn:function(i){return t._l(e.ingredient_details,(function(e,o){return n("feed-row-item",{key:o,attrs:{"feed-value":e,"is-radio":i.isRadio,"feed-id":i.feedId,"current-goods-feed":t.goodsFeed},on:{updateGoodsFeed:t.onUpdateGoodsFeed}})}))}}])})})),1)]):t._e()],2):t._e()}),[],!1,null,null,null).exports),V=window._global,z=function(t){Object(p.h)("/v2/goods/"+t)};var Y=function(t){return new Promise((function(e,n){o||((o=new(a.default.extend(H))({el:document.createElement("div")})).$on("input",(function(t){o.value=t})),document.body.appendChild(o.$el)),c()(o,{show:!1});var i=t.goodsId,s=t.alias,u=t.goods,d=t.postage,h=t.isVirtual,m=t.preSale,g=void 0!==m&&m,v=t.isAddWish,y=void 0!==v&&v;if(3==+h)return z(s),Promise.reject();var b=V.isWeapp;f.a.getGoodsSkuV2(s,i).then((function(t){if(!t||t.jumpToGoodsPage)return z(s),Promise.reject();var n=t=function(t){var e=t.list,n=t.itemActivitySpuModels,i=t.price,o=t.item_sale_prop_list||[],r=[].concat(e),a=i,s=!1,c="";return n&&n.length&&n.forEach((function(t){if("customerDiscount"===t.type||"timelimitedDiscount"===t.type){var e=t.list,n=t.minPrice,i=t.maxPrice,o=t.priceTitle;c||(c=o);var u=e.reduce((function(t,e){var n=e.id,i=e.price;return t[n]={discountPrice:i},t}),{});a=n===i?""+Object(p.a)(n):Object(p.a)(n)+" - "+Object(p.a)(i),r.forEach((function(t){var e=u[t.id].discountPrice;e&&t.price!==e&&(t.price=e,t.isActivity=!0)})),s=!0}})),o.length&&(s=!0),Object.assign({},t,{price:a,list:r,activityTitle:c,showActivityPrice:s})}(t),a=n.stockNum,m=n.hideStock,v=n.noneSku,_=n.collectionId,k=n.option,S=void 0===k?{}:k,C=n.messages,P=void 0===C?[]:C,x=n.price,O=n.itemSalePropList,T=n.quota,I=n.quotaUsed,A=n.itemDataModel,B=n.activityTitle,j=n.showActivityPrice,D=t.cateringGoodsExtraModel&&t.cateringGoodsExtraModel.ingredientList||[],E=A.startSaleNum||1;if(!a)return Promise.reject("该商品已售罄!");var L=!S.hideCart&&!V.shop_settings.is_cart_hidden&&!g,N=1==+(V.mall_shop_config||V.shop_settings||{}).show_buy_btn&&!b,M=P&&P.length>0;if(!L&&b)return Promise.reject("该商品不支持加入购物车!");if(v&&!N&&L&&!M&&!D.length&&E<=1&&(!O||!O.length)){var F={goodsId:i,messages:{},cartMessages:{},selectedNum:1,selectedSkuComb:{id:_,stock_num:a,price:x}},R=f.a.getAddCartData(Object.assign({postage:d},F));return f.a.makeAddCartLog(R),f.a.addToCart(R).then((function(){Object(r.default)("已成功添加到购物车"),f.a.syncCartChecked(F),w.a.$emit("addCartSuccess",R.num);var t={picture:u.picture,title:u.title};Q("addToCart",t,F)})).catch((function(t){Object(r.default)(t)})),Promise.reject()}var U=l()(t);c()(o,{goodsId:i,goods:u,postage:d,isVirtual:h,isAddWish:y,show:!0,value:!0,sku:U,hideStock:m,canAddCart:L,activityTitle:B,showActivityPrice:j,showBuyBtn:N,startSaleNum:E,itemSalePropList:U.item_sale_prop_list||[],quota:T,quotaUsed:I}),e()})).catch((function(t){t&&Object(r.default)(t),n(t)}))}))},K=function(t){var e=t.buyWay,n=t.url;return window._global.isCloseBusiness?(Object(r.default)("店铺当前处于非营业状态, 不可添加"),!1):V.platformInfo.is_mobile?V.isHqShopPreview?(Object(r.default)("总店预览不支持购买，请切换门店并在手机上操作"),!1):0!=+e||(Object(p.h)(n),!1):(Object(r.default)("预览不支持进行购买，实际效果请在手机上进行。"),!1)},Q=function(t,e,n){try{var i=e.picture,o=e.title,r=void 0===o?"":o;i&&d.action.doAction({action:t,goods_cover:i,item_id:n.goodsId||0,sku_id:n.selectedSkuComb.id,pay_price:n.selectedSkuComb.price,num:n.selectedNum,alias:"",title:r})}catch(t){}}},"b+Si":function(t,e,n){"use strict";var i=n("sEfC"),o=n.n(i),r=n("0o+3"),a=(n("ma9I"),n("yXV3"),n("mwIZ")),s=n.n(a),c=n("MJIl"),u=n.n(c),l=n("Im9W"),d=n.n(l),p=(s()(window,"_global.backgroundColor","#f9f9f9"),s()(window,"_global.template_id",0)),f=["link","line","text","cube","white","store","title","notice","search","cube_v2","cube_v3","image_ad","rich_text","title_text","social_fans","related_link","edu-regis-form","image_text_nav","shop_banner_weapp"],h=["rich_text"],m=["contact_us"],g=[].concat(f,["audio","video","goods","coupon","bargain","teacher","groupon","tag_goods","paid_live","note_card","period_buy","paid_column","paid_member","ump_seckill","paid_content","points_goods","tag_list_top","tag_list_left","knowledge-goods","oriented_poster","goods_recommend","ump_limitdiscount","offline_shop_info"],h,m),v=location.href.indexOf("YZBCTest")>-1,y=(d.a.isWeixin()||v)&&!(83==+p)&&u()([/\/(v2|wscshop)\/(showcase\/)?(homepage|home)/,/\/(v2|wscshop)\/(showcase\/)?feature(?!\/goods\/all)/,/\/(v2|wscshop)\/(showcase\/)?tag/,/\/wscshop\/feature\/goods\/all/],(function(t){return t.test(location.href)})),b=function(t){return y&&function(t){return u()(g,(function(e){return e===t}))}(t)},_={props:{eventBus:{type:Object,default:function(){return{}}},isBackForward:Boolean,lazyKey:String},computed:{useAsyncComponentCheckHeight:function(){return b(this.componentData.type)}},data:function(){return{debounceComponentCheckHeight:null}},created:function(){this.isBackForward?this.debounceComponentCheckHeight=o()(this.componentCheckHeight,900):this.debounceComponentCheckHeight=this.componentCheckHeight},mounted:function(){var t=this;switch(function(t){return u()(f,(function(e){return e===t}))?"NORMAL_LIST":u()(h,(function(e){return e===t}))?"SPECIAL_LIST":!!u()(m,(function(e){return e===t}))&&"FILTER_LIST"}(this.componentData.type)){case"NORMAL_LIST":this.$nextTick((function(){t.componentCheckHeight("组件挂载完")}));break;case"SPECIAL_LIST":this.$nextTick((function(){t.componentCheckHeight("组件挂载完"),setTimeout((function(){t.componentCheckHeight("我是富文本")}),2e3)}));break;case"FILTER_LIST":this.$nextTick((function(){t.eventBus.$emit("lazy-load:height",{type:t.componentData.type,index:t.componentIndex,msg:"文档流之外",height:0})}))}},methods:{componentCheckHeight:function(t){var e=this;void 0===t&&(t="异步请求完"),this.useAsyncComponentCheckHeight&&this.$nextTick((function(){e.eventBus.$emit&&e.eventBus.$emit("lazy-load:height",{type:e.componentData.type,index:e.componentIndex,msg:t})}))},asyncRequestSuccess:function(){this.debounceComponentCheckHeight()},asyncRequestCatch:function(){this.componentCheckHeight()},setComponentLongList:function(t){var e=t.list,n=void 0===e?[]:e,i=t.page,o=void 0===i?0:i;if(this.useAsyncComponentCheckHeight){var a=this.componentData.type+this.componentIndex,s={};s[a+"list"]=n,s[a+"page"]=o,r.a.setScrollHistory(s)}},getComponentLongList:function(){if(!this.useAsyncComponentCheckHeight)return{list:[],page:0};var t=this.componentData.type+this.componentIndex,e=r.a.getScrollHistory();return{list:e[t+"list"]||[],page:e[t+"page"]||0}}}},k=(n("qePV"),n("mCOH")),w={props:{componentIndex:Number,pageRandomNumber:String,extraLogParams:{type:Object,default:function(){return{}}},loggerName:String,loggerSpm:String},methods:{logger:function(t){return k.YzPageLogger.log(t)},getBannerId:function(t){return void 0===t&&(t=0),this.loggerSpm+"~"+this.loggerName+"."+(this.componentIndex+1)+"~"+t+"~"+this.pageRandomNumber}}};e.a={mixins:[{methods:{pickComponentsUpdate:function(t,e,n){var i=this.componentData.type;if(this.componentData[t]||!1){var o={ctx:this,type:i,index:this.componentIndex,newValue:e,oldValue:n};this.$emit("components-update",o)}}},mounted:function(){this.pickComponentsUpdate("isAsyncPreview")},watch:{componentData:{handler:function(t,e){this.pickComponentsUpdate("isPreview",t,e)},deep:!1}}},w,_],props:{componentData:{type:Object,default:function(){return{}}},globalData:{type:Object,default:function(){return window._global||{}}}}}},b1O7:function(t,e,n){var i=n("g6v/"),o=n("33Wh"),r=n("/GqU"),a=n("0eef").f,s=function(t){return function(e){for(var n,s=r(e),c=o(s),u=c.length,l=0,d=[];u>l;)n=c[l++],i&&!a.call(s,n)||d.push(t?[n,s[n]]:s[n]);return d}};t.exports={entries:s(!0),values:s(!1)}},b8cB:function(t,e,n){},bE3m:function(t,e,n){"use strict";var i=n("DIQr"),o={name:"CommonCell",props:{border:{type:Boolean,default:!0},title:{type:String,default:""},url:{type:String,default:""},value:{type:String,default:""},isLink:{type:Boolean,default:!1},valueClass:{type:String,default:"common-cell__value"},titleClass:{type:String,default:"common-cell__title"}},methods:{onClick:function(){this.url&&Object(i.h)(this.url),this.$emit("click")}}},r=(n("uo8u"),n("KHd+")),a=Object(r.default)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("van-cell",{attrs:{title:t.title,value:t.value,"is-link":t.isLink,"value-class":t.valueClass,border:t.border,"title-class":t.titleClass},on:{click:t.onClick}},[t._t("value",null,{slot:"default"})],2)}),[],!1,null,null,null);e.a=a.exports},bNQv:function(t,e,n){var i=n("gFfm"),o=n("SKAX"),r=n("EwQA"),a=n("Z0cm");t.exports=function(t,e){return(a(t)?i:o)(t,r(e))}},"bP5+":function(t,e,n){var i=n("ViXs");t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},bV0N:function(t,e,n){var i=n("FAg5"),o=n("ej1I"),r=n("w/8r"),a=n("hUVY"),s=n("3N6b");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=a,c.prototype.set=s,t.exports=c},bWFh:function(t,e,n){"use strict";var i=n("I+eb"),o=n("2oRo"),r=n("lMq5"),a=n("busE"),s=n("8YOa"),c=n("ImZN"),u=n("GarU"),l=n("hh1v"),d=n("0Dky"),p=n("HH4o"),f=n("1E5z"),h=n("cVYH");t.exports=function(t,e,n){var m=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),v=m?"set":"add",y=o[t],b=y&&y.prototype,_=y,k={},w=function(t){var e=b[t];a(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(r(t,"function"!=typeof y||!(g||b.forEach&&!d((function(){(new y).entries().next()})))))_=n.getConstructor(e,t,m,v),s.REQUIRED=!0;else if(r(t,!0)){var S=new _,C=S[v](g?{}:-0,1)!=S,P=d((function(){S.has(1)})),x=p((function(t){new y(t)})),O=!g&&d((function(){for(var t=new y,e=5;e--;)t[v](e,e);return!t.has(-0)}));x||((_=e((function(e,n){u(e,_,t);var i=h(new y,e,_);return null!=n&&c(n,i[v],i,m),i}))).prototype=b,b.constructor=_),(P||O)&&(w("delete"),w("has"),m&&w("get")),(O||C)&&w(v),g&&b.clear&&delete b.clear}return k[t]=_,i({global:!0,forced:_!=y},k),f(_,t),g||n.setStrong(_,t,m),_}},bZjE:function(t,e,n){var i=n("9gkb");t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},baku:function(t,e,n){"use strict";var i=n("wWYx");n.n(i).a},bn4k:function(t,e,n){var i=n("7x5F"),o=n("6tMj"),r=n("/MDv"),a=n("l9Q+"),s=n("d1dK");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=a,c.prototype.set=s,t.exports=c},bqcR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG").__importDefault(n("GBY4"));t.exports=i.default},by9g:function(t,e,n){t.exports=n("oxns")("by9g")},c162:function(t,e,n){"use strict";var i=n("67WC"),o=n("gdVl"),r=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",(function(t){return o.apply(r(this),arguments)}))},cJ8H:function(t,e,n){},cVYH:function(t,e,n){t.exports=n("/g0A")("cVYH")},cVdX:function(t,e,n){},cblG:function(t,e,n){"use strict";var i=n("ZRDo");n.n(i).a},"cq/+":function(t,e,n){var i=n("mc0g")();t.exports=i},"cr+I":function(t,e,n){t.exports=n("/g0A")("cr+I")},cvCv:function(t,e){t.exports=function(t){return function(){return t}}},cvf0:function(t,e,n){"use strict";var i=n("67WC").exportTypedArrayMethod,o=n("0Dky"),r=n("2oRo").Uint8Array,a=r&&r.prototype||{},s=[].toString,c=[].join;o((function(){s.call({})}))&&(s=function(){return c.call(this)});var u=a.toString!=s;i("toString",s,u)},d0T1:function(t,e,n){t.exports=n("oxns")("d0T1")},d1dK:function(t,e,n){var i=n("ijwV");t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},d6cI:function(t,e){var n=Math.abs,i=Math.pow,o=Math.floor,r=Math.log,a=Math.LN2;t.exports={pack:function(t,e,s){var c,u,l,d=new Array(s),p=8*s-e-1,f=(1<<p)-1,h=f>>1,m=23===e?i(2,-24)-i(2,-77):0,g=t<0||0===t&&1/t<0?1:0,v=0;for((t=n(t))!=t||t===1/0?(u=t!=t?1:0,c=f):(c=o(r(t)/a),t*(l=i(2,-c))<1&&(c--,l*=2),(t+=c+h>=1?m/l:m*i(2,1-h))*l>=2&&(c++,l/=2),c+h>=f?(u=0,c=f):c+h>=1?(u=(t*l-1)*i(2,e),c+=h):(u=t*i(2,h-1)*i(2,e),c=0));e>=8;d[v++]=255&u,u/=256,e-=8);for(c=c<<e|u,p+=e;p>0;d[v++]=255&c,c/=256,p-=8);return d[--v]|=128*g,d},unpack:function(t,e){var n,o=t.length,r=8*o-e-1,a=(1<<r)-1,s=a>>1,c=r-7,u=o-1,l=t[u--],d=127&l;for(l>>=7;c>0;d=256*d+t[u],u--,c-=8);for(n=d&(1<<-c)-1,d>>=-c,c+=e;c>0;n=256*n+t[u],u--,c-=8);if(0===d)d=1-s;else{if(d===a)return n?NaN:l?-1/0:1/0;n+=i(2,e),d-=s}return(l?-1:1)*n*i(2,d-e)}}},d9Jj:function(t,e,n){"use strict";n("QWBl"),n("zKZe"),n("07d7"),n("5s+n");var i=n("KaBt"),o=_global.userStateReady,r=void 0!==o&&o,a=function(){function t(){}var e=t.prototype;return e.ajax=function(t){if(!r)return Promise.reject("网络异常，用户数据获取失败");var e=t.headers,n=void 0===e?{}:e,o=t.data,a=t.errorMsg,s=void 0===a?"网络错误":a;return n=Object.assign({},n),new Promise((function(e,r){return Object(i.a)(Object.assign({},t,{headers:n,data:o,withCredentials:!0}),!0).then((function(t){e(t)})).catch((function(t){if(void 0===t&&(t={}),302===t.code)return r(t);r(t.msg||"string"==typeof t?t:s)}))}))},e.jsonp=function(t){return this.ajax(Object.assign({dataType:"jsonp"},t))},e.logAjaxError=function(t){var e=t.level,n=void 0===e?"warning":e,i=t.method,o=void 0===i?"get":i,r=t.url,a=t.message,s=t.data,c=t.response,u=window.Raven;o=o.toUpperCase();try{u&&u.captureMessage(o+" "+r+" ["+a+"] ",{level:n,logger:"ajax",tags:{Type:"ajax"},extra:{url:r,data:s,method:o,response:c}})}catch(t){}},t}();["get","post","delete","put"].forEach((function(t){a.prototype[t]=function(e){return this.ajax(Object.assign({method:t},e))}})),e.a=new a},"dBg+":function(t,e,n){t.exports=n("/g0A")("dBg+")},"dG/n":function(t,e,n){var i=n("Qo9l"),o=n("UTVS"),r=n("5Tg+"),a=n("m/L8").f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});o(e,t)||a(e,t,{value:r.f(t)})}},dI71:function(t,e,n){"use strict";function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return i}))},dNwI:function(t,e,n){"use strict";e.a={props:{value:{type:Boolean,default:!1}},data:function(){return{showModal:this.value}},watch:{value:function(t){this.showModal=t},showModal:function(t){this.$emit("input",t)}},methods:{handleCloseModal:function(){this.showModal=!1,this.$emit("close")}},mounted:function(){var t=this;this.$nextTick((function(){setTimeout((function(){var e=document.getElementById("module-popup");e&&e.appendChild(t.$el)}),100)}))}}},dOgj:function(t,e,n){"use strict";var i=n("I+eb"),o=n("2oRo"),r=n("g6v/"),a=n("iqeF"),s=n("67WC"),c=n("Yhre"),u=n("GarU"),l=n("XGwC"),d=n("kRJp"),p=n("UMSQ"),f=n("CyXQ"),h=n("GC2F"),m=n("wE6v"),g=n("UTVS"),v=n("9d/t"),y=n("hh1v"),b=n("fHMY"),_=n("0rvr"),k=n("JBy8").f,w=n("oHi+"),S=n("tycR").forEach,C=n("JiZb"),P=n("m/L8"),x=n("Bs8V"),O=n("afO8"),T=n("cVYH"),I=O.get,A=O.set,B=P.f,j=x.f,D=Math.round,E=o.RangeError,L=c.ArrayBuffer,N=c.DataView,M=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,R=s.TypedArray,U=s.TypedArrayPrototype,W=s.aTypedArrayConstructor,G=s.isTypedArray,$=function(t,e){for(var n=0,i=e.length,o=new(W(t))(i);i>n;)o[n]=e[n++];return o},q=function(t,e){B(t,e,{get:function(){return I(this)[e]}})},H=function(t){var e;return t instanceof L||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},V=function(t,e){return G(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},z=function(t,e){return V(t,e=m(e,!0))?l(2,t[e]):j(t,e)},Y=function(t,e,n){return!(V(t,e=m(e,!0))&&y(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?B(t,e,n):(t[e]=n.value,t)};r?(M||(x.f=z,P.f=Y,q(U,"buffer"),q(U,"byteOffset"),q(U,"byteLength"),q(U,"length")),i({target:"Object",stat:!0,forced:!M},{getOwnPropertyDescriptor:z,defineProperty:Y}),t.exports=function(t,e,n){var r=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",c="get"+t,l="set"+t,m=o[s],g=m,v=g&&g.prototype,P={},x=function(t,e){B(t,e,{get:function(){return function(t,e){var n=I(t);return n.view[c](e*r+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,i){var o=I(t);n&&(i=(i=D(i))<0?0:i>255?255:255&i),o.view[l](e*r+o.byteOffset,i,!0)}(this,e,t)},enumerable:!0})};M?a&&(g=e((function(t,e,n,i){return u(t,g,s),T(y(e)?H(e)?void 0!==i?new m(e,h(n,r),i):void 0!==n?new m(e,h(n,r)):new m(e):G(e)?$(g,e):w.call(g,e):new m(f(e)),t,g)})),_&&_(g,R),S(k(m),(function(t){t in g||d(g,t,m[t])})),g.prototype=v):(g=e((function(t,e,n,i){u(t,g,s);var o,a,c,l=0,d=0;if(y(e)){if(!H(e))return G(e)?$(g,e):w.call(g,e);o=e,d=h(n,r);var m=e.byteLength;if(void 0===i){if(m%r)throw E("Wrong length");if((a=m-d)<0)throw E("Wrong length")}else if((a=p(i)*r)+d>m)throw E("Wrong length");c=a/r}else c=f(e),o=new L(a=c*r);for(A(t,{buffer:o,byteOffset:d,byteLength:a,length:c,view:new N(o)});l<c;)x(t,l++)})),_&&_(g,R),v=g.prototype=b(U)),v.constructor!==g&&d(v,"constructor",g),F&&d(v,F,s),P[s]=g,i({global:!0,forced:g!=m,sham:!M},P),"BYTES_PER_ELEMENT"in g||d(g,"BYTES_PER_ELEMENT",r),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",r),C(s)}):t.exports=function(){}},dqo1:function(t,e,n){},dunj:function(t,e,n){var i=n("/9aa");t.exports=function(t,e,n){for(var o=-1,r=t.length;++o<r;){var a=t[o],s=e(a);if(null!=s&&(void 0===c?s==s&&!i(s):n(s,c)))var c=s,u=a}return u}},e4Nc:function(t,e,n){t.exports=n("/g0A")("e4Nc")},e5cp:function(t,e,n){var i=n("fmRc"),o=n("or5M"),r=n("HDyB"),a=n("seXi"),s=n("QqLw"),c=n("Z0cm"),u=n("DSRE"),l=n("c6wG"),d="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,f,h,m){var g=c(t),v=c(e),y=g?"[object Array]":s(t),b=v?"[object Array]":s(e),_=(y="[object Arguments]"==y?d:y)==d,k=(b="[object Arguments]"==b?d:b)==d,w=y==b;if(w&&u(t)){if(!u(e))return!1;g=!0,_=!1}if(w&&!_)return m||(m=new i),g||l(t)?o(t,e,n,f,h,m):r(t,e,y,n,f,h,m);if(!(1&n)){var S=_&&p.call(t,"__wrapped__"),C=k&&p.call(e,"__wrapped__");if(S||C){var P=S?t.value():t,x=C?e.value():e;return m||(m=new i),h(P,x,n,f,m)}}return!!w&&(m||(m=new i),a(t,e,n,f,h,m))}},e6af:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG").__importDefault(n("pIpM"));t.exports={site:function(t,e){void 0===t&&(t=""),void 0===e&&(e="");var n=i.default("env"),o=i.default("url");"static"===e&&"online"===n&&(e="cdn_static");var r=t;return e=e&&o[e]||"",-1===t.search(/^http[s]?:\/\//)&&("/"!==t[0]&&(t="/"+t),r=e+t),r},getCdnImageUrl:function(t,e){if(void 0===e&&(e=""),!t)return i.default("url.cdn_static")+"/image/wap/no_pic.png";var n=t.match(/.+!\d+x\d+.+/),o=t.match(/^(https?:)?\/\//i),r=-1!==t.indexOf("yzcdn.cn/");if(n||e||!r&&o||(e="!100x100.jpg"),!o)return t="/"!==t[0]?"/"+t:t,""+i.default("url.imgqn")+t+e;for(var a=[/^(https?:)?\/\/imgqn.koudaitong.com/,/^(https?:)?\/\/kdt-img.koudaitong.com/,/^(https?:)?\/\/img.yzcdn.cn/,/^(https?:)?\/\/dn-kdt-img.qbox.me/],s=0;s<a.length;s++)t=t.replace(a[s],i.default("url.imgqn"));return t+e}}},eER5:function(t,e,n){t.exports=n("oxns")("eER5")},"eG3/":function(t,e,n){t.exports=n("oxns")("eG3/")},eOum:function(t,e,n){t.exports=n("oxns")("eOum")},eUgh:function(t,e,n){t.exports=n("/g0A")("eUgh")},eawW:function(t,e,n){},ej1I:function(t,e,n){var i=n("bZjE");t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},esGP:function(t,e){},"f/QT":function(t,e,n){"use strict";var i=n("Lh/N");n.n(i).a},f5p1:function(t,e,n){t.exports=n("/g0A")("f5p1")},fBHo:function(t,e,n){"use strict";var i=n("Do2X");n.n(i).a},fH54:function(t,e,n){"use strict";var i=n("9SCZ");n.n(i).a},fH8p:function(t,e,n){},fH9c:function(t,e,n){},fPLo:function(t,e,n){"use strict";var i,o=n("jZ0v"),r={name:"GoodsPrice",components:(i={},i[o.a.name]=o.a,i),state:["goods"],getters:["goodsPriceTag","isDepositPresale","depositPrice","preferentialPriceTag","isVipTag"],computed:{goodsPriceTags:function(){var t=[];return this.isVipTag?t.push("会员价"):this.goodsPriceTag&&t.push(this.goodsPriceTag),t}}},a=(n("WZ0V"),n("KHd+")),s=Object(a.default)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-price"},[n("div",{staticClass:"goods-price__current theme__color"},[t.isDepositPresale?n("div",{staticClass:"goods-price__current-bar"},[n("span",{staticClass:"goods-price__current-label"},[t._v("定金  ")]),n("span",{staticClass:"goods-price__current-label"},[t._v("¥")]),n("i",{staticClass:"goods-price__current-price"},[t._v(t._s(t.depositPrice))])]):n("div",{staticClass:"goods-price__current-bar"},[n("span",{staticClass:"goods-price__current-label"},[t._v("¥")]),n("i",{staticClass:"goods-price__current-price"},[t._v(t._s(t.goods.price))])])]),t.preferentialPriceTag?n("div",{staticClass:"goods-price__coupon-tag theme__background"},[n("span",{staticClass:"goods-price__coupon-tag-pre"},[t._v(t._s(t.preferentialPriceTag.tagPre))]),n("span",{staticClass:"goods-price__coupon-tag-font--xl"},[t._v("\n      "+t._s(t.preferentialPriceTag.price)+"\n    ")]),n("span",{staticClass:"goods-price__coupon-tag-suf"},[t._v(t._s(t.preferentialPriceTag.tagSuf))])]):t._e(),t._l(t.goodsPriceTags,(function(e){return[n("common-tag",{key:e,staticClass:"goods-price__tag",attrs:{"container-style":"theme__background"}},[n("span",{staticClass:"theme__color"},[t._v(t._s(e))])])]}))],2)}),[],!1,null,null,null);e.a=s.exports},fbCW:function(t,e,n){t.exports=n("/g0A")("fbCW")},fdAy:function(t,e,n){t.exports=n("/g0A")("fdAy")},fhKU:function(t,e,n){var i=n("2oRo"),o=n("WKiH").trim,r=n("WJkJ"),a=i.parseFloat,s=1/a(r+"-0")!=-1/0;t.exports=s?function(t){var e=o(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},fmRc:function(t,e,n){t.exports=n("/g0A")("fmRc")},fqLD:function(t,e,n){"use strict";var i=n("1b5v");n.n(i).a},ftKO:function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},gFfm:function(t,e,n){t.exports=n("/g0A")("gFfm")},gFkd:function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},gO4q:function(t,e,n){},gPaA:function(t,e,n){var i=n("dunj"),o=n("ut/Y"),r=n("jSBL");t.exports=function(t,e){return t&&t.length?i(t,o(e,2),r):void 0}},gRnJ:function(t,e,n){var i=n("ViXs");t.exports=function(t){return i(this.__data__,t)>-1}},gdVl:function(t,e,n){"use strict";var i=n("ewvW"),o=n("I8vh"),r=n("UMSQ");t.exports=function(t){for(var e=i(this),n=r(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)e[s++]=t;return e}},geYK:function(t,e,n){t.exports=n("oxns")("geYK")},gnCh:function(t,e,n){t.exports=n("oxns")("gnCh")},gqhG:function(t,e,n){t.exports=n("oxns")("gqhG")},gvgV:function(t,e,n){"use strict";var i=n("67WC"),o=n("TWQb").includes,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",(function(t){return o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},hByQ:function(t,e,n){"use strict";var i=n("14Sl"),o=n("glrk"),r=n("HYAF"),a=n("Ep9I"),s=n("FMNM");i("search",1,(function(t,e,n){return[function(e){var n=r(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var r=o(t),c=String(this),u=r.lastIndex;a(u,0)||(r.lastIndex=0);var l=s(r,c);return a(r.lastIndex,u)||(r.lastIndex=u),null===l?-1:l.index}]}))},hUVY:function(t,e,n){var i=n("bZjE");t.exports=function(t){return i(this,t).has(t)}},heNW:function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},hgQt:function(t,e,n){var i=n("Juji"),o=n("4sDh");t.exports=function(t,e){return null!=t&&o(t,e,i)}},hypo:function(t,e,n){t.exports=n("/g0A")("hypo")},"iIA+":function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},iIFF:function(t,e,n){"use strict";var i=new(n("Kw5r").default);window.goodsSkuEventBus=i,e.a=i},icrw:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return f}));n("2B1R"),n("zKZe");var i=n("f4ya"),o=n.n(i),r=n("6RPb"),a=n.n(r),s=n("F+bm"),c=n.n(s),u=n("oyFk"),l=n.n(u),d=n("YiBa"),p=a()(8);function f(t,e,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),t.map((function(t,r){var a=n.spm+"~"+n.biz+"~"+(r+1)+"~"+p,s={goods_id:t.id+"",item_id:t.id,item_type:"goods",banner_id:a,component:i.name,recommend_name:i.text,component_id:"goods"+r,alg:t.algs};return(t=c()(t)).url=o.a.add(Object(d.c)(t.alias,e),{banner_id:a,alg:s.alg}),t.price=l()(t.price,!0,!1),Object.assign({},t,{loggerParams:s})}))}},ijwV:function(t,e,n){var i=n("RCjy")(Object,"create");t.exports=i},ildf:function(t,e,n){},iqeF:function(t,e,n){var i=n("2oRo"),o=n("0Dky"),r=n("HH4o"),a=n("67WC").NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,c=i.Int8Array;t.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!r((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||o((function(){return 1!==new c(new s(2),1,void 0).length}))},itsj:function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},j0Lq:function(t,e,n){},j4Cs:function(t,e,n){t.exports=n("oxns")("j4Cs")},j6nR:function(t,e,n){"use strict";var i=n("6a90");n.n(i).a},jSBL:function(t,e){t.exports=function(t,e){return t<e}},jZ0v:function(t,e,n){"use strict";var i={name:"common-tag",props:{containerStyle:{type:String,default:""},tagStyle:{type:String,default:""}}},o=(n("pcP5"),n("KHd+")),r=Object(o.default)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common-tag"},[e("div",{staticClass:"common-tag__container",class:this.containerStyle}),e("div",{staticClass:"common-tag__main",class:this.tagStyle},[this._t("default")],2)])}),[],!1,null,null,null);e.a=r.exports},jeLo:function(t,e,n){var i=n("juv8"),o=n("mTTR");t.exports=function(t){return i(t,o(t))}},jntn:function(t,e,n){"use strict";var i=n("3Akv");n.n(i).a},juv8:function(t,e,n){t.exports=n("/g0A")("juv8")},jws0:function(t,e,n){"use strict";var i=n("1sqW");n.n(i).a},k7cP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG").__importDefault(n("XDzS"));t.exports=function(t){return void 0===t&&console.warn("getValidDate function must have a param that instanceof Date"),(t=t||new Date)instanceof Date||("number"==typeof t&&i.default(t)&&(t=new Date(t)),"string"==typeof t&&(i.default(t)||(t=t.replace(/-/g,"/")),i.default(t)&&(t=new Date(t)))),t}},"k9L+":function(t,e,n){},"kJ+Q":function(t,e,n){},kJUz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),o=n("w4Kc"),r=i.__importDefault(n("qjyX"));var a=function(){function t(){this.fetchComponentsPromise=Promise.resolve({}),this.isLoaded=!1,this.beginLoaded=!1,this.fetchComponentsPromise=Promise.resolve({}),this.loadDependencies=this.loadDependencies.bind(this)}return t.prototype.init=function(t){var e,n,i,r,a,s,c;this.fetchComponentsPromise=(e=t,n=this.loadDependencies,i=e.url,r=e.components,a=e.pureComponents,s=e.extraData,c=e.pageQuery,o.loadComponents({url:i,components:r||[],pureComponents:a||[],extraData:s||{},pageQuery:c||{}},n).then((function(){return window.__h5Cpns})))},t.prototype.loadDependencies=function(t){var e=this;return new Promise((function(n){return e.isLoaded?n():e.isLoaded||e.beginLoaded?void r.default.on("loaded",(function(){return n()}),e):(e.beginLoaded=!0,o.loadVersions(t).then((function(){e.isLoaded=!0,r.default.trigger("loaded"),n()})))}))},t.prototype.inject=function(t){var e=this;return function(){return e.fetchComponentsPromise.then((function(e){return Promise.resolve(e[t])}))}},t}(),s=function(){function t(t){this.result=t}return t.prototype.set=function(t,e){Array.isArray(this.result)?this.result.push(t):this.result[e]=t},t.prototype.get=function(){return this.result},t}(),c=new a;e.default=function(t,e){void 0===e&&(e={useObjResult:!1}),c.init(t);var n=new s(e.useObjResult?{}:[]);return(t.pureComponents||[]).forEach((function(t){var e=o.hyphenToCamel(t),i=c.inject(e);n.set(i,t)})),n.get()}},kMbU:function(t,e,n){t.exports=n("oxns")("kMbU")},kOOl:function(t,e,n){t.exports=n("/g0A")("kOOl")},kRJp:function(t,e,n){t.exports=n("/g0A")("kRJp")},klMz:function(t,e,n){t.exports=n("/g0A")("klMz")},koW7:function(t,e,n){t.exports=n("/g0A")("koW7")},l9OW:function(t,e,n){var i=n("SKAX"),o=n("MMmD");t.exports=function(t,e){var n=-1,r=o(t)?Array(t.length):[];return i(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}},"l9Q+":function(t,e,n){var i=n("ijwV"),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:o.call(e,t)}},lFcI:function(t,e,n){"use strict";var i=n("Iotd");n.n(i).a},lMq5:function(t,e,n){t.exports=n("/g0A")("lMq5")},lNwu:function(t,e,n){},lQqw:function(t,e,n){var i=n("MMmD");t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!i(n))return t(n,o);for(var r=n.length,a=e?r:-1,s=Object(n);(e?a--:++a<r)&&!1!==o(s[a],a,s););return n}}},lSCD:function(t,e,n){t.exports=n("/g0A")("lSCD")},lTiy:function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},lgY1:function(t,e,n){"use strict";var i=n("GP9e");n.n(i).a},ljhN:function(t,e,n){t.exports=n("/g0A")("ljhN")},"lm/5":function(t,e,n){var i=n("fmRc"),o=n("wF/u");t.exports=function(t,e,n,r){var a=n.length,s=a,c=!r;if(null==t)return!s;for(t=Object(t);a--;){var u=n[a];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<s;){var l=(u=n[a])[0],d=t[l],p=u[1];if(c&&u[2]){if(void 0===d&&!(l in t))return!1}else{var f=new i;if(r)var h=r(d,p,l,t,e,f);if(!(void 0===h?o(p,d,3,r,f):h))return!1}}return!0}},"m/L8":function(t,e,n){t.exports=n("/g0A")("m/L8")},mISK:function(t,e,n){t.exports=n("oxns")("mISK")},mTTR:function(t,e,n){t.exports=n("/g0A")("mTTR")},mc0g:function(t,e){t.exports=function(t){return function(e,n,i){for(var o=-1,r=Object(e),a=i(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(r[c],c,r))break}return e}}},mfrL:function(t,e,n){},moxL:function(t,e,n){"use strict";var i=n("67WC"),o=n("FF6l"),r=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(t,e){return o.call(r(this),t,e,arguments.length>2?arguments[2]:void 0)}))},"mv/X":function(t,e,n){var i=n("ljhN"),o=n("MMmD"),r=n("wJg7"),a=n("GoyQ");t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&r(e,n.length):"string"==s&&e in n)&&i(n[e],t)}},"n/vM":function(t,e,n){t.exports=n("oxns")("n/vM")},nFlj:function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,o,r=[];for(o in"string"!=typeof e&&(e="?"),t)if(i.call(t,o)){if((n=t[o])||null!=n&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;r.push(o+"="+n)}return r.length?e+r.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,i={};e=n.exec(t);){var r=o(e[1]),a=o(e[2]);null===r||null===a||r in i||(i[r]=a)}return i}},nKNz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG").__importDefault(n("cr+I"));t.exports=i.default},nPta:function(t,e,n){t.exports=n("/g0A")("nPta")},nRFV:function(t,e,n){var i=n("WWEG").Symbol;t.exports=i},nXDD:function(t,e,n){t.exports=n("oxns")("nXDD")},nmnc:function(t,e,n){t.exports=n("/g0A")("nmnc")},nxST:function(t,e,n){t.exports=n("oxns")("nxST")},nyqg:function(t,e,n){},"o+KP":function(t,e,n){t.exports=n("oxns")("o+KP")},o3zH:function(t,e,n){t.exports=n("oxns")("o3zH")},"oHi+":function(t,e,n){var i=n("ewvW"),o=n("UMSQ"),r=n("NaFW"),a=n("6VoE"),s=n("A2ZE"),c=n("67WC").aTypedArrayConstructor;t.exports=function(t){var e,n,u,l,d,p,f=i(t),h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,v=r(f);if(null!=v&&!a(v))for(p=(d=v.call(f)).next,f=[];!(l=p.call(d)).done;)f.push(l.value);for(g&&h>2&&(m=s(m,arguments[2],2)),n=o(f.length),u=new(c(this))(n),e=0;n>e;e++)u[e]=g?m(f[e],e):f[e];return u}},oPJM:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},oUJm:function(t,e,n){t.exports=n("oxns")("oUJm")},or5M:function(t,e,n){var i=n("1hJj"),o=n("QoRX"),r=n("xYSL");t.exports=function(t,e,n,a,s,c){var u=1&n,l=t.length,d=e.length;if(l!=d&&!(u&&d>l))return!1;var p=c.get(t);if(p&&c.get(e))return p==e;var f=-1,h=!0,m=2&n?new i:void 0;for(c.set(t,e),c.set(e,t);++f<l;){var g=t[f],v=e[f];if(a)var y=u?a(v,g,f,e,t,c):a(g,v,f,t,e,c);if(void 0!==y){if(y)continue;h=!1;break}if(m){if(!o(e,(function(t,e){if(!r(m,e)&&(g===t||s(g,t,n,a,c)))return m.push(e)}))){h=!1;break}}else if(g!==v&&!s(g,v,n,a,c)){h=!1;break}}return c.delete(t),c.delete(e),h}},oxns:function(t,e){t.exports=component_8662a480},oyFk:function(t,e,n){t.exports=n("/g0A")("oyFk")},p6v6:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n("QWBl"),n("07d7"),n("5s+n");var i=n("htSs"),o=n("+6Oo"),r=n.n(o),a=n("Q+db"),s=n("pZw8"),c=n("8afP"),u=[],l=!1,d={};function p(t){return function(){return new Promise((function(e,n){!function(t){if(l)return t(d);u.push(t)}((function(i){var o=i[t];if(!o)return n("pure component 中不存在"+t);e(o())}))}))}}i.a.get("goods-detail-user-state").then((function(){if(window._global.userStateReady&&!window._global.ignoreSharedComponents){var t={platform:Object(c.i)(window,"_global.platformInfo.platform",""),pageType:"goods",isFullScreenTpl:!1,isSwan:Object(c.i)(window,"_global.miniprogram.isSwanApp",!1),isOwnerTeam:Object(c.i)(window,"_global.kdt_id","")===r()("kdt_id")};d=Object(a.a)(s.k,s.j,{platform:t.platform,cdnData:t,isComputedPattern:!0}),l=!0,u.forEach((function(t){return t(d)}))}}))},pBqY:function(t,e,n){var i=n("GSn6"),o=n("PHJE"),r=n("bP5+"),a=n("gRnJ"),s=n("BL7D");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=a,c.prototype.set=s,t.exports=c},pDQq:function(t,e,n){"use strict";var i=n("I+eb"),o=n("I8vh"),r=n("ppGB"),a=n("UMSQ"),s=n("ewvW"),c=n("ZfDv"),u=n("hBjN"),l=n("Hd5f"),d=n("rkAj"),p=l("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min;i({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var n,i,l,d,p,f,g=s(this),v=a(g.length),y=o(t,v),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=v-y):(n=b-2,i=m(h(r(e),0),v-y)),v+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=c(g,i),d=0;d<i;d++)(p=y+d)in g&&u(l,d,g[p]);if(l.length=i,n<i){for(d=y;d<v-i;d++)f=d+n,(p=d+i)in g?g[f]=g[p]:delete g[f];for(d=v;d>v-i+n;d--)delete g[d-1]}else if(n>i)for(d=v-i;d>y;d--)f=d+n-1,(p=d+i-1)in g?g[f]=g[p]:delete g[f];for(d=0;d<n;d++)g[d+y]=arguments[d+2];return g.length=v-i+n,l}})},pDob:function(t,e,n){},pEwz:function(t,e,n){t.exports=n("oxns")("pEwz")},pFRH:function(t,e,n){var i=n("cvCv"),o=n("O0oS"),r=n("zZ0H"),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:r;t.exports=a},pGBJ:function(t,e,n){"use strict";var i=n("DIQr"),o={name:"ActivityIntro",props:{title:{type:String,default:""},value:{type:String,default:""},link:{type:String,default:""},isLink:{type:Boolean,default:!0}},methods:{handleClick:function(t){this.link?Object(i.h)(this.link):this.$emit("click",t)}}},r=(n("9NKH"),n("KHd+")),a=Object(r.default)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"activity-intro"},[n("div",{staticClass:"activity-intro__header"},[n("span",{staticClass:"activity-intro__header-text"},[t._v(t._s(t.title))]),n("span",{staticClass:"activity-intro__header-action",class:{"activity-intro__header-action--link":!!t.link},on:{click:t.handleClick}},[t._v("\n      "+t._s(t.value)+"\n      "),t.isLink?n("van-icon",{attrs:{name:"arrow"}}):t._e()],1)]),t._t("default")],2)}),[],!1,null,null,null);e.a=a.exports},pIdj:function(t,e,n){"use strict";var i=n("7Msk");n.n(i).a},pIpM:function(t,e,n){"use strict";var i={env:"",url:{imgqn:"https://img.yzcdn.cn",cdn_static:"https://b.yzcdn.cn/v2",env:"online"}};t.exports=function(t){var e="";try{e=new Function("return window._global."+t)()}catch(t){}if(e)return e;try{e=new Function("var defaultConfig="+JSON.stringify(i)+";return defaultConfig."+t)()}catch(t){}return e}},pNMO:function(t,e,n){"use strict";var i=n("I+eb"),o=n("2oRo"),r=n("0GbY"),a=n("xDBR"),s=n("g6v/"),c=n("STAE"),u=n("/b8u"),l=n("0Dky"),d=n("UTVS"),p=n("6LWA"),f=n("hh1v"),h=n("glrk"),m=n("ewvW"),g=n("/GqU"),v=n("wE6v"),y=n("XGwC"),b=n("fHMY"),_=n("33Wh"),k=n("JBy8"),w=n("BX/b"),S=n("dBg+"),C=n("Bs8V"),P=n("m/L8"),x=n("0eef"),O=n("kRJp"),T=n("busE"),I=n("VpIT"),A=n("93I0"),B=n("0BK2"),j=n("kOOl"),D=n("tiKp"),E=n("5Tg+"),L=n("dG/n"),N=n("1E5z"),M=n("afO8"),F=n("tycR").forEach,R=A("hidden"),U=D("toPrimitive"),W=M.set,G=M.getterFor("Symbol"),$=Object.prototype,q=o.Symbol,H=r("JSON","stringify"),V=C.f,z=P.f,Y=w.f,K=x.f,Q=I("symbols"),Z=I("op-symbols"),J=I("string-to-symbol-registry"),X=I("symbol-to-string-registry"),tt=I("wks"),et=o.QObject,nt=!et||!et.prototype||!et.prototype.findChild,it=s&&l((function(){return 7!=b(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=V($,e);i&&delete $[e],z(t,e,n),i&&t!==$&&z($,e,i)}:z,ot=function(t,e){var n=Q[t]=b(q.prototype);return W(n,{type:"Symbol",tag:t,description:e}),s||(n.description=e),n},rt=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},at=function(t,e,n){t===$&&at(Z,e,n),h(t);var i=v(e,!0);return h(n),d(Q,i)?(n.enumerable?(d(t,R)&&t[R][i]&&(t[R][i]=!1),n=b(n,{enumerable:y(0,!1)})):(d(t,R)||z(t,R,y(1,{})),t[R][i]=!0),it(t,i,n)):z(t,i,n)},st=function(t,e){h(t);var n=g(e),i=_(n).concat(dt(n));return F(i,(function(e){s&&!ct.call(n,e)||at(t,e,n[e])})),t},ct=function(t){var e=v(t,!0),n=K.call(this,e);return!(this===$&&d(Q,e)&&!d(Z,e))&&(!(n||!d(this,e)||!d(Q,e)||d(this,R)&&this[R][e])||n)},ut=function(t,e){var n=g(t),i=v(e,!0);if(n!==$||!d(Q,i)||d(Z,i)){var o=V(n,i);return!o||!d(Q,i)||d(n,R)&&n[R][i]||(o.enumerable=!0),o}},lt=function(t){var e=Y(g(t)),n=[];return F(e,(function(t){d(Q,t)||d(B,t)||n.push(t)})),n},dt=function(t){var e=t===$,n=Y(e?Z:g(t)),i=[];return F(n,(function(t){!d(Q,t)||e&&!d($,t)||i.push(Q[t])})),i};(c||(T((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=j(t),n=function(t){this===$&&n.call(Z,t),d(this,R)&&d(this[R],e)&&(this[R][e]=!1),it(this,e,y(1,t))};return s&&nt&&it($,e,{configurable:!0,set:n}),ot(e,t)}).prototype,"toString",(function(){return G(this).tag})),T(q,"withoutSetter",(function(t){return ot(j(t),t)})),x.f=ct,P.f=at,C.f=ut,k.f=w.f=lt,S.f=dt,E.f=function(t){return ot(D(t),t)},s&&(z(q.prototype,"description",{configurable:!0,get:function(){return G(this).description}}),a||T($,"propertyIsEnumerable",ct,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),F(_(tt),(function(t){L(t)})),i({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=String(t);if(d(J,e))return J[e];var n=q(e);return J[e]=n,X[n]=e,n},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(d(X,t))return X[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(t,e){return void 0===e?b(t):st(b(t),e)},defineProperty:at,defineProperties:st,getOwnPropertyDescriptor:ut}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:lt,getOwnPropertySymbols:dt}),i({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(m(t))}}),H)&&i({target:"JSON",stat:!0,forced:!c||l((function(){var t=q();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}))},{stringify:function(t,e,n){for(var i,o=[t],r=1;arguments.length>r;)o.push(arguments[r++]);if(i=e,(f(e)||void 0!==t)&&!rt(t))return p(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!rt(e))return e}),o[1]=e,H.apply(null,o)}});q.prototype[U]||O(q.prototype,U,q.prototype.valueOf),N(q,"Symbol"),B[R]=!0},pSY7:function(t,e,n){t.exports=n("oxns")("pSY7")},pXUX:function(t,e,n){},pZw8:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"n",(function(){return s})),n.d(e,"o",(function(){return c})),n.d(e,"p",(function(){return u})),n.d(e,"i",(function(){return l})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"q",(function(){return f})),n.d(e,"r",(function(){return h})),n.d(e,"k",(function(){return m})),n.d(e,"j",(function(){return g})),n.d(e,"m",(function(){return v})),n.d(e,"g",(function(){return y})),n.d(e,"c",(function(){return b})),n.d(e,"l",(function(){return _}));n("4mDm"),n("07d7"),n("YGK4"),n("PKPk"),n("3bBZ");var i={deposit:"该店铺已缴纳消费保障保证金，订单维权更快更高效，请放心购买。",isSecuredTransactions:"该店铺交易由有赞提供资金存管服务，当符合以下条件时，资金自动结算给商家：买家确认收货或到达约定的自动确认收货日期。交易资金未经有赞存管的情形（储值型、电子卡券等）不在本服务范围内。",isSecuredTransactionsKuaishou:"店铺交易由有赞提供资金存管服务，当符合以下条件时，资金自动结算给商家：买家确认收货后7天或订单签收后7天。交易资金未经有赞存管的情形（储值型、电子卡券等）不在本服务范围内。",physicalStore:"该店铺拥有线下门店，商家已展示门店信息。",freightInsurance:"商家已提供退货包运费，退货成功可补贴运费，实际赠送情况以订单详情页为准。",unsupportRefund:"此商品不支持买家申请退款。",cashOnDelivery:"此商品支持货到付款。",teamCertificateEstore:"该店铺已通过有赞网店认证（零星小额交易活动），请放心购买。",teamCertificatePerson:"该店铺已通过有赞个人认证（零星小额交易活动），请放心购买。",teamCertificateCompany:"该店铺通过有赞“企业认证”，商家已公示经营证照。",teamCertificateQijian:"该店铺已通过有赞官字店-旗舰店认证，商家已公示经营证照。",teamCertificateZhuanmai:"该店铺已通过有赞官字店-专卖店认证，商家已公示经营证照。",teamCertificateZhiying:"该店铺已通过有赞官字店-直营店认证，商家已公示经营证照。",teamCertificateZhuanying:"该店铺已通过有赞官字店-专营店认证，商家已公示经营证照。",haitaoTaxExtraPays:"您购买的商品不包含跨境电商进口税，您需单独进行支付。",haitaoTaxContains:"您购买的商品已包含跨境电商进口税，您无需再进行支付。",haitaoUnsupportRefund:"本商品不支持7天无理由退货。",supplierDirect:"该商品由合作方直销，由合作方提供货物及售后服务，委托店铺推广代收。",weixinPayOriginMoney:"该商品交易货款将直接支付给商家。",weixinPayOriginAftersale:"由店铺负责发货并提供售后服务。",supportBarter:"支持买家申请退换。",supportUnconditionalReturn:[{text:"请确保商品完好，包邮商品买家承担退货运费，非包邮商品买家承担来回运费。"},{text:"查看规则详情",className:"service-bar__intro-text--blue"}],supportQuickRefund:[{text:"下单成功6小时内，待发货状态下，提交退款申请将会立即退款。"},{text:"查看规则详情",className:"service-bar__intro-text--blue"}]},o={9610:{modeStr:"海外直邮",modeDesc:"本商品由海外直邮。"},1210:{modeStr:"保税发货",modeDesc:"本商品由保税仓发货。"}},r={activityInfo:"",luckyDrawGroup:"23",helpCut:"21",groupOn:"4",ladderGroupOn:"26",tuan:"2",seckill:"6",timelimitedDiscount:"11",pointsExchange:"5",discount:"10",depositExpansion:"114",meetReduce:"101",cashBack:"102",bale:"104",present:"8"},a={ADD_CART:"add_shopping_car",NORMAL_BUY:"click_buy_now",GROUP_BUY:"together_group_purchase",GET_COUPON:"get_coupon",GET_DISCOUNT:"get_discount_code",SIGN_IN:"click_sign_in",POINTS_BUY:"points_exchange"},s={ACT_BUY:"actBuy",NORMAL_BUY:"normalBuy",POINTS_BUY:"pointsBuy",GIFT_BUY:"giftBuy",SEL_SKU:"selSku",ADD_CART:"addCart",ADD_WISH:"addWish",EMPTY:"empty",SHARE:"share",RESERVATION:"reservation",START_CUT:"startCut",FORBID:"forbid",PRESELL:"presell",SELL_OUT:"sellOut",OFF_SHELVES:"offShelves",SALE_REMINDER:"saleReminder"},c=new Set([s.NORMAL_BUY,s.POINTS_BUY,s.SEL_SKU,s.ADD_CART]),u=new Set([s.PRESELL,s.SELL_OUT,s.OFF_SHELVES]),l=new Set([s.ADD_CART,s.NORMAL_BUY]),d={DISTRIBUTION:1,PROMOTION:2},p={OPTIMAL:"optimal",UMP:"ump"},f="；",h={HOLDING:1,VERIFIED:2,UNVERIFIED:3},m=["shop-top-bar","shop-nav","global-salesman-icon-v3","shop-switch-tools","side-bar","shop-ad","floating-nav","simple-valid-phone","footer","back-button"],g=["recommend","showcase-container"],v={LadderGroupOn:"LadderGroupOn",PriceCalendar:"PriceCalendar",PropPrice:"PropPrice",Commit:"Commit",AfterCommit:"AfterCommit"},y={BASE:0,WHITE:1,GREEN:2},b={INIT:0,FLAGSHIP:1,EXCLUSIVE:2,CHAIN:3,BOUTIQUE:4,SHOPPING:5,REJECT:99},_={none:0,pending:1}},pcP5:function(t,e,n){"use strict";var i=n("OuTl");n.n(i).a},pdiw:function(t,e,n){},pdpW:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n("QWBl"),n("tkto"),n("FZtP");var i=n("+6Oo"),o=n.n(i),r=(n("UQhv"),n("B83N")),a=n.n(r),s=n("f4ya"),c=n.n(s),u="cookie",l="query",d={atr_uuid:{transType:u},yzk_ex:{transType:u},pageType:{transType:l},tui_platform:{transType:l},tui_click:{transType:l}};function p(t){var e="";switch(d[t]?d[t].transType:null){case u:e=o()(t);break;case l:e=c.a.get(t)}return e}function f(){var t={};return Object.keys(d).forEach((function(e){t[a()(e)]=p(e)})),t}},pjDv:function(t,e,n){var i=n("I+eb"),o=n("TfTi");i({target:"Array",stat:!0,forced:!n("HH4o")((function(t){Array.from(t)}))},{from:o})},pxog:function(t,e,n){t.exports=n("oxns")("pxog")},q4Uc:function(t,e,n){},qEUg:function(t,e,n){},qXVe:function(t,e,n){"use strict";var i=n("67WC"),o=n("tycR").every,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",(function(t){return o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},qY1R:function(t,e,n){t.exports=n("/g0A")("qY1R")},qYE9:function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},qZTm:function(t,e,n){t.exports=n("/g0A")("qZTm")},qgx4:function(t,e,n){"use strict";var i=n("lNwu");n.n(i).a},qjyX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=/\s+/,o=function(t,e,n,o){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(o));return!1}if(i.test(n)){for(var a=n.split(i),s=0,c=a.length;s<c;s++)t[e].apply(t,[a[s]].concat(o));return!1}return!0},r=function(t,e){var n,i=-1,o=t.length,r=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<o;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,a);return;case 3:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,a,s);return;default:for(;++i<o;)(n=t[i]).callback.apply(n.ctx,e)}},a={_events:{},on:function(t,e,n){return o(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||{}}),this):this},off:function(t,e,n){var i,r,a,s,c,u;if(!this._events||!o(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;var l=t?[t]:Object.keys(this._events);for(a=0,s=l.length;a<s;a++)if(t=l[a],void 0===this._events[t]){if(this._events[t]=i=[],e||n)for(c=0,u=(void 0).length;c<u;c++)r=(void 0)[c],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=[].slice.call(arguments,1);if(!o(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&r(n,e),i&&r(i,arguments),this}};e.default=a},qq9i:function(t,e,n){"use strict";var i=n("kJ+Q");n.n(i).a},qqam:function(t,e,n){"use strict";var i=n("Mfd/");n.n(i).a},qywM:function(t,e,n){t.exports=n("oxns")("qywM")},r7m1:function(t,e,n){var i=n("OZSc"),o=n("JytD"),r=n("8a44"),a=n("gFkd"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,p=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!r(t)||o(t))&&(i(t)?p:s).test(a(t))}},rB5s:function(t,e,n){t.exports=n("oxns")("rB5s")},rEGp:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},rKzb:function(t,e,n){"use strict";var i=n("4syw"),o=n("8YOa").getWeakData,r=n("glrk"),a=n("hh1v"),s=n("GarU"),c=n("ImZN"),u=n("tycR"),l=n("UTVS"),d=n("afO8"),p=d.set,f=d.getterFor,h=u.find,m=u.findIndex,g=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},b=function(t,e){return h(t.entries,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var n=b(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,u){var d=t((function(t,i){s(t,d,e),p(t,{type:e,id:g++,frozen:void 0}),null!=i&&c(i,t[u],t,n)})),h=f(e),m=function(t,e,n){var i=h(t),a=o(r(e),!0);return!0===a?v(i).set(e,n):a[i.id]=n,t};return i(d.prototype,{delete:function(t){var e=h(this);if(!a(t))return!1;var n=o(t);return!0===n?v(e).delete(t):n&&l(n,e.id)&&delete n[e.id]},has:function(t){var e=h(this);if(!a(t))return!1;var n=o(t);return!0===n?v(e).has(t):n&&l(n,e.id)}}),i(d.prototype,n?{get:function(t){var e=h(this);if(a(t)){var n=o(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),d}}},rNhl:function(t,e,n){var i=n("I+eb"),o=n("fhKU");i({global:!0,forced:parseFloat!=o},{parseFloat:o})},rOQg:function(t,e,n){"use strict";var i=n("I+eb"),o=n("0Dky"),r=n("Yhre"),a=n("glrk"),s=n("I8vh"),c=n("UMSQ"),u=n("SEBh"),l=r.ArrayBuffer,d=r.DataView,p=l.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==p&&void 0===e)return p.call(a(this),t);for(var n=a(this).byteLength,i=s(t,n),o=s(void 0===e?n:e,n),r=new(u(this,l))(c(o-i)),f=new d(this),h=new d(r),m=0;i<o;)h.setUint8(m++,f.getUint8(i++));return r}})},rQYt:function(t,e,n){t.exports=n("oxns")("rQYt")},rT67:function(t,e,n){"use strict";var i=n("2Yqq");n.n(i).a},rjGc:function(t,e,n){var i=n("WWEG")["__core-js_shared__"];t.exports=i},s4An:function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return i}))},s5qe:function(t,e,n){"use strict";var i=n("2oRo"),o=n("67WC"),r=n("0Dky"),a=i.Int8Array,s=o.aTypedArray,c=o.exportTypedArrayMethod,u=[].toLocaleString,l=[].slice,d=!!a&&r((function(){u.call(new a(1))}));c("toLocaleString",(function(){return u.apply(d?l.call(s(this)):s(this),arguments)}),r((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!r((function(){a.prototype.toLocaleString.call([1,2])})))},sANG:function(t,e,n){"use strict";var i=n("C8PE");n.n(i).a},sCQ1:function(t,e){},sEfC:function(t,e,n){var i=n("GoyQ"),o=n("QIyF"),r=n("tLB3"),a=Math.max,s=Math.min;t.exports=function(t,e,n){var c,u,l,d,p,f,h=0,m=!1,g=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=c,i=u;return c=u=void 0,h=e,d=t.apply(i,n)}function b(t){return h=t,p=setTimeout(k,e),m?y(t):d}function _(t){var n=t-f;return void 0===f||n>=e||n<0||g&&t-h>=l}function k(){var t=o();if(_(t))return w(t);p=setTimeout(k,function(t){var n=e-(t-f);return g?s(n,l-(t-h)):n}(t))}function w(t){return p=void 0,v&&c?y(t):(c=u=void 0,d)}function S(){var t=o(),n=_(t);if(c=arguments,u=this,f=t,n){if(void 0===p)return b(f);if(g)return p=setTimeout(k,e),y(f)}return void 0===p&&(p=setTimeout(k,e)),d}return e=r(e)||0,i(n)&&(m=!!n.leading,l=(g="maxWait"in n)?a(r(n.maxWait)||0,e):l,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==p&&clearTimeout(p),h=0,c=f=u=p=void 0},S.flush=function(){return void 0===p?d:w(o())},S}},sGvI:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));n("zKZe");var i=n("yENu"),o=window._global;function r(t){return void 0===t&&(t={authTypeList:["mobile"]}),i.a.open(Object.assign({},t))}function a(){return o.user&&o.user.has_login}},sLM4:function(t,e,n){var i=n("MuCV"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=i((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,i,o){e.push(i?o.replace(r,"$1"):n||t)})),e}));t.exports=a},sLWy:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("yLpj"))},sPc0:function(t,e,n){"use strict";var i=n("q4Uc");n.n(i).a},sdJj:function(t,e,n){t.exports=n("oxns")("sdJj")},seXi:function(t,e,n){var i=n("qZTm"),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,r,a,s){var c=1&n,u=i(t),l=u.length;if(l!=i(e).length&&!c)return!1;for(var d=l;d--;){var p=u[d];if(!(c?p in e:o.call(e,p)))return!1}var f=s.get(t);if(f&&s.get(e))return f==e;var h=!0;s.set(t,e),s.set(e,t);for(var m=c;++d<l;){var g=t[p=u[d]],v=e[p];if(r)var y=c?r(v,g,p,e,t,s):r(g,v,p,t,e,s);if(!(void 0===y?g===v||a(g,v,n,r,s):y)){h=!1;break}m||(m="constructor"==p)}if(h&&!m){var b=t.constructor,_=e.constructor;b==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(h=!1)}return s.delete(t),s.delete(e),h}},shjB:function(t,e,n){t.exports=n("/g0A")("shjB")},sljx:function(t,e,n){t.exports=n("oxns")("sljx")},t2Dn:function(t,e,n){var i=n("hypo"),o=n("ljhN");t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&i(t,e,n)}},tLB3:function(t,e,n){var i=n("GoyQ"),o=n("/9aa"),r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=s.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):a.test(t)?NaN:+t}},tcQM:function(t,e,n){},tlDm:function(t,e,n){t.exports=n("oxns")("tlDm")},"u//0":function(t,e,n){"use strict";var i=n("P6TM");n.n(i).a},u0Mw:function(t,e,n){"use strict";var i=n("Qz6D");n.n(i).a},uebk:function(t,e,n){},ujET:function(t,e,n){t.exports=n("oxns")("ujET")},uo8u:function(t,e,n){"use strict";var i=n("k9L+");n.n(i).a},"ut/Y":function(t,e,n){var i=n("ZCpW"),o=n("GDhZ"),r=n("zZ0H"),a=n("Z0cm"),s=n("+c4W");t.exports=function(t){return"function"==typeof t?t:null==t?r:"object"==typeof t?a(t)?o(t[0],t[1]):i(t):s(t)}},uuaZ:function(t,e,n){},uy83:function(t,e,n){var i=n("0Dky");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},uzOO:function(t,e,n){t.exports=n("oxns")("uzOO")},vBum:function(t,e,n){t.exports=n("oxns")("vBum")},vDqi:function(t,e,n){t.exports=n("/g0A")("vDqi")},vFjs:function(t,e,n){"use strict";var i=n("tcQM");n.n(i).a},vNMD:function(t,e,n){t.exports=n("oxns")("vNMD")},vRJp:function(t,e,n){"use strict";t.exports={zh:{dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}},en:{dayNamesShort:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}}}},vacd:function(t,e,n){t.exports=n("oxns")("vacd")},vn9c:function(t,e,n){t.exports=n("oxns")("vn9c")},vxFG:function(t,e,n){var i=n("VKpb");t.exports=function(t,e,n){var o=null==t?void 0:i(t,e);return void 0===o?n:o}},"w/8r":function(t,e,n){var i=n("bZjE");t.exports=function(t){return i(this,t).get(t)}},"w/AA":function(t,e,n){},w4Kc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),o=i.__importDefault(n("CC68")),r=i.__importDefault(n("978+"));e.hyphenToCamel=function(t){var e=t.split("-");return e.forEach((function(t,n){var i;n>0&&(e[n]=((i=t.split(""))[0]=i[0].toUpperCase(),i.join("")))})),e.join("")};var a=function(t){return new Promise((function(e){var n=document.createElement("script");n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||e()},n.setAttribute("type","text/javascript"),n.setAttribute("src",t),document.body.appendChild(n)}))};function s(t){var e=t.url,n=t.components,a=t.pureComponents,s=t.extraData,c=t.pageQuery,u=function(){var t=o.default.parse(window.location.search),e={disable_right_icon:t.disable_right_icon,f_platform:t.f_platform,pagetype:t.pagetype,config_no_preview:t.config_no_preview,nsb:t.nsb,oid:t.oid,is_from_kolpage:t.is_from_kolpage,pageType:t.pageType};return Object.keys(e).forEach((function(t){e[t]||delete e[t]})),e}();return r.default({url:e,data:i.__assign({components:JSON.stringify(n),pureComponents:JSON.stringify(a),extraData:JSON.stringify(s)},u,c),options:{useCdn:!0,rawResponse:!1}})}e.loadScript=a,e.getCdnUrlFromServer=s,e.loadVersions=function(t){return t.reduce((function(t,e){return t.then((function(){return a(e)}))}),Promise.resolve())},e.loadComponents=function(t,n){return s(t).then((function(t){var i=t.dependencies,o=t.components,r=void 0===o?[]:o,a=t.pureComponents,s=void 0===a?[]:a;if(!i)return e.loadVersions(Object.keys(t));var c=r.concat(s);return n(i).then((function(){return e.loadVersions(c)}))}))}},w6Z4:function(t,e,n){t.exports=n("oxns")("w6Z4")},wE6v:function(t,e,n){t.exports=n("/g0A")("wE6v")},"wF/u":function(t,e,n){var i=n("e5cp"),o=n("ExA7");t.exports=function t(e,n,r,a,s){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:i(e,n,r,a,t,s))}},wJg7:function(t,e,n){t.exports=n("/g0A")("wJg7")},wVyN:function(t,e,n){"use strict";n("QWBl"),n("tkto"),n("FZtP");var i=function(){function t(){this.subs={},this.isHook=!0}var e=t.prototype;return e.get=function(t){var e=this;return Object.keys(this.subs).forEach((function(n){var i=e.subs[n].getter;t=i(t)})),t},e.call=function(t){return this.get(t)},e.tap=function(t,e){this.subs[t]={moduleName:t,getter:e}},e.tapAsync=function(t,e){throw new Error("请用 promise 来实现异步事件")},t}(),o=(n("07d7"),n("5s+n"),n("dI71")),r=function(t){function e(){return t.apply(this,arguments)||this}return Object(o.a)(e,t),e.prototype.get=function(t){var e=this,n=Promise.resolve(t);return Object.keys(this.subs).forEach((function(t){var i=e.subs[t].getter;n=n.then((function(t){return i(t)}))})),n},e}(i),a=(n("ma9I"),function(t){function e(){return t.apply(this,arguments)||this}return Object(o.a)(e,t),e.prototype.tap=function(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];if((e=t.prototype.tap).call.apply(e,[this].concat(i)),this.subs.length>=1)throw new Error("invokeHook 仅支持注册一个钩子")},e}(i));n("yXV3");var s=n("L2JU");n("Kw5r").default.use(s.default);var c=function(t){function e(){var e;(e=t.call(this)||this).subs=[];var n=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e);return e.store=new s.Store({state:{flag:!1,value:null},getters:{value:function(t){return t.flag,n.get(t.value)}}}),e}Object(o.a)(e,t);var n=e.prototype;return n.get=function(t){var e=this;return Object.keys(this.subs).forEach((function(n){var i=e.subs[n];if(i.isEmitter)t=i.isCommited?i.value:t;else{var o=i.getter(t,(function(t){i.value=t,i.isCommited=!0,i.isEmitter=!0,e.emitter()}));if(void 0===o)return i.isEmitter=!0,void(t=void 0===i.value?t:i.value);t=o}})),t},n.emitter=function(){this.store.state.flag=!this.store.state.flag},n.call=function(t){this.store.state.value=t;var e=this.store.getters,n=typeof e.value;return-1!==["string","number","boolean","symbol"].indexOf(n)||!e.value?e:e.value},n.tap=function(e,n){t.prototype.tap.call(this,e,n),this.emitter()},n.tapAsync=function(){throw new Error("ReactiveHook 不支持 tapAsync 方法")},e}(i);e.a={showTab:new c,showPrice:new c,showGoodsBottom:new c,showShareIcon:new c,showFollowShopIcon:new c,showGuaranteeBar:new c,showPldShopBadge:new c,showMultiStoreInfo:new c,showVirtualTicketIntro:new c,setDetailTabs:new c,showActivityBanner:new c,showServiceBar:new c,beforeCartSubmit:new r,afterBuy:new r,detailTabClick:new r,showSku:new a,navToIm:new a,activeTab:new a,setShareParams:new a,addCart:new a,checkAction:new a}},wWYx:function(t,e,n){},"wZ/5":function(t,e,n){"use strict";var i=n("I+eb"),o=n("2oRo"),r=n("Yhre"),a=n("JiZb"),s=r.ArrayBuffer;i({global:!0,forced:o.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},wZRv:function(t,e,n){t.exports=n("oxns")("wZRv")},waxf:function(t,e,n){"use strict";var i=n("67WC"),o=n("tycR").filter,r=n("SEBh"),a=i.aTypedArray,s=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("filter",(function(t){for(var e=o(a(this),t,arguments.length>1?arguments[1]:void 0),n=r(this,this.constructor),i=0,c=e.length,u=new(s(n))(c);c>i;)u[i]=e[i++];return u}))},wclG:function(t,e,n){var i=n("pFRH"),o=n("88Gu")(i);t.exports=o},wg0c:function(t,e,n){var i=n("2oRo"),o=n("WKiH").trim,r=n("WJkJ"),a=i.parseInt,s=/^[+-]?0[Xx]/,c=8!==a(r+"08")||22!==a(r+"0x16");t.exports=c?function(t,e){var n=o(String(t));return a(n,e>>>0||(s.test(n)?16:10))}:a},wjs5:function(t,e,n){"use strict";var i=n("XPpk");n.n(i).a},wuvP:function(t,e,n){"use strict";var i=n("dqo1");n.n(i).a},x0AG:function(t,e,n){"use strict";var i=n("I+eb"),o=n("tycR").findIndex,r=n("RNIs"),a=n("rkAj"),s=!0,c=a("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),i({target:"Array",proto:!0,forced:s||!c},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r("findIndex")},x7Zg:function(t,e,n){"use strict";var i={name:"ContentPop",mixins:[n("dNwI").a],props:{title:String,showCloseIcon:{type:Boolean,default:!0},showButton:{type:Boolean,default:!0},buttonText:{type:String,default:"我知道了"}}},o=(n("ELss"),n("KHd+")),r=Object(o.default)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[t._t("title",[t.title?n("div",{staticClass:"goods-popup__header"},[n("h3",{staticClass:"goods-popup__header-title"},[t._v(t._s(t.title))]),t.showCloseIcon?n("van-icon",{attrs:{name:"close"},on:{click:t.handleCloseModal}}):t._e()],1):t._e()]),t._t("default"),t.showButton?n("van-button",{attrs:{type:"primary"},on:{click:t.handleCloseModal}},[t._v("\n    "+t._s(t.buttonText)+"\n  ")]):t._e()],2)}),[],!1,null,null,null);e.a=r.exports},xS4f:function(t,e,n){t.exports=n("/g0A")("xS4f")},xTCO:function(t,e,n){"use strict";var i=n("SZR4");n.n(i).a},xYSL:function(t,e){t.exports=function(t,e){return t.has(e)}},xYxq:function(t,e,n){},xkGU:function(t,e,n){t.exports=n("bNQv")},y1as:function(t,e,n){},yBPy:function(t,e,n){"use strict";var i,o,r=(i=new Date,o=+i,function(t,e){if(void 0===e)return function(t){var e=document.cookie,n="\\b"+t+"=",i=e.search(n);if(i<0)return"";i+=n.length-2;var o=e.indexOf(";",i);return o<0&&(o=e.length),e.substring(i,o)||""}(t);if("string"==typeof e||e instanceof String){if(e)return document.cookie=t+"="+e+";",e;e={expires:-100}}var n=t+"="+((e=e||{}).value||"")+";";delete e.value,void 0!==e.expires&&(i.setTime(o+864e5*e.expires),e.expires=i.toGMTString()),n+=function(t,e,n){if(!t)return"";var i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(encodeURIComponent(o)+"="+(n?encodeURIComponent(t[o]):t[o]));return i.join(e||",")}(e,";"),document.cookie=n});t.exports=r},yENu:function(t,e,n){"use strict";var i=n("0l8F"),o=window._userInfoAuthorize;o||(window._userInfoAuthorize=o=new i.a({appId:"user-info-authorize",version:"0.0.10",host:/youzan\.com$/.test(location.host)?"https://passport.youzan.com":"",pagePath:"/passport/authorize-dialog",initPath:"/passport/authorize-dialog-callback",logPath:"/passport/log.json",loadingPic:"https://b.yzcdn.cn/public_files/884bca7afb1648427462e9180ecb1dcc.gif",uploadLog:!0})),e.a=o},yEuK:function(t,e,n){"use strict";var i=n("pDob");n.n(i).a},yLpj:function(t,e,n){t.exports=n("oxns")("yLpj")},yP5f:function(t,e,n){t.exports=n("/g0A")("yP5f")},ypFw:function(t,e,n){"use strict";var i=n("67WC"),o=n("1Y/n").left,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",(function(t){return o(r(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},"z/L7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("w4Kc");e.default=function(t){window.__h5Cpns||(window.__h5Cpns={}),window.__h5Cpns[i.hyphenToCamel(t.id)]=t.app}},"z6+S":function(t,e,n){"use strict";var i=n("HK8H");n.n(i).a},zIKK:function(t,e,n){},zLVn:function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}n.d(e,"a",(function(){return i}))},zSZm:function(t,e,n){"use strict";var i=n("67WC"),o=i.aTypedArray,r=i.exportTypedArrayMethod,a=Math.floor;r("reverse",(function(){for(var t,e=o(this).length,n=a(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this}))},zXJe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("DxeB");t.exports=function(t,e,n){if(void 0===n&&(n={}),t){if(t.match(/^data:/i))return t;if(!n.imgcdn&&!n.imgqn){var o=window._global&&window._global.url||{};n.imgcdn=o.imgqn||o.imgcdn}var r=n.imgcdn||n.imgqn||"https://img.yzcdn.cn",a=[/^(https?:)?\/\/imgqn.koudaitong.com/,/^(https?:)?\/\/kdt-img.koudaitong.com/,/^(https?:)?\/\/img.yzcdn.cn/,/^(https?:)?\/\/dn-kdt-img.qbox.me/];e=i.ruleAdapter(t,e);for(var s=0;s<a.length;s++)t=t.replace(a[s],r);if((t=t.replace("imgqntest.koudaitong.com","dn-kdt-img-test.qbox.me")).match(/^(https?:)?\/\//i)){if(!t.match(r)&&!t.match("dn-kdt-img-test.qbox.me"))return t;t.match("!")||(t=""+t+e)}else t=r+"/"+t+e;return!1!==n.toWebp&&(t=i.urlAdaptor(t,n)),t}}},zZ0H:function(t,e){t.exports=function(t){return t}},zbIG:function(t,e,n){},zgj4:function(t,e,n){var i=n("nRFV"),o=Object.prototype,r=o.hasOwnProperty,a=o.toString,s=i?i.toStringTag:void 0;t.exports=function(t){var e=r.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var o=a.call(t);return i&&(e?t[s]=n:delete t[s]),o}},zxkh:function(t,e,n){var i=n("nRFV"),o=n("/Nw+"),r=n("FPxf"),a=n("O/Ss"),s=i?i.prototype:void 0,c=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(r(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}}},[[0,0]]]);