(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"01eI":function(e,t,s){"use strict";s.r(t);s("pDQq"),s("sCQ1");var o,i=s("Zyfl"),n=(s("Swqd"),s("K7G7")),l=(s("eER5"),s("VZZB")),a=(s("wZRv"),s("d0T1")),d=s("d9Jj"),c=s("f4ya"),r=s.n(c),p=s("icrw"),u={name:"recommend-plugin-block",getters:["kdtId","showOriginPrice"],state:["goods","multistore","shopConfig"],components:(o={},o[a.default.name]=a.default,o[l.default.name]=l.default,o[n.default.name]=n.default,o["goods-list"]=i.a,o),data:function(){return{swipeDataList:[],swipeHeight:"100%"}},computed:{jumpUrl:function(){return r.a.add("/wscgoods/top-recommend",{kdtId:this.kdtId,alias:this.goods.alias,title:this.goods.title,picture:this.goods.picture,price:this.goods.price,goodsId:this.goods.id,originPrice:this.showOriginPrice.price,offlineId:this.multistore.id,originLable:this.showOriginPrice.label})}},methods:{onComponentShow:function(){this.shopConfig.openRecommendForYou&&this.fetchList()},fetchList:function(){var e=this;d.a.post({url:"/wscgoods/postRecommendResult.json",data:{pageSize:24,pageNum:1,storeId:this.multistore.id,kdtId:this.kdtId,goodsIds:[this.goods.id],scene:"wsc~g~associate"}}).then((function(t){var s=(t||{}).list,o=void 0===s?[]:s,i=[],n=[],l=o.length;l<6&&(o=o.splice(0,3)),l%6&&l>6&&(o=o.splice(0,l-l%6)),o=Object(p.a)(o,e.kdtId,{spm:(_global.spm&&_global.spm.logType)+"."+e.goods.id,biz:"goods_asso"},{name:"goods_asso",text:"为你推荐"});for(var a=0;a<o.length;a++)n.push(o[a]),(a+1)%6==0&&(i.push(n),n=[]);n.length>0&&i.push(n),e.swipeDataList=i,i.length>0&&e.$nextTick((function(){e.swipeHeight=e.$refs.vanSwipe.$el.offsetHeight+"px"}))}))}}},g=(s("uNDz"),s("KHd+")),h=Object(g.default)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("lazy-component",{on:{show:e.onComponentShow}},[e.swipeDataList.length&&e.shopConfig.openRecommendForYou?s("div",{staticClass:"recommend-plugin-block"},[s("van-cell",{staticClass:"recommend-plugin-block__cell",attrs:{url:e.jumpUrl,border:!1,"is-link":"",title:"为你推荐",value:"查看全部","title-class":"recommend-plugin-block__cell-title","value-class":"recommend-plugin-block__cell-value"}}),s("van-swipe",{ref:"vanSwipe",attrs:{loop:!1}},e._l(e.swipeDataList,(function(t,o){return s("van-swipe-item",{key:o+"1",style:{height:e.swipeHeight}},[s("goods-list",{attrs:{list:t,layout:5,"goods-margin":8,"size-type":2,"page-margin":16,"border-radius-type":2,"image-fill-style":2,"show-sub-title":!1,"show-buy-button":!1,"text-style-type":1,"show-title":!0,"show-price":!0}})],1)})),1)],1):e._e()])}),[],!1,null,"e21641ea",null);t.default=h.exports},ShK7:function(e,t,s){},uNDz:function(e,t,s){"use strict";var o=s("ShK7");s.n(o).a}}]);